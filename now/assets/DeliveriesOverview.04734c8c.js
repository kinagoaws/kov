import{u as j,Q as te}from"./QCircularProgress.c739f372.js";import{T as ae}from"./TouchPan.b989d673.js";import{x as le,aE as oe,r as p,c as n,w as se,ao as ne,aW as ie,bi as re,aB as de,g as ue,h as ce,_ as ve,q as B,Z as D,ae as a,j as u,v as _,bq as O,a0 as T,a1 as b,ak as S}from"./index.5da0f878.js";import{b as N,n as z}from"./format.de7e9769.js";import{Q as E}from"./QSkeleton.846fbbc5.js";import{D as me}from"./DeliveryOverviewStore.9cb1cb5d.js";import"./selection.a405500a.js";const I=[34,37,40,33,39,38],fe=Object.keys(j);var K=le({name:"QKnob",props:{...oe,...j,modelValue:{type:Number,required:!0},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},tabindex:{type:[Number,String],default:0},disable:Boolean,readonly:Boolean},emits:["update:modelValue","change","dragValue"],setup(e,{slots:c,emit:k}){const{proxy:o}=ue(),{$q:q}=o,i=p(e.modelValue),v=p(!1),m=n(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),g=n(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax);let f;function F(){i.value=e.modelValue===null?m.value:N(e.modelValue,m.value,g.value),y(!0)}se(()=>`${e.modelValue}|${m.value}|${g.value}`,F),F();const h=n(()=>e.disable===!1&&e.readonly===!1),A=n(()=>"q-knob non-selectable"+(h.value===!0?" q-knob--editable":e.disable===!0?" disabled":"")),P=n(()=>(String(e.step).trim().split(".")[1]||"").length),x=n(()=>e.step===0?1:e.step),$=n(()=>e.instantFeedback===!0||v.value===!0),U=q.platform.is.mobile===!0?n(()=>h.value===!0?{onClick:Q}:{}):n(()=>h.value===!0?{onMousedown:H,onClick:Q,onKeydown:J,onKeyup:L}:{}),R=n(()=>h.value===!0?{tabindex:e.tabindex}:{[`aria-${e.disable===!0?"disabled":"readonly"}`]:"true"}),W=n(()=>{const t={};return fe.forEach(s=>{t[s]=e[s]}),t});function Z(t){t.isFinal?(w(t.evt,!0),v.value=!1):(t.isFirst&&(M(),v.value=!0),w(t.evt))}const G=n(()=>[[ae,Z,void 0,{prevent:!0,stop:!0,mouse:!0}]]);function M(){const{top:t,left:s,width:d,height:V}=o.$el.getBoundingClientRect();f={top:t+V/2,left:s+d/2}}function H(t){M(),w(t)}function Q(t){M(),w(t,!0)}function J(t){if(I.includes(t.keyCode)===!1)return;ne(t);const s=([34,33].includes(t.keyCode)?10:1)*x.value,d=[34,37,40].includes(t.keyCode)?-s:s;i.value=N(parseFloat((i.value+d).toFixed(P.value)),m.value,g.value),y()}function w(t,s){const d=ie(t),V=Math.abs(d.top-f.top),ee=Math.sqrt(V**2+Math.abs(d.left-f.left)**2);let l=Math.asin(V/ee)*(180/Math.PI);d.top<f.top?l=f.left<d.left?90-l:270+l:l=f.left<d.left?l+90:270-l,q.lang.rtl===!0?l=z(-l-e.angle,0,360):e.angle&&(l=z(l-e.angle,0,360)),e.reverse===!0&&(l=360-l);let r=e.min+l/360*(e.max-e.min);if(x.value!==0){const C=r%x.value;r=r-C+(Math.abs(C)>=x.value/2?(C<0?-1:1)*x.value:0),r=parseFloat(r.toFixed(P.value))}r=N(r,m.value,g.value),k("dragValue",r),i.value!==r&&(i.value=r),y(s)}function L(t){I.includes(t.keyCode)&&y(!0)}function y(t){e.modelValue!==i.value&&k("update:modelValue",i.value),t===!0&&k("change",i.value)}const X=re(e);function Y(){return ce("input",X.value)}return()=>{const t={class:A.value,role:"slider","aria-valuemin":m.value,"aria-valuemax":g.value,"aria-valuenow":e.modelValue,...R.value,...W.value,value:i.value,instantFeedback:$.value,...U.value},s={default:c.default};return h.value===!0&&e.name!==void 0&&(s.internal=Y),de(te,t,s,"knob",h.value,()=>G.value)}}});const he={name:"DeliveriesOverview",props:["refresh"],setup(){return{store:me()}},watch:{refresh(e,c){e&&this.store.deliveriesOverview()}},created(){Object.keys(this.store.data).length<=0&&this.store.deliveriesOverview()}},_e={key:0,class:"row items-center q-gutter-sm q-pl-md q-pr-md"},be={class:"col"},ge={class:"flex flex-center full-width q-gutter-sm"},xe={class:""},we={class:""},ke={class:"font15 text-weight-bold"},ye={class:"text-h5 text-center"},Ve={class:"col"},qe={class:"flex flex-center full-width q-gutter-sm"},Me={class:""},Ce={class:""},Ne={class:"font15 text-weight-bold"},Fe={class:"text-h5 text-center"},Pe={key:1,class:"row items-center q-gutter-sm q-pl-md q-pr-md"},Qe={class:"col-4"},pe={class:"col"};function Be(e,c,k,o,q,i){return o.store.loading?(B(),D("div",Pe,[a("div",Qe,[u(E,{height:"100px",square:""})]),a("div",pe,[u(E,{height:"100px",square:""})])])):(B(),D("div",_e,[a("div",be,[u(S,{class:"no-shadow bg-orange-7 rounded-borders"},{default:_(()=>[u(O,{class:"q-pa-none"},{default:_(()=>[a("div",ge,[a("div",xe,[u(K,{min:0,max:100,modelValue:o.store.data.total_delivered_percent,"onUpdate:modelValue":c[0]||(c[0]=v=>o.store.data.total_delivered_percent=v),"show-value":"",size:"50px",thickness:.22,color:"blue","track-color":"grey-3",class:"q-ma-md"},{default:_(()=>[T(b(o.store.data.total_delivered_percent)+"% ",1)]),_:1},8,["modelValue"])]),a("div",we,[a("div",ke,b(e.$t("Total Delivered")),1),a("div",ye,b(o.store.data.total_delivered),1)])])]),_:1})]),_:1})]),a("div",Ve,[u(S,{class:"no-shadow bg-green-4 rounded-borders"},{default:_(()=>[u(O,{class:"q-pa-none"},{default:_(()=>[a("div",qe,[a("div",Me,[u(K,{min:0,max:100,modelValue:o.store.data.total_tip_percent,"onUpdate:modelValue":c[1]||(c[1]=v=>o.store.data.total_tip_percent=v),"show-value":"",size:"50px",thickness:.22,color:"yellow","track-color":"grey-3",class:"q-ma-md"},{default:_(()=>[T(b(o.store.data.total_tip_percent)+"% ",1)]),_:1},8,["modelValue"])]),a("div",Ce,[a("div",Ne,b(e.$t("Total Tips")),1),a("div",Fe,b(o.store.data.total_tip),1)])])]),_:1})]),_:1})])]))}var Ke=ve(he,[["render",Be]]);export{Ke as default};
