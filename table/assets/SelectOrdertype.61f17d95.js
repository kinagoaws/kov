import{_,Q as f,R as y,V as r,n as c,Z as d,f as s,q as i,F as u,Y as h,X as o,ad as m,a0 as p,ai as b,ap as $}from"./index.e99838a1.js";import{Q as v}from"./QToolbar.cd1cebda.js";import{Q as x}from"./QHeader.64134c48.js";import{Q as S}from"./QPage.b16eab69.js";import"./QResizeObserver.09466951.js";const T={name:"SelectOrdertype",setup(){const e=f(),t=y();return{RestaurantStore:e,DataPersisted:t}},mounted(){this.DataPersisted.auth()&&(this.RestaurantStore.MerchantSettings(),this.RestaurantStore.getSendOrders(this.DataPersisted.cart_uuid))},methods:{setTransactionType(e){console.log("transaction_type",this.RestaurantStore.send_order_data);const t=this.RestaurantStore.send_order_data&&this.RestaurantStore.send_order_data?this.RestaurantStore.send_order_data.transaction_type:null;console.log("transaction_type",t),r.empty(t)?this.setTransaction(e):t!=e.service_code?this.$q.dialog({class:"bg-coffee text-cream text-body1",title:this.$t("Are you sure about to change your transaction type?"),message:"<span class='text-body1 text-weight-bold'>"+this.$t("Disclaimer")+"</span> : <span class='text-body2'>"+this.$t("Once confirm, you cannot change this anymore")+"</span>",html:!0,cancel:!0,persistent:!0,ok:{unelevated:!0,color:"cream",rounded:!1,"text-color":"maroon",size:"lg",label:this.$t("Yes"),"no-caps":!0,class:"text-weight-bold radius6 border-mmaroon"},cancel:{unelevated:!0,color:"lightmaroon",flat:!1,rounded:!1,size:"lg",label:this.$t("No"),"no-caps":!0,class:"text-weight-bold radius6 border-lightmaroon"}}).onOk(()=>{this.updateTransactionType(e)}).onCancel(()=>{}).onDismiss(()=>{}):this.setTransaction(e)},updateTransactionType(e){r.showLoadingBox("Processing your request",this.$q);let t="transaction_type="+e.service_code+"&cart_uuid="+this.DataPersisted.cart_uuid;r.fetchDataPost("updateTransactionType",t).then(n=>{this.setTransaction(e)}).catch(n=>{r.notify(this.$q,this.$t("Error"),n,"myerror","highlight_off","bottom")}).then(n=>{r.hideLoadingBox(this.$q)})},setTransaction(e){this.DataPersisted.transaction_type=e.service_code,e.service_code=="dinein"?this.$router.push("/enter-guest"):this.$router.push("/menu")}}},q={class:"text-center"},k={class:"row items-center justify-center"},w={class:"q-pa-md"},R={class:"text-weight-bold"};function D(e,t,n,l,P,g){return c(),d(u,null,[s(x,{class:"bg-darkmaroon text-white"},{default:i(()=>[s(v,null,{default:i(()=>[s(h,{onClick:t[0]||(t[0]=a=>e.$router.back()),dense:"",icon:"eva-arrow-ios-back-outline",unelevated:"",label:e.$t("Back"),"no-caps":"",size:e.$q.screen.gt.sm?"lg":"15px"},null,8,["label","size"])]),_:1})]),_:1}),s(S,{padding:"",class:"flex flex-center bg-darkmaroon text-white"},{default:i(()=>[o("div",q,[o("div",{class:m(["text-weight-bold q-mb-md line-normal",{"text-h5":e.$q.screen.gt.sm,"text-h6":e.$q.screen.lt.sm}])},p(e.$t("How will you enjoy your meal today"))+"? ",3),o("div",k,[(c(!0),d(u,null,b(l.RestaurantStore.getMerchantServiceList,a=>(c(),d("div",{key:a,class:"col-md-5 col-sm-3 q-pa-sm"},[s(h,{color:"cream","text-color":"primary","no-caps":"",unelevated:"",size:e.$q.screen.gt.sm?"lg":"15px",class:m(["rounded-borders",{"box-extra-large":e.$q.screen.gt.sm}]),onClick:Q=>g.setTransactionType(a),disabled:l.RestaurantStore.send_order_loading},{default:i(()=>[o("div",w,[s($,{name:l.RestaurantStore.transaction_icons[a.service_code],size:"xl"},null,8,["name"]),o("div",R,p(a.service_name),1)])]),_:2},1032,["size","class","onClick","disabled"])]))),128))])])]),_:1})],64)}var N=_(T,[["render",D]]);export{N as default};
