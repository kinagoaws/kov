import{P as E,u as _,_ as h,V as t,n as f,p as N,Y as A}from"./index.e99838a1.js";import"./index.daefaae0.js";var r;(function(i){i.Aztec="AZTEC",i.Codabar="CODABAR",i.Code39="CODE_39",i.Code93="CODE_93",i.Code128="CODE_128",i.DataMatrix="DATA_MATRIX",i.Ean8="EAN_8",i.Ean13="EAN_13",i.Itf="ITF",i.Pdf417="PDF_417",i.QrCode="QR_CODE",i.UpcA="UPC_A",i.UpcE="UPC_E"})(r||(r={}));var n;(function(i){i.CalendarEvent="CALENDAR_EVENT",i.ContactInfo="CONTACT_INFO",i.DriversLicense="DRIVERS_LICENSE",i.Email="EMAIL",i.Geo="GEO",i.Isbn="ISBN",i.Phone="PHONE",i.Product="PRODUCT",i.Sms="SMS",i.Text="TEXT",i.Url="URL",i.Wifi="WIFI",i.Unknown="UNKNOWN"})(n||(n={}));var e;(function(i){i.Front="FRONT",i.Back="BACK"})(e||(e={}));var c;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.PENDING=1]="PENDING",i[i.DOWNLOADING=2]="DOWNLOADING",i[i.CANCELED=3]="CANCELED",i[i.COMPLETED=4]="COMPLETED",i[i.FAILED=5]="FAILED",i[i.INSTALLING=6]="INSTALLING",i[i.DOWNLOAD_PAUSED=7]="DOWNLOAD_PAUSED"})(c||(c={}));const s=E("BarcodeScanner",{web:()=>_(()=>import("./web.2aee54c5.js"),["assets/web.2aee54c5.js","assets/index.e99838a1.js","assets/index.1028cef9.css"]).then(i=>new i.BarcodeScannerWeb)}),D={name:"QrcodeScanner",data(){return{qrcode_value:""}},mounted(){},methods:{test(){this.$emit("afterScan",this.qrcode_value)},async scanQrcode(){try{await s.isSupported()?this.requestPermission():t.notify(this.$q,this.$t("Error"),this.$t("Device does not support qrcode scanner"),"myerror","highlight_off","bottom")}catch(i){t.notify(this.$q,this.$t("Error"),i,"myerror","highlight_off","bottom")}},async requestPermission(){const i=await s.requestPermissions();i.camera=="granted"||i.camera=="limited"?this.isGoogleBarcodeScannerModuleAvailable():t.notify(this.$q,this.$t("Error"),JSON.stringify(i),"myerror","highlight_off","bottom")},async isGoogleBarcodeScannerModuleAvailable(){(await s.isGoogleBarcodeScannerModuleAvailable()).available?this.startScan():this.installGoogleBarcodeScannerModule()},async installGoogleBarcodeScannerModule(){await s.installGoogleBarcodeScannerModule(),setTimeout(()=>{this.isGoogleBarcodeScannerModuleAvailable()},300)},async startScan(){try{const i=await s.scan();console.log(i),console.log("QRCODE ",i.barcodes[0].displayValue),this.qrcode_value=i.barcodes[0].displayValue,setTimeout(()=>{this.$emit("afterScan",this.qrcode_value)},300)}catch(i){console.log("ERROR=>>>>",i),i!="Error: scan canceled."&&t.notify(this.$q,this.$t("Error"),i,"myerror","highlight_off","bottom")}}}};function C(i,O,a,P,v,o){return f(),N(A,{color:"secondary","text-color":"primary","no-caps":"",icon:"fas fa-qrcode",class:"radius6",size:i.$q.screen.gt.sm?"xl":"lg",dense:"",unelevated:"",onClick:o.scanQrcode},null,8,["size","onClick"])}var u=h(D,[["render",C]]);export{u as default};
