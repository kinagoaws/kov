import{_ as p,aA as k,A as n,n as b,p as s,q as u,t as i,f as a,a4 as Q,Z as h,$ as t,a2 as l,F as m,au as w,a0 as q,a1 as _,ar as r,a3 as y,aB as D,a6 as T,a7 as A}from"./index.c29f7992.js";import{Q as $}from"./QToolbarTitle.38b5862b.js";import{Q as O}from"./QToolbar.19752286.js";import{Q as x}from"./QHeader.8a0fa205.js";import{Q as B}from"./QInnerLoading.d034c390.js";import{Q as I}from"./QLinearProgress.1ae2a418.js";import{Q as P}from"./QSpace.0d53e539.js";import{Q as v}from"./QItemLabel.1db45aa2.js";import{Q as S}from"./QList.04c37cb8.js";import{Q as C}from"./QPage.1b02519d.js";import{Q as L}from"./QPullToRefresh.9f003a0c.js";import"./QResizeObserver.0e413222.js";import"./TouchPan.5fac99c8.js";import"./touch.9135741d.js";import"./selection.53b1fe34.js";import"./format.de7e9769.js";const N={name:"OverviewInfo",components:{TableSummary:k(()=>D(()=>import("./TableSummary.454f9038.js"),["assets/TableSummary.454f9038.js","assets/QSkeleton.81a2bab8.js","assets/index.c29f7992.js","assets/index.8924bfb8.css","assets/swiper.min.38e7e8ee.js","assets/swiper.min.b39a1361.css"]))},data(){return{id:"",loading:!1,data:[],data_summary:[],loading_summary:!1,data_activity:[],data_done:void 0}},mounted(){this.id=this.$route.query.id,n.empty(this.id)||(this.getDriverOverview(),this.getDriverActivity())},computed:{hasData(){return Object.keys(this.data).length>0},hasActivity(){return Object.keys(this.data_activity).length>0}},methods:{refresh(e){this.data_done=e,this.getDriverOverview()},getDriverActivity(){n.fetchDataByTokenPost("getDriverActivity","id="+this.id).then(e=>{this.data_activity=e.details.data}).catch(e=>{}).then(e=>{})},getDriverOverview(){n.empty(this.data_done)&&(this.loading=!0),n.fetchDataByTokenPost("getDriverOverview","id="+this.id).then(e=>{this.data=e.details,this.data_summary.push({label:this.$t("Total earnings"),value:this.data.wallet_balance}),this.data_summary.push({label:this.$t("Total Delivered"),value:this.data.total_delivered}),this.data_summary.push({label:this.$t("Total Tips"),value:this.data.total_tip})}).catch(e=>{n.notify("red-5",e,"error_outline",this.$q)}).then(e=>{this.loading=!1,n.empty(this.data_done)||this.data_done()})}}},V={class:"row q-gutter-sm"},R={class:"col-3"},j={class:"text-h5"},z={class:"text-caption line-normal"},E={class:"col q-gutter-y-sm"},F={class:"flex justify-between font11"},H={class:"border-grey radius8 q-mb-md"},Z={class:"text-h6"},G={key:1},J={class:"text-center q-pa-lg"},K={class:"text-grey"},M={key:1,class:"text-grey"};function U(e,f,W,X,d,c){const g=b("TableSummary");return s(),u(L,{onRefresh:c.refresh},{default:i(()=>[a(x,{class:_({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:i(()=>[a(O,null,{default:i(()=>[a(Q,{onClick:f[0]||(f[0]=o=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),a($,{class:"text-weight-bold"},{default:i(()=>[h(t(e.$t("Overview"))+" ",1),c.hasData?(s(),l(m,{key:0},[h(" - "+t(d.data.first_name)+" "+t(d.data.last_name),1)],64)):w("",!0)]),_:1})]),_:1}),a(q)]),_:1},8,["class"]),a(C,{class:_([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode,"flex flex-center":!c.hasData&&!d.loading},"q-pa-md"])},{default:i(()=>[d.loading?(s(),u(B,{key:0,showing:!0,color:"primary",size:"md"})):(s(),l(m,{key:1},[c.hasData?(s(),l(m,{key:0},[r("div",{class:_(["radius8 bg-grey-1x q-pa-sm",{"bg-grey600 text-white":e.$q.dark.mode,"bg-grey-1":!e.$q.dark.mode}])},[r("div",V,[r("div",R,[r("div",j,t(d.data.total),1),r("div",z,t(e.$t("Total reviews")),1)]),r("div",E,[(s(!0),l(m,null,y(d.data.review_summary,o=>(s(),l(m,{key:o},[r("div",F,[r("div",null,t(o.count)+" "+t(e.$t("star")),1),r("div",null,t(o.in_percent),1)]),a(I,{size:"md",value:o.review/100,color:"green",class:"q-ma-none"},null,8,["value"])],64))),128))])])],2),a(P,{class:"q-pa-md"}),r("div",H,[a(g,{ref:"table_summary",loading:d.loading_summary,data:d.data_summary,bg_color:"bg-grey-1",concat:!1,set_slide:2.6},null,8,["loading","data"])]),r("div",Z,t(e.$t("Activities")),1),c.hasActivity?(s(),u(S,{key:0,separator:""},{default:i(()=>[(s(!0),l(m,null,y(d.data_activity,o=>(s(),u(T,{key:o},{default:i(()=>[a(A,{top:""},{default:i(()=>[a(v,{class:"text-dark"},{default:i(()=>[h(t(o.created_at),1)]),_:2},1024),a(v,{caption:""},{default:i(()=>[h(t(o.order_id),1)]),_:2},1024),a(v,{caption:""},{default:i(()=>[h(t(o.remarks),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(s(),l("div",G,[r("div",J,[r("div",K,t(e.$t("No available data")),1)])]))],64)):(s(),l("div",M,t(e.$t("No available data")),1))],64))]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var ve=p(N,[["render",U]]);export{ve as default};
