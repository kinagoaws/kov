import{_ as b,u as _,A as l,p as n,a2 as d,f as a,t as r,a1 as p,F as u,a4 as h,Z as c,$ as f,a0 as k,q as g,ar as y,av as o}from"./index.c29f7992.js";import{Q as V}from"./QToolbarTitle.38b5862b.js";import{Q as q}from"./QToolbar.19752286.js";import{Q}from"./QHeader.8a0fa205.js";import{Q as $}from"./QInnerLoading.d034c390.js";import{Q as D}from"./QSelect.ae814dfc.js";import{Q as w}from"./QSpace.0d53e539.js";import{Q as S}from"./QFooter.478b051a.js";import{Q as T}from"./QForm.32515fc9.js";import{Q as v}from"./QPage.1b02519d.js";import"./QResizeObserver.0e413222.js";import"./QChip.5de2d333.js";import"./QItemLabel.1db45aa2.js";import"./QMenu.074d3579.js";import"./selection.53b1fe34.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";const B={name:"ReviewManage",components:{},data(){return{id:"",data:[],loading:!1,shipping_type:"standard",distance_from:0,distance_to:0,distance_price:0,estimation:"",minimum_order:0,maximum_order:0,shipping_list:[{value:"standard",label:this.$t("Standard")},{value:"priority",label:this.$t("Priority")},{value:"no_rush",label:this.$t("No rush")}]}},setup(){return{DataStore:_()}},mounted(){this.id=this.$route.query.id,l.empty(this.id)||this.getData()},computed:{isEdit(){return!l.empty(this.id)},hasData(){return Object.keys(this.data).length>0},CheckData(){return!l.empty(this.id)&&Object.keys(this.data).length<=0}},methods:{getData(){this.loading=!0,l.fetchDataByTokenPost("getDynamicRates","id="+this.id).then(e=>{this.data=e.details,this.shipping_type=e.details.shipping_type,this.distance_from=e.details.distance_from,this.distance_to=e.details.distance_to,this.distance_price=e.details.distance_price,this.estimation=e.details.estimation,this.minimum_order=e.details.minimum_order,this.maximum_order=e.details.maximum_order}).catch(e=>{l.notify("red-5",e,"error_outline",this.$q)}).then(e=>{this.loading=!1})},formSubmit(){let e={id:this.id,shipping_type:this.shipping_type,distance_from:this.distance_from,distance_to:this.distance_to,distance_price:this.distance_price,estimation:this.estimation,minimum_order:this.minimum_order,maximum_order:this.maximum_order};l.showLoadingBox("",this.$q),l.fetchDataByTokenPost(l.empty(this.id)?"AddDynamicRates":"UpdateDynamicRates",e).then(i=>{l.notify("light-green",i.msg,"check_circle",this.$q),this.$router.replace({path:"/services/charges_table"})}).catch(i=>{l.notify("red-5",i,"error_outline",this.$q)}).then(i=>{l.hideLoadingBox(this.$q)})}}},U={class:"row q-gutter-x-sm"},x={class:"row q-gutter-x-sm"};function C(e,i,R,P,s,m){return n(),d(u,null,[a(Q,{class:p({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:r(()=>[a(q,null,{default:r(()=>[a(h,{onClick:i[0]||(i[0]=t=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),a(V,{class:"text-weight-bold"},{default:r(()=>[m.isEdit?(n(),d(u,{key:0},[c(f(e.$t("Update Charges Rates")),1)],64)):(n(),d(u,{key:1},[c(f(e.$t("Add Charges Rates")),1)],64))]),_:1})]),_:1}),a(k)]),_:1},8,["class"]),a(v,{class:p([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode},"q-pa-md"])},{default:r(()=>[s.loading?(n(),g($,{key:0,showing:!0,color:"primary",size:"md"})):(n(),g(T,{key:1,onSubmit:m.formSubmit},{default:r(()=>[a(D,{modelValue:s.shipping_type,"onUpdate:modelValue":i[1]||(i[1]=t=>s.shipping_type=t),label:e.$t("Shipping Type"),options:s.shipping_list,"stack-label":"",behavior:"dialog",outlined:"",color:"grey-5","emit-value":"","map-options":"",rules:[t=>t&&t.length>0||this.$t("This field is required")]},null,8,["modelValue","label","options","rules"]),y("div",U,[a(o,{modelValue:s.distance_from,"onUpdate:modelValue":i[2]||(i[2]=t=>s.distance_from=t),type:"number",step:"any",label:e.$t("From"),"stack-label":"",outlined:"",color:"grey-5",rules:[t=>t&&t>0||this.$t("This field is required")],class:"col"},null,8,["modelValue","label","rules"]),a(o,{modelValue:s.distance_to,"onUpdate:modelValue":i[3]||(i[3]=t=>s.distance_to=t),type:"number",step:"any",label:e.$t("To"),"stack-label":"",outlined:"",color:"grey-5",rules:[t=>t&&t>0||this.$t("This field is required")],class:"col"},null,8,["modelValue","label","rules"])]),a(o,{modelValue:s.distance_price,"onUpdate:modelValue":i[4]||(i[4]=t=>s.distance_price=t),type:"number",step:"any",label:e.$t("Price"),"stack-label":"",outlined:"",color:"grey-5",rules:[t=>t&&t>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),a(o,{modelValue:s.estimation,"onUpdate:modelValue":i[5]||(i[5]=t=>s.estimation=t),label:e.$t("Delivery estimation"),"stack-label":"",outlined:"",color:"grey-5",rules:[t=>t&&t.length>0||this.$t("This field is required")],hint:e.$t("in minutes example 10-20mins"),mask:"##-##"},null,8,["modelValue","label","rules","hint"]),a(w,{class:"q-pa-sm"}),y("div",x,[a(o,{modelValue:s.minimum_order,"onUpdate:modelValue":i[6]||(i[6]=t=>s.minimum_order=t),type:"number",step:"any",label:e.$t("Minimum Order"),"stack-label":"",outlined:"",color:"grey-5",class:"col"},null,8,["modelValue","label"]),a(o,{modelValue:s.maximum_order,"onUpdate:modelValue":i[7]||(i[7]=t=>s.maximum_order=t),type:"number",step:"any",label:e.$t("Maximum Order"),"stack-label":"",outlined:"",color:"grey-5",class:"col"},null,8,["modelValue","label"])]),a(S,null,{default:r(()=>[a(h,{type:"submit",color:"primary","text-color":"white",label:e.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":"",disable:m.CheckData},null,8,["label","disable"])]),_:1})]),_:1},8,["onSubmit"]))]),_:1},8,["class"])],64)}var Y=b(B,[["render",C]]);export{Y as default};
