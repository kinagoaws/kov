import{_ as Q,aA as v,u as q,A as _,n as w,p as s,q as h,t as r,f as a,a4 as p,Z as u,$ as l,a0 as x,a1 as k,ar as i,av as D,ae as C,au as f,a2 as d,F as S,a3 as T,aB as B,a6 as V,a7 as g}from"./index.c29f7992.js";import{Q as I}from"./QToolbarTitle.38b5862b.js";import{Q as P}from"./QToolbar.19752286.js";import{Q as A}from"./QHeader.8a0fa205.js";import{Q as N}from"./QSpace.0d53e539.js";import{Q as L}from"./QBadge.50ff0feb.js";import{Q as b}from"./QItemLabel.1db45aa2.js";import{Q as R}from"./QList.04c37cb8.js";import{Q as E}from"./QPage.1b02519d.js";import{Q as F}from"./QPullToRefresh.9f003a0c.js";import{u as j}from"./SearchStore.674246eb.js";import"./QResizeObserver.0e413222.js";import"./TouchPan.5fac99c8.js";import"./touch.9135741d.js";import"./selection.53b1fe34.js";import"./format.de7e9769.js";const z={name:"SearchBooking",components:{TableSkeleton:v(()=>B(()=>import("./TableSkeleton.3238dea0.js"),["assets/TableSkeleton.3238dea0.js","assets/QSkeleton.81a2bab8.js","assets/index.c29f7992.js","assets/index.8924bfb8.css","assets/QItemLabel.1db45aa2.js","assets/QList.04c37cb8.js"]))},setup(){const e=j(),n=q();return{SearchStore:e,DataStore:n}},data(){return{q:"",loading:!1}},created(){this.SearchStore.data=""},computed:{hasSearch(){return!_.empty(this.q)}},methods:{refresh(e){this.clearSearch(),e()},clearSearch(){this.SearchStore.is_submit=!1,this.q="",this.SearchStore.data=[]},doSearch(){this.loading=!0,this.SearchStore.data=[],this.SearchStore.status=[],this.SearchStore.is_submit=!0,_.fetchDataByTokenPost("tableShift","q="+this.q).then(e=>{this.SearchStore.data=e.details.data}).catch(e=>{}).then(e=>{this.loading=!1})}}},H={class:"q-pa-md full-width"},O={class:"flex flex-center text-center"},U={class:"radius8 bg-green-10 text-white q-pa-xs text-center q-pl-sm q-pr-sm"},Z={class:"font14 text-weight-bold"},G={class:"font10 text-weight-light text-uppercase"},J={key:0,class:"full-width text-center"},K={key:1,class:"full-width text-center"},M={class:"text-weight-bold"},W={class:"text-weight-light text-grey"};function X(e,n,Y,o,c,m){const y=w("TableSkeleton");return s(),h(F,{onRefresh:m.refresh},{default:r(()=>[a(A,{class:k({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode}),reveal:"","reveal-offset":"50"},{default:r(()=>[a(P,null,{default:r(()=>[a(p,{onClick:n[0]||(n[0]=t=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),a(I,{class:"text-weight-bold"},{default:r(()=>[u(l(e.$t("Search Shift")),1)]),_:1})]),_:1}),a(x)]),_:1},8,["class"]),a(E,{class:k([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode},"flex justify-start"])},{default:r(()=>[i("div",H,[a(D,{outlined:"",modelValue:c.q,"onUpdate:modelValue":n[1]||(n[1]=t=>c.q=t),label:e.$t("Search"),color:"grey-5"},{append:r(()=>[o.SearchStore.hasData?(s(),h(C,{key:0,class:"cursor-pointer",name:"close",color:"grey",onClick:m.clearSearch},null,8,["onClick"])):f("",!0),o.SearchStore.hasData?f("",!0):(s(),h(p,{key:1,icon:"search",unelevated:"",color:"dark-grey","no-caps":"",loading:c.loading,round:"",flat:"",onClick:m.doSearch,disable:!m.hasSearch},null,8,["loading","onClick","disable"]))]),_:1},8,["modelValue","label"]),o.SearchStore.hasData?(s(),d(S,{key:0},[a(N,{class:"q-mt-md"}),a(R,{separator:""},{default:r(()=>[(s(!0),d(S,null,T(o.SearchStore.data,t=>(s(),h(V,{key:t,clickable:"",to:{path:"/tables/udapte_shift",query:{id:t.shift_uuid}}},{default:r(()=>[a(g,{avatar:"",top:""},{default:r(()=>[i("div",O,[i("div",null,[i("div",U,[i("div",Z," #"+l(t.shift_id),1),i("div",G,l(t.shift_interval),1)])])])]),_:2},1024),a(g,{top:""},{default:r(()=>[a(b,{class:"text-dark"},{default:r(()=>[u(l(t.shift_name)+" ",1),a(L,{color:o.DataStore.status_color[t.status]?o.DataStore.status_color[t.status]:"amber"},{default:r(()=>[o.DataStore.status_list_raw[t.status]?(s(),d(S,{key:0},[u(l(o.DataStore.status_list_raw[t.status]),1)],64)):(s(),d(S,{key:1},[u(l(t.status),1)],64))]),_:2},1032,["color"])]),_:2},1024),a(b,{caption:""},{default:r(()=>[u(l(t.first_seating),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})],64)):f("",!0),c.loading?(s(),h(y,{key:1,rows:10})):f("",!0)]),o.SearchStore.is_submit?(s(),d("div",K,[!o.SearchStore.hasData&&!c.loading?(s(),d(S,{key:0},[i("div",M,l(e.$t("No data available")),1),i("div",W,l(e.$t("Sorry, we couldn't find any results")),1)],64)):f("",!0)])):(s(),d("div",J))]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var me=Q(z,[["render",X]]);export{me as default};
