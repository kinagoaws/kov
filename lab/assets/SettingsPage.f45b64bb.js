import{Q as k}from"./QInnerLoading.d034c390.js";import{_ as c,A as s,p as i,q as r,t as n,a1 as p,b8 as h,f as a,at as g,ar as b,$ as m,av as _,a4 as f,b9 as v}from"./index.c29f7992.js";import{Q as d}from"./QSpace.0d53e539.js";import{Q as y}from"./QForm.32515fc9.js";import{Q as V}from"./QPage.1b02519d.js";const w={name:"SettingsPage",data(){return{loading:!0,loading_submit:!1,data:[],booking_enabled:!1,booking_enabled_capcha:!1,booking_allowed_choose_table:!1,booking_reservation_custom_message:"",booking_reservation_terms:""}},mounted(){this.getBookingSettings()},computed:{getData(){return this.data},hasData(){return Object.keys(this.data).length>0}},methods:{getBookingSettings(){this.loading=!0,s.fetchDataByTokenPost("BookingSettings").then(e=>{this.booking_enabled=e.details.data.booking_enabled,this.booking_enabled_capcha=e.details.data.booking_enabled_capcha,this.booking_allowed_choose_table=e.details.data.booking_allowed_choose_table,this.booking_reservation_custom_message=e.details.data.booking_reservation_custom_message,this.booking_reservation_terms=e.details.data.booking_reservation_terms}).catch(e=>{}).then(e=>{this.loading=!1})},formSubmit(){this.loading_submit=!0,s.fetchDataByTokenPost("SaveBookingSettings",{booking_enabled:this.booking_enabled,booking_enabled_capcha:this.booking_enabled_capcha,booking_allowed_choose_table:this.booking_allowed_choose_table,booking_reservation_custom_message:this.booking_reservation_custom_message,booking_reservation_terms:this.booking_reservation_terms}).then(e=>{s.notify("light-green",e.msg,"check_circle",this.$q)}).catch(e=>{s.notify("red-5",e,"error_outline",this.$q)}).then(e=>{this.loading_submit=!1})}}};function S(e,t,Q,q,o,u){return i(),r(V,{class:p([{"bg-mydark text-white":e.$q.dark.mode,"bg-grey-1 text-dark":!e.$q.dark.mode},"q-pr-md q-pl-md"])},{default:n(()=>[o.loading?(i(),r(k,{key:0,showing:!0,color:"primary",size:"md"})):(i(),r(h,{key:1,class:"q-pa-none no-shadow"},{default:n(()=>[a(v,{class:"q-pa-sm"},{default:n(()=>[a(y,{onSubmit:u.formSubmit},{default:n(()=>[a(g,{modelValue:o.booking_enabled,"onUpdate:modelValue":t[0]||(t[0]=l=>o.booking_enabled=l),label:e.$t("Enabled Reservation"),color:"primary"},null,8,["modelValue","label"]),a(g,{modelValue:o.booking_enabled_capcha,"onUpdate:modelValue":t[1]||(t[1]=l=>o.booking_enabled_capcha=l),label:e.$t("Enabled Captcha"),color:"primary"},null,8,["modelValue","label"]),a(g,{modelValue:o.booking_allowed_choose_table,"onUpdate:modelValue":t[2]||(t[2]=l=>o.booking_allowed_choose_table=l),label:e.$t("Allowed guest choose table"),color:"primary"},null,8,["modelValue","label"]),a(d,{class:"q-pa-sm"}),b("p",null,m(e.$t("Online booking custom confirmation message (optional)")),1),a(_,{modelValue:o.booking_reservation_custom_message,"onUpdate:modelValue":t[3]||(t[3]=l=>o.booking_reservation_custom_message=l),type:"textarea",outlined:"",autogrow:"","stack-label":"",color:"grey-5"},null,8,["modelValue"]),a(d,{class:"q-pa-sm"}),b("p",null,m(e.$t("Online booking T&C (optional)")),1),a(_,{modelValue:o.booking_reservation_terms,"onUpdate:modelValue":t[4]||(t[4]=l=>o.booking_reservation_terms=l),type:"textarea",outlined:"",autogrow:"","stack-label":"",color:"grey-5"},null,8,["modelValue"]),a(d,{class:"q-pa-md"}),a(f,{type:"submit",color:"primary","text-color":"white",label:e.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":"",loading:o.loading_submit},null,8,["label","loading"])]),_:1},8,["onSubmit"])]),_:1})]),_:1}))]),_:1},8,["class"])}var T=c(w,[["render",S]]);export{T as default};
