import{Q as h}from"./QInnerLoading.d034c390.js";import{_,as as g,A as o,p as n,q as l,t as m,a1 as f,b8 as b,f as a,ar as u,$ as d,av as r,au as y,a4 as k,b9 as v}from"./index.c29f7992.js";import{Q as c}from"./QSpace.0d53e539.js";import{Q as V}from"./QForm.32515fc9.js";import{Q as S}from"./QPage.1b02519d.js";const q={name:"PickupSettings",data(){return{loading:!1,loading_submit:!1,data:[],estimation:"",minimum_order:"",maximum_order:"",instructions:"",service_code:"pickup",instructions_type:"customer_pickup_instructions",user_data:[],merchant_service_fee:""}},mounted(){this.getSettings(),this.user_data=g.getUser()},methods:{getSettings(){this.loading=!0,o.fetchDataByTokenPost("getOrderTypeSettings","service_code="+this.service_code+"&instructions_type="+this.instructions_type).then(e=>{this.data=e.details,this.estimation=this.data.estimation,this.minimum_order=this.data.minimum_order,this.maximum_order=this.data.maximum_order,this.instructions=this.data.instructions,this.merchant_service_fee=this.data.merchant_service_fee}).catch(e=>{}).then(e=>{this.loading=!1})},onSubmit(){this.loading_submit=!0,o.fetchDataByTokenPost("saveOrderTypeSettings",{service_code:this.service_code,instructions_type:this.instructions_type,estimation:this.estimation,minimum_order:this.minimum_order,maximum_order:this.maximum_order,instructions:this.instructions,merchant_service_fee:this.merchant_service_fee}).then(e=>{o.notify("light-green",e.msg,"check_circle",this.$q)}).catch(e=>{o.notify("red-5",e,"error_outline",this.$q)}).then(e=>{this.loading_submit=!1})}}},Q={class:"text-subtitle1"},x={class:"q-gutter-y-md"},P={class:"text-subtitle1"},w={class:"text-caption line-normal"};function B(e,s,C,T,t,p){return n(),l(S,{class:f([{"bg-mydark text-white":e.$q.dark.mode,"bg-grey-1 text-dark":!e.$q.dark.mode},"q-pr-md q-pl-md"])},{default:m(()=>[t.loading?(n(),l(h,{key:0,showing:!0,color:"primary",size:"md"})):(n(),l(b,{key:1,class:"q-pa-none no-shadow"},{default:m(()=>[a(v,{class:"q-pa-sm"},{default:m(()=>[a(V,{onSubmit:p.onSubmit},{default:m(()=>[u("div",Q,d(e.$t("Settings")),1),t.user_data.merchant_type==1?(n(),l(r,{key:0,modelValue:t.merchant_service_fee,"onUpdate:modelValue":s[0]||(s[0]=i=>t.merchant_service_fee=i),type:"number",step:"any",label:e.$t("Service Fee"),"stack-label":"",outlined:"",color:"grey-5",rules:[i=>i>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"])):y("",!0),a(r,{modelValue:t.estimation,"onUpdate:modelValue":s[1]||(s[1]=i=>t.estimation=i),label:e.$t("Pickup estimation"),"stack-label":"",outlined:"",color:"grey-5",rules:[i=>i.length>0||this.$t("This field is required")],mask:"##-##",hint:e.$t("in minutes example 10-20mins")},null,8,["modelValue","label","rules","hint"]),a(c,{class:"q-pa-sm"}),u("div",x,[a(r,{modelValue:t.minimum_order,"onUpdate:modelValue":s[2]||(s[2]=i=>t.minimum_order=i),type:"number",step:"any",label:e.$t("Minimum Order"),"stack-label":"",outlined:"",color:"grey-5"},null,8,["modelValue","label"]),a(r,{modelValue:t.maximum_order,"onUpdate:modelValue":s[3]||(s[3]=i=>t.maximum_order=i),type:"number",step:"any",label:e.$t("Maximum Order"),"stack-label":"",outlined:"",color:"grey-5"},null,8,["modelValue","label"])]),a(c,{class:"q-pa-sm"}),u("div",P,d(e.$t("Customer Pickup Instructions")),1),u("p",w,d(e.$t("customer_pickup_instructions")),1),a(r,{modelValue:t.instructions,"onUpdate:modelValue":s[4]||(s[4]=i=>t.instructions=i),"stack-label":"",outlined:"",color:"grey-5",autogrow:""},null,8,["modelValue"]),a(c,{class:"q-pa-sm"}),a(k,{type:"submit",color:"primary","text-color":"white",label:e.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":"",loading:t.loading_submit},null,8,["label","loading"])]),_:1},8,["onSubmit"])]),_:1})]),_:1}))]),_:1},8,["class"])}var D=_(q,[["render",B]]);export{D as default};
