import{_ as f,A as i,p as h,q as _,t as s,f as o,a6 as g,b$ as b,cs as A,a7 as c,ae as Q,Z as p,$ as u}from"./index.c29f7992.js";import{Q as m}from"./QItemLabel.1db45aa2.js";import{Q as y}from"./QSelect.ae814dfc.js";import"./QChip.5de2d333.js";import"./QMenu.074d3579.js";import"./selection.53b1fe34.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";const P={name:"SearchAddress",props:["placeholder"],data(){return{address:"",address_data:[],options:[],data:[],loading:!1}},methods:{Focus(){this.$refs.select_address.focus()},filterFn(t,e,a){if(t.length<2){a();return}i.fetchDataPost("getlocationAutocomplete","q="+t).then(r=>{e(()=>{this.options=r.details.data})}).catch(r=>{console.debug(r)}).then(r=>{})},selectAddress(t){i.empty(t)||(this.address_data=t,this.address=t.description,i.fetchDataPost("getLocationDetails","place_id="+t.id).then(e=>{const a=e.details.data;i.empty(a.latitude)||this.$emit("afterSelectaddress",a)}).catch(e=>{i.notify("negative",e,"error_outline",this.$q)}).then(e=>{}))}}};function S(t,e,a,r,l,n){return h(),_(y,{modelValue:l.address,"onUpdate:modelValue":[e[0]||(e[0]=d=>l.address=d),n.selectAddress],ref:"select_address","use-input":"","fill-input":"",outlined:"","stack-label":"","input-debounce":"0",options:l.options,onFilter:n.filterFn,color:"grey-5",borderless:"",placeholder:a.placeholder,behavior:"menu","hide-dropdown-icon":"",clearable:""},{option:s(d=>[o(g,b(A(d.itemProps)),{default:s(()=>[o(c,{avatar:"",top:"",style:{"min-width":"auto"}},{default:s(()=>[o(Q,{name:"las la-map-marker"})]),_:1}),o(c,null,{default:s(()=>[o(m,null,{default:s(()=>[p(u(d.opt.description),1)]),_:2},1024),o(m,{caption:""},{default:s(()=>[p(u(d.opt.addressLine2),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","onFilter","onUpdate:modelValue","placeholder"])}var L=f(P,[["render",S]]);export{L as default};
