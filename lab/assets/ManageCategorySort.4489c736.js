import{_ as c,A as i,n as b,p as s,q as d,t,f as r,a4 as k,Z as q,$ as m,a0 as S,a1 as n,a2 as g,ar as p,F as $,au as M}from"./index.c29f7992.js";import{Q}from"./QToolbarTitle.38b5862b.js";import{Q as v}from"./QToolbar.19752286.js";import{Q as C}from"./QHeader.8a0fa205.js";import{Q as w}from"./QInnerLoading.d034c390.js";import{Q as T}from"./QFooter.478b051a.js";import{Q as V}from"./QPage.1b02519d.js";import{Q as B}from"./QPullToRefresh.9f003a0c.js";import{u as L}from"./MenuStore.cd99501e.js";import{d as N}from"./vuedraggable.umd.4cf68983.js";import"./QResizeObserver.0e413222.js";import"./TouchPan.5fac99c8.js";import"./touch.9135741d.js";import"./selection.53b1fe34.js";import"./format.de7e9769.js";const z={name:"ManageCategorySort",components:{draggable:N},data(){return{data:[],loading:!1,enabled:!0,category:[]}},setup(){return{MenuStore:L()}},created(){this.MenuStore.getCategoryList()},methods:{refresh(e){this.MenuStore.getCategoryList(e)},submit(){this.loading=!0;let e=[];Object.keys(this.MenuStore.category_list).length>0&&Object.entries(this.MenuStore.category_list).forEach(([a,u])=>{e.push(u.value)}),i.fetchDataByToken("SortCategory",{category:e}).then(a=>{i.notify(this.$q.dark.mode?"grey600":"light-green",a.msg,"check_circle",this.$q)}).catch(a=>{i.notify("dark",a,"error",this.$q)}).then(a=>{this.loading=!1})}}},D={key:1},E=["innerHTML"];function F(e,a,u,l,h,f){const y=b("draggable");return s(),d(B,{onRefresh:f.refresh},{default:t(()=>[r(C,{class:n({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:t(()=>[r(v,null,{default:t(()=>[r(k,{onClick:a[0]||(a[0]=o=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),r(Q,{class:"text-weight-bold"},{default:t(()=>[q(m(e.$t("Sort Category")),1)]),_:1})]),_:1}),r(S)]),_:1},8,["class"]),r(V,{class:n([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode},"q-pa-md"])},{default:t(()=>[l.MenuStore.loading_category?(s(),d(w,{key:0,showing:!0,color:"primary",size:"md"})):(s(),g($,{key:1},[l.MenuStore.hasCategories?(s(),g("p",{key:0,class:n({"text-grey300":e.$q.dark.mode,"text-dark":!e.$q.dark.mode})},m(e.$t("Drag the list to sort")),3)):(s(),g("div",D,m(e.$t("No available data")),1)),r(y,{modelValue:l.MenuStore.category_list,"onUpdate:modelValue":a[1]||(a[1]=o=>l.MenuStore.category_list=o),"item-key":"value",class:"list-group","ghost-class":"ghost",move:e.checkMove,onStart:a[2]||(a[2]=o=>e.dragging=!0),onEnd:a[3]||(a[3]=o=>e.dragging=!1)},{item:t(({element:o})=>[p("div",{class:n(["list-group-item q-pa-sm cursor-pointer q-mb-sm",{"bg-grey600 ":e.$q.dark.mode,"border-grey":!e.$q.dark.mode}])},[p("span",{innerHTML:o.label},null,8,E)],2)]),_:1},8,["modelValue","move"])],64)),l.MenuStore.hasCategories?(s(),d(T,{key:2,class:n(["q-pl-md q-pr-md q-pb-xs",{"bg-mydark ":e.$q.dark.mode,"bg-white ":!e.$q.dark.mode}])},{default:t(()=>[r(k,{onClick:f.submit,color:"primary","text-color":"white",label:e.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":"",loading:h.loading},null,8,["onClick","label","loading"])]),_:1},8,["class"])):M("",!0)]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var Y=c(z,[["render",F]]);export{Y as default};
