import{ao as s,ai as l,_ as r,X as n,m as c,n as g,Q as d}from"./index.c5b868f5.js";const i=s("GoogleAuth",{web:()=>l(()=>import("./web.cf08c6f5.js"),["assets/web.cf08c6f5.js","assets/index.c5b868f5.js","assets/index.7897e990.css"]).then(e=>new e.GoogleAuthWeb)}),_={name:"GoogleLogin",props:["client_id"],data(){return{loading:!1}},mounted(){this.init()},methods:{init(){this.$q.capacitor?i.initialize():i.initialize({clientId:this.client_id,scopes:["profile","email"],grantOfflineAccess:!0})},Signin(){this.loading=!0,i.signIn().then(e=>{const o={id:e.id,email_address:e.email,first_name:e.givenName,last_name:e.familyName,social_strategy:"google",social_token:e.authentication.idToken};this.$emit("afterLogin",o)}).catch(e=>{e.code==10?n.notify("dark","Error app is not signin","error",this.$q):e.code==-5||n.notify("dark",JSON.stringify(e),"error",this.$q)}).then(e=>{this.loading=!1})}}};function f(e,o,m,h,t,a){return c(),g(d,{icon:"lab la-google-plus-g",unelevated:"",color:e.$q.dark.mode?"grey600":"grey-3",class:"rounded-borders text-grey",onClick:a.Signin,loading:t.loading,size:"lg"},null,8,["color","onClick","loading"])}var p=r(_,[["render",f]]);export{p as default};
