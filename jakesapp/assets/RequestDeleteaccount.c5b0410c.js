import{_ as f,ad as u,X as r,l as p,m as g,Y as h,f as t,p as o,af as l,F as k,Q as d,S as y,R as i,P as c,ai as _}from"./index.c5b868f5.js";import{Q as b}from"./QToolbarTitle.4da9f270.js";import{Q as q}from"./QToolbar.9b15bf0e.js";import{Q as w}from"./QHeader.b374650f.js";import{Q as v}from"./QSpace.24950ca6.js";import{Q as $}from"./QFooter.51024c6d.js";import{Q}from"./QPage.528ab8a8.js";import"./QResizeObserver.3ed5059f.js";const C={name:"RequestDeleteaccount",components:{TwoStepsVerification:u(()=>_(()=>import("./TwoStepsVerification.3557b755.js"),["assets/TwoStepsVerification.3557b755.js","assets/index.c5b868f5.js","assets/index.7897e990.css","assets/QToolbarTitle.4da9f270.js","assets/QToolbar.9b15bf0e.js","assets/QSpace.24950ca6.js","assets/QForm.997d74f6.js","assets/ClosePopup.32eeb9ff.js"]))},data(){return{otp_message:"",loading:!1}},methods:{RequestEmailCode(){this.loading=!0,r.fetchDataByToken("RequestEmailCode").then(e=>{this.otp_message=e.msg,this.$refs.verification_steps.showModal(!0)}).catch(e=>{r.notify("dark",e,"error_outline",this.$q)}).then(e=>{this.loading=!1})},onBack(){this.$refs.verification_steps.showModal(!1)},afterVerify(e){this.loading=!0,r.fetchDataByTokenPost("deleteAccount","code="+e).then(a=>{this.$router.replace("/account/deletety")}).catch(a=>{r.notify("dark",a,"error_outline",this.$q)}).then(a=>{this.loading=!1})}}},V={class:"text-weight-medium text-body2 line-normal"};function B(e,a,T,D,s,n){const m=p("TwoStepsVerification");return g(),h(k,null,[t(w,{class:l(["bg-whitex",{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-black":!e.$q.dark.mode}]),reveal:""},{default:o(()=>[t(q,null,{default:o(()=>[t(d,{onClick:a[0]||(a[0]=R=>e.$router.back()),round:"",dense:"",icon:"arrow_back",unelevated:"",color:e.$q.dark.mode?"grey":"mygrey","text-color":e.$q.dark.mode?"grey-9":"dark"},null,8,["color","text-color"]),t(b,{class:"text-weight-bold text-darkx"},{default:o(()=>[y(i(e.$t("Delete account")),1)]),_:1})]),_:1})]),_:1},8,["class"]),t(Q,{class:"q-pa-md"},{default:o(()=>[c("div",V,i(e.$t("You are requesting to have your account deleted and personal information removed"))+". ",1),t(v,{class:"q-pa-md text-body2"}),c("p",null,i(e.$t("You will permanently lose all your orders, reviews,favorites and profile information, there is no turning back"))+". ",1),t($,{class:l(["q-pa-md",{"bg-mydark ":e.$q.dark.mode,"bg-white ":!e.$q.dark.mode}])},{default:o(()=>[t(d,{type:"submit",color:"primary","text-color":"white",label:e.$t("Confirm Deletion"),unelevated:"",class:"full-width",size:"lg","no-caps":"",rounded:"",onClick:n.RequestEmailCode,loading:s.loading},null,8,["label","onClick","loading"])]),_:1},8,["class"]),t(m,{back_button:"false",message:s.otp_message,ref:"verification_steps",loading:s.loading,onOnBack:n.onBack,onAfterVerify:n.afterVerify},null,8,["message","loading","onOnBack","onAfterVerify"])]),_:1})],64)}var Y=f(C,[["render",B]]);export{Y as default};
