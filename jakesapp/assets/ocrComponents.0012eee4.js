import{Q as p}from"./QSpace.24950ca6.js";import{_,X as n,m as b,n as f,p as d,f as t,bh as g,af as y,bg as m,P as o,R as u,b8 as q,Q as c,ag as i,bd as V,bT as v,aX as w}from"./index.c5b868f5.js";import{Q as k}from"./QForm.997d74f6.js";import{C}from"./ClosePopup.32eeb9ff.js";const Q={name:"ocrComponents",props:["title","label","payment_code","payment_credentials"],setup(){return{}},data(){return{show_modal:!1,data:[],loading:!1,credit_card_number:"",expiry_date:"",cvv:"",card_name:"",billing_address:""}},methods:{showPaymentForm(){this.show_modal=!0},close(){this.show_modal=!1},onSubmit(){this.loading=!0;let l=0;typeof this.payment_credentials[this.payment_code]!="undefined"&&this.payment_credentials[this.payment_code]!==null&&(l=this.payment_credentials[this.payment_code].merchant_id);const s={credit_card_number:this.credit_card_number,expiry_date:this.expiry_date,cvv:this.cvv,card_name:this.card_name,billing_address:this.billing_address,merchant_id:l,payment_code:this.payment_code};n.fetchDataByTokenPost("savedCards",s).then(r=>{this.close(),this.$emit("afterAddpayment")}).catch(r=>{n.notify("dark",r,"error",this.$q)}).then(r=>{this.loading=!1})}}},S={class:"text-h6 text-weight-bold"},$={class:"text-body2"},B={class:"column q-col-gutter-sm"},U={class:"row q-col-gutter-md"},P={class:"col"},x={class:"col"},D={class:"column"},A={class:"col"},I={class:"col"};function z(l,s,r,F,a,h){return b(),f(w,{modelValue:a.show_modal,"onUpdate:modelValue":s[5]||(s[5]=e=>a.show_modal=e),persistent:"","transition-show":"fade","transition-hide":"fadeout",position:this.$q.screen.gt.sm?"standard":"bottom","full-width":!this.$q.screen.gt.sm},{default:d(()=>[t(g,{class:y({"bg-grey600 text-white":l.$q.dark.mode})},{default:d(()=>[t(m,{class:"row items-center q-pb-none"},{default:d(()=>[o("div",S,u(r.title),1),t(p),q(t(c,{icon:"close",flat:"",round:"",dense:""},null,512),[[C]])]),_:1}),t(k,{onSubmit:h.onSubmit},{default:d(()=>[t(m,{class:"q-pa-md"},{default:d(()=>[o("div",$,u(r.label.notes),1),o("div",B,[t(i,{color:l.$q.dark.mode?"grey300":"primary",modelValue:a.credit_card_number,"onUpdate:modelValue":s[0]||(s[0]=e=>a.credit_card_number=e),label:l.$t("Card number"),rules:[e=>e&&e.length>0||this.$t("this field is required")],mask:"#### #### #### ####"},null,8,["color","modelValue","label","rules"])]),o("div",U,[o("div",P,[t(i,{color:l.$q.dark.mode?"grey300":"primary",modelValue:a.expiry_date,"onUpdate:modelValue":s[1]||(s[1]=e=>a.expiry_date=e),label:l.$t("Exp. date"),class:"no-margin",rules:[e=>e&&e.length>0||this.$t("this field is required")],mask:"##/##"},null,8,["color","modelValue","label","rules"])]),o("div",x,[t(i,{color:l.$q.dark.mode?"grey300":"primary",modelValue:a.cvv,"onUpdate:modelValue":s[2]||(s[2]=e=>a.cvv=e),label:l.$t("Security Code"),class:"no-margin",rules:[e=>e&&e.length>0||this.$t("this field is required")],mask:"####"},null,8,["color","modelValue","label","rules"])])]),o("div",D,[o("div",A,[t(i,{color:l.$q.dark.mode?"grey300":"primary",modelValue:a.card_name,"onUpdate:modelValue":s[3]||(s[3]=e=>a.card_name=e),class:"no-margin",label:l.$t("Card name"),rules:[e=>e&&e.length>0||this.$t("this field is required")]},null,8,["color","modelValue","label","rules"])]),o("div",I,[t(i,{color:l.$q.dark.mode?"grey300":"primary",modelValue:a.billing_address,"onUpdate:modelValue":s[4]||(s[4]=e=>a.billing_address=e),class:"no-margin",label:l.$t("Billing address"),rules:[e=>e&&e.length>0||this.$t("this field is required")]},null,8,["color","modelValue","label","rules"])])])]),_:1}),t(V,{spaced:"",class:"q-pt-none"}),t(v,null,{default:d(()=>[t(c,{type:"submit",label:r.label.submit,loading:a.loading,unelevated:"","no-caps":"",color:"primary","text-color":"white",class:"full-width q-mb-md",size:"lg",rounded:""},null,8,["label","loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1},8,["class"])]),_:1},8,["modelValue","position","full-width"])}var R=_(Q,[["render",z]]);export{R as default};
