import{Q as r}from"./QUploader.c56a2d76.js";import{_ as i,bD as d,ae as s,X as p,m as n,n as m}from"./index.c5b868f5.js";import"./QCircularProgress.1d7da185.js";import"./format.8ac60962.js";const u={name:"UploaderFile",props:["path"],data(){return{upload_api:d.api_base_url+"/partnerapi/updateAvatar",url_image:"",filename:"",upload_path:""}},methods:{getToken(){return s.getToken()},afterUploaded(a){const e=JSON.parse(a.xhr.responseText);e.code===1?(this.url_image=e.details.url_image,this.filename=e.details.filename,this.upload_path=e.details.upload_path,this.$emit("afterUploadfile",{url_image:this.url_image,filename:this.filename,upload_path:this.upload_path})):(this.url_image="",this.filename="",this.upload_path="",p.notify("dark",e.msg,"error",this.$q))}}};function f(a,e,t,h,o,l){return n(),m(r,{url:o.upload_api,label:"Upload files",color:a.$q.dark.mode?"grey600":"mygrey","text-color":a.$q.dark.mode?"grey300":"grey","no-thumbnails":"",class:"full-width q-mb-md",flat:"",accept:".jpg, image/*",bordered:"","max-files":1,"auto-upload":"","max-total-size":"1048576",onRejected:a.onRejectedFiles,headers:[{name:"Authorization",value:`token ${this.getToken()}`}],"field-name":"file",onUploaded:l.afterUploaded,"form-fields":[{name:"upload_path",value:t.path}]},null,8,["url","color","text-color","onRejected","headers","onUploaded","form-fields"])}var U=i(u,[["render",f]]);export{U as default};
