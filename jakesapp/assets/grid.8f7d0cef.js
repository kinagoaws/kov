function B(x){let{swiper:e,extendParams:C,on:w}=x;C({grid:{rows:1,fill:"column"}});let c,h,f,g;const M=()=>{let t=e.params.spaceBetween;return typeof t=="string"&&t.indexOf("%")>=0?t=parseFloat(t.replace("%",""))/100*e.size:typeof t=="string"&&(t=parseFloat(t)),t},L=t=>{const{slidesPerView:s}=e.params,{rows:i,fill:a}=e.params.grid,r=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:t.length;f=Math.floor(r/i),Math.floor(r/i)===r/i?c=r:c=Math.ceil(r/i)*i,s!=="auto"&&a==="row"&&(c=Math.max(c,s*i)),h=c/i},y=()=>{e.slides&&e.slides.forEach(t=>{t.swiperSlideGridSet&&(t.style.height="",t.style[e.getDirectionLabel("margin-top")]="")})},$=(t,s,i)=>{const{slidesPerGroup:a}=e.params,r=M(),{rows:l,fill:u}=e.params.grid,d=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:i.length;let p,n,o;if(u==="row"&&a>1){const m=Math.floor(t/(a*l)),S=t-l*a*m,v=m===0?a:Math.min(Math.ceil((d-m*l*a)/l),a);o=Math.floor(S/v),n=S-o*v+m*a,p=n+o*c/l,s.style.order=p}else u==="column"?(n=Math.floor(t/l),o=t-n*l,(n>f||n===f&&o===l-1)&&(o+=1,o>=l&&(o=0,n+=1))):(o=Math.floor(t/h),n=t-o*h);s.row=o,s.column=n,s.style.height=`calc((100% - ${(l-1)*r}px) / ${l})`,s.style[e.getDirectionLabel("margin-top")]=o!==0?r&&`${r}px`:"",s.swiperSlideGridSet=!0},z=(t,s)=>{const{centeredSlides:i,roundLengths:a}=e.params,r=M(),{rows:l}=e.params.grid;if(e.virtualSize=(t+r)*c,e.virtualSize=Math.ceil(e.virtualSize/l)-r,e.params.cssMode||(e.wrapperEl.style[e.getDirectionLabel("width")]=`${e.virtualSize+r}px`),i){const u=[];for(let d=0;d<s.length;d+=1){let p=s[d];a&&(p=Math.floor(p)),s[d]<e.virtualSize+s[0]&&u.push(p)}s.splice(0,s.length),s.push(...u)}},I=()=>{g=e.params.grid&&e.params.grid.rows>1},b=()=>{const{params:t,el:s}=e,i=t.grid&&t.grid.rows>1;g&&!i?(s.classList.remove(`${t.containerModifierClass}grid`,`${t.containerModifierClass}grid-column`),f=1,e.emitContainerClasses()):!g&&i&&(s.classList.add(`${t.containerModifierClass}grid`),t.grid.fill==="column"&&s.classList.add(`${t.containerModifierClass}grid-column`),e.emitContainerClasses()),g=i};w("init",I),w("update",b),e.grid={initSlides:L,unsetSlides:y,updateSlide:$,updateWrapperSize:z}}export{B as G};
