import{Q as f}from"./QSpace.24950ca6.js";import{_ as p,X as l,m as u,n as _,p as a,f as t,bh as y,af as b,bg as d,P as r,R as m,b8 as w,Q as c,bd as g,bT as C,aX as P}from"./index.c5b868f5.js";import{C as Q}from"./ClosePopup.32eeb9ff.js";const k={name:"BankComponents",props:["title","label","payment_code","payment_credentials"],data(){return{show_modal:!1,data:[],loading:!1,credentials:[]}},methods:{showPaymentForm(){this.show_modal=!0,this.setCredentials()},close(){this.show_modal=!1},closePayment(){this.$emit("afterCancelPayment")},setCredentials(){typeof this.payment_credentials[this.payment_code]!="undefined"&&this.payment_credentials[this.payment_code]!==null&&(this.credentials=this.payment_credentials[this.payment_code])},onSubmit(){const s={merchant_id:this.credentials.merchant_id,payment_code:this.payment_code};this.loading=!0,l.fetchDataByTokenPost("SavedPaymentProvider",s).then(e=>{this.close(),this.$emit("afterAddpayment")}).catch(e=>{l.notify("dark",e,"error",this.$q)}).then(e=>{this.loading=!1})}}},v={class:"text-h6 text-weight-bold"},x={class:"text-body2"};function q(s,e,o,B,n,h){return u(),_(P,{modelValue:n.show_modal,"onUpdate:modelValue":e[1]||(e[1]=i=>n.show_modal=i),persistent:"","transition-show":"fade","transition-hide":"fadeout",position:this.$q.screen.gt.sm?"standard":"bottom","full-width":!this.$q.screen.gt.sm},{default:a(()=>[t(y,{class:b({"bg-grey600 text-white":s.$q.dark.mode})},{default:a(()=>[t(d,{class:"row items-center q-pb-none"},{default:a(()=>[r("div",v,m(o.title),1),t(f),w(t(c,{icon:"close",flat:"",round:"",dense:""},null,512),[[Q]])]),_:1}),t(d,{class:"q-pa-md"},{default:a(()=>[r("div",x,m(o.label.notes),1)]),_:1}),t(g,{spaced:""}),t(C,null,{default:a(()=>[t(c,{label:o.label.submit,loading:n.loading,onClick:e[0]||(e[0]=i=>h.onSubmit()),unelevated:"","no-caps":"",color:"primary text-white",class:"full-width q-mb-sm",size:"lg",rounded:""},null,8,["label","loading"])]),_:1})]),_:1},8,["class"])]),_:1},8,["modelValue","position","full-width"])}var D=p(k,[["render",q]]);export{D as default};
