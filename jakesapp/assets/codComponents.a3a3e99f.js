import{Q as u}from"./QSpace.24950ca6.js";import{_ as f,X as d,m as p,n as _,p as s,f as e,bh as y,af as b,bg as i,P as r,R as m,b8 as g,Q as c,bd as w,bT as C,aX as Q}from"./index.c5b868f5.js";import{C as v}from"./ClosePopup.32eeb9ff.js";const P={name:"codComponents",props:["title","label","payment_code","payment_credentials"],data(){return{show_modal:!1,data:[],loading:!1}},methods:{showPaymentForm(){this.show_modal=!0},close(){this.show_modal=!1},onSubmit(){let o=0;typeof this.payment_credentials[this.payment_code]!="undefined"&&this.payment_credentials[this.payment_code]!==null&&(o=this.payment_credentials[this.payment_code].merchant_id);const a={merchant_id:o,payment_code:this.payment_code};this.loading=!0,d.fetchDataByTokenPost("SavedPaymentProvider",a).then(t=>{this.close(),this.$emit("afterAddpayment")}).catch(t=>{d.notify("dark",t,"error_outline",this.$q)}).then(t=>{this.loading=!1})}}},S={class:"text-h6 text-weight-bold"},k={class:"text-body2"};function q(o,a,t,x,n,h){return p(),_(Q,{modelValue:n.show_modal,"onUpdate:modelValue":a[1]||(a[1]=l=>n.show_modal=l),persistent:"","transition-show":"fade","transition-hide":"fadeout",position:this.$q.screen.gt.sm?"standard":"bottom","full-width":!this.$q.screen.gt.sm},{default:s(()=>[e(y,{class:b({"bg-grey600":o.$q.dark.mode})},{default:s(()=>[e(i,{class:"row items-center q-pb-none"},{default:s(()=>[r("div",S,m(t.title),1),e(u),g(e(c,{icon:"close",flat:"",round:"",dense:""},null,512),[[v]])]),_:1}),e(i,null,{default:s(()=>[r("div",k,m(t.label.notes),1)]),_:1}),e(w,{spaced:""}),e(C,null,{default:s(()=>[e(c,{unelevated:"",rounded:"",color:"primary","no-caps":"",class:"full-width q-mb-md",label:t.label.submit,size:"lg",loading:n.loading,onClick:a[0]||(a[0]=l=>h.onSubmit())},null,8,["label","loading"])]),_:1})]),_:1},8,["class"])]),_:1},8,["modelValue","position","full-width"])}var $=f(P,[["render",q]]);export{$ as default};
