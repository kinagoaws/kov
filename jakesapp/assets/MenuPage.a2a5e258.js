import{_ as E,O as x,U as M,bp as R,ad as u,l as g,m as o,Y as n,f as t,p as r,F as m,bO as L,af as h,Q as y,S as D,R as _,n as k,P as l,ac as C,Z as w,ai as f,$ as O,a0 as S}from"./index.c5b868f5.js";import{Q as B}from"./QToolbarTitle.4da9f270.js";import{Q as G}from"./QToolbar.9b15bf0e.js";import{Q as H}from"./QHeader.b374650f.js";import{Q as U}from"./QPageSticky.d00b3310.js";import{Q as b}from"./QSpace.24950ca6.js";import{Q as v}from"./QSkeleton.11b8074a.js";import{Q as N}from"./QPageScroller.9f5fda23.js";import{Q as j}from"./QPage.528ab8a8.js";import{Q as z}from"./QIntersection.702e3ae0.js";import{Q as F}from"./QFooter.51024c6d.js";import{Q as Y}from"./QPullToRefresh.85618661.js";import{u as Z}from"./CartData.5b90ca7b.js";import"./QResizeObserver.3ed5059f.js";import"./use-page-sticky.ec3ca395.js";import"./TouchPan.5486290b.js";import"./touch.9135741d.js";import"./selection.65959ca5.js";import"./format.8ac60962.js";const{getScrollTarget:$,setVerticalScrollPosition:J,getVerticalScrollPosition:Qe}=L,K={name:"MenuPage",data(){return{morphGroupModel:"cart",data:[],loading:!1,category_seleted:"",itemRefs:[],category_position:[],trans_type:"",scroll_down:!1,allergens_item_id:"",category_uuid_selected:""}},setup(e){const d=x(),p=Z(),a=M(),c=R();return{DataStorePersisted:d,CartData:p,SettingStore:a,UserStore:c}},mounted(){Object.keys(this.CartData.data_category).length>0?this.UserStore.currency_code!=this.DataStorePersisted.use_currency_code&&(this.UserStore.currency_code=this.DataStorePersisted.use_currency_code,this.CartData.geStoreMenu()):this.CartData.geStoreMenu(),this.CartData.getCartCount()},components:{CuisineCarousel:u(()=>f(()=>import("./CuisineCarousel.732a00e6.js"),["assets/CuisineCarousel.732a00e6.js","assets/QSkeleton.11b8074a.js","assets/index.c5b868f5.js","assets/index.7897e990.css","assets/QItemLabel.4665782c.js","assets/swiper.75391432.js","assets/swiper.dbf2012b.css"])),ItemsGrids:u(()=>f(()=>import("./ItemsGrids.df5e5426.js"),["assets/ItemsGrids.df5e5426.js","assets/pagination.0a2b0edf.css","assets/index.c5b868f5.js","assets/index.7897e990.css","assets/QImg.79fcc1c6.js","assets/QItemLabel.4665782c.js","assets/swiper.75391432.js","assets/swiper.dbf2012b.css","assets/grid.8f7d0cef.js","assets/grid.9d379043.css","assets/CartData.5b90ca7b.js"])),ItemsdisplayList:u(()=>f(()=>import("./ItemsdisplayList.2d3dffb3.js"),["assets/ItemsdisplayList.2d3dffb3.js","assets/QImg.79fcc1c6.js","assets/index.c5b868f5.js","assets/index.7897e990.css","assets/QItemLabel.4665782c.js","assets/QList.9b7158f1.js","assets/CartData.5b90ca7b.js"])),ItemDetails:u(()=>f(()=>import("./ItemDetails.bbc3f6ec.js"),["assets/ItemDetails.bbc3f6ec.js","assets/index.c5b868f5.js","assets/index.7897e990.css","assets/QSkeleton.11b8074a.js","assets/QItemLabel.4665782c.js","assets/QImg.79fcc1c6.js","assets/QList.9b7158f1.js","assets/QSelect.65ab904e.js","assets/QMenu.b5349f2e.js","assets/selection.65959ca5.js","assets/rtl.276c3f1b.js","assets/format.8ac60962.js","assets/QSpace.24950ca6.js","assets/QPageSticky.d00b3310.js","assets/use-page-sticky.ec3ca395.js","assets/ClosePopup.32eeb9ff.js","assets/CartData.5b90ca7b.js"])),CategorySticky:u(()=>f(()=>import("./CategorySticky.6284d8d0.js"),["assets/CategorySticky.6284d8d0.js","assets/QItemLabel.4665782c.js","assets/index.c5b868f5.js","assets/index.7897e990.css","assets/swiper.75391432.js","assets/swiper.dbf2012b.css"])),AllergensDetails:u(()=>f(()=>import("./AllergensDetails.e4e2e1b2.js"),["assets/AllergensDetails.e4e2e1b2.js","assets/QSpace.24950ca6.js","assets/index.c5b868f5.js","assets/index.7897e990.css","assets/QInnerLoading.ff23f6a9.js","assets/QItemLabel.4665782c.js","assets/QList.9b7158f1.js","assets/ClosePopup.32eeb9ff.js"]))},methods:{changeMenuType(){this.DataStorePersisted.menu_type=this.DataStorePersisted.menu_type=="column"?"list":"column"},refresh(e){this.CartData.geStoreMenu(e)},viewItems(e){this.$refs.item_details.showModal(!0,e)},scrollHandler(e){this.scroll_down=!e,e==!1?this.morphGroupModel="btn":this.morphGroupModel="cart"},afterCategoryselected(e){this.category_uuid_selected=e.category_uiid,this.scrollToElement(e.category_uiid)},scrollToElement(e){const d=document.getElementById(e),p=$(d),a=d.offsetTop;J(p,a,500)},afterAddtocart(){this.CartData.getCartCount()},showAllergens(e){this.allergens_item_id=e,this.$refs.allergens.dialog=!0}}},W={class:"row items-center fit"},X={class:"col-2 text-center"},ee={class:"col"},te={class:"row items-center justify-between q-mb-xs"},ae=["id"],re=["innerHTML"],oe={key:0,class:"col-3 text-right"},se={class:"fit flex items-center justify-around"},ie={class:"text-body1 text-weight-medium"},le={class:"text-body2 text-weight-light"},de={class:"text-body1 text-weight-medium"};function ne(e,d,p,a,c,i){const q=g("CuisineCarousel"),A=g("CategorySticky"),I=g("ItemsdisplayList"),Q=g("ItemsGrids"),P=g("ItemDetails"),T=g("AllergensDetails");return o(),n(m,null,[t(Y,{onRefresh:i.refresh},{default:r(()=>[t(H,{class:h(["bg-whitex",{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode}]),reveal:"",onReveal:i.scrollHandler},{default:r(()=>[t(G,null,{default:r(()=>[t(y,{onClick:d[0]||(d[0]=s=>e.$router.back()),round:"",dense:"",icon:"arrow_back",unelevated:"",color:e.$q.dark.mode?"grey":"mygrey","text-color":e.$q.dark.mode?"grey-9":"dark"},null,8,["color","text-color"]),t(B,{class:"text-weight-bold"},{default:r(()=>[D(_(e.$t("Menu")),1)]),_:1}),t(y,{to:"/menu/search",round:"",dense:"",icon:"search",unelevated:"",color:e.$q.dark.mode?"grey300":"mygrey","text-color":"dark"},null,8,["color"])]),_:1})]),_:1},8,["onReveal","class"]),t(j,{class:"q-pa-md"},{default:r(()=>[t(q,{ref:"cuisine",layout:2,category_uuid_selected:c.category_uuid_selected,onAfterCategoryselected:i.afterCategoryselected},null,8,["category_uuid_selected","onAfterCategoryselected"]),c.scroll_down?(o(),k(U,{key:0,expand:"",position:"top",class:h(["q-pt-sm q-pb-sm",{"bg-mydark text-white":e.$q.dark.mode,"bg-white border-bottom text-black":!e.$q.dark.mode}]),style:{"z-index":"2"}},{default:r(()=>[l("div",W,[l("div",X,[t(y,{onClick:d[1]||(d[1]=s=>e.$router.back()),round:"",dense:"",icon:"arrow_back",unelevated:"",color:e.$q.dark.mode?"grey":"mygrey","text-color":e.$q.dark.mode?"grey-9":"dark"},null,8,["color","text-color"])]),l("div",ee,[t(A,{loading:a.SettingStore.category_loading,data:a.SettingStore.category_data,category_uuid_selected:c.category_uuid_selected,onAfterCategoryselected:i.afterCategoryselected},null,8,["loading","data","category_uuid_selected","onAfterCategoryselected"])])])]),_:1},8,["class"])):C("",!0),t(b,{class:"q-pa-sm"}),a.CartData.menu_loading?(o(),n(m,{key:1},w(6,s=>t(O,{key:s,class:"q-pt-none q-pl-none q-pr-none"},{default:r(()=>[t(S,null,{default:r(()=>[t(v,{height:"110px",square:"",class:h(["radius20",{"bg-grey600 ":e.$q.dark.mode,"bg-mygrey ":!e.$q.dark.mode}])},null,8,["class"])]),_:1}),t(S,null,{default:r(()=>[t(v,{height:"110px",square:"",class:h(["radius20",{"bg-grey600 ":e.$q.dark.mode,"bg-mygrey ":!e.$q.dark.mode}])},null,8,["class"])]),_:1})]),_:1})),64)):(o(!0),n(m,{key:2},w(a.CartData.data_category,(s,V)=>(o(),n(m,{key:s.cat_id},[l("div",te,[l("div",{class:"text-weight-bold text-h6 col",id:s.category_uiid,ref_for:!0,ref:e.setItemRef},[l("span",{innerHTML:s.category_name},null,8,re)],8,ae),V<=0?(o(),n("div",oe,[t(y,{round:"",color:e.$q.dark.mode?"grey":"white","text-color":e.$q.dark.mode?"grey-9":"dark",icon:a.DataStorePersisted.menu_type=="column"?"o_view_agenda":"grid_view",unelevated:"",onClick:i.changeMenuType},null,8,["color","text-color","icon","onClick"])])):C("",!0)]),a.DataStorePersisted.menu_type=="list"?(o(),k(I,{key:0,ref_for:!0,ref:"items_list",loading:a.CartData.menu_loading,cat_id:s.cat_id,data:s.items,data_items:a.CartData.data_items,dish:a.CartData.dish,onViewItems:i.viewItems,onShowAllergens:i.showAllergens},null,8,["loading","cat_id","data","data_items","dish","onViewItems","onShowAllergens"])):(o(),k(Q,{key:1,ref_for:!0,ref:"items_grid",loading:a.CartData.menu_loading,cat_id:s.cat_id,data:s.items,data_items:a.CartData.data_items,dish:a.CartData.dish,onViewItems:i.viewItems,onShowAllergens:i.showAllergens},null,8,["loading","cat_id","data","data_items","dish","onViewItems","onShowAllergens"])),t(b,{class:"q-pa-sm"})],64))),128)),t(N,{position:"bottom-right","scroll-offset":150,offset:[18,18]},{default:r(()=>[t(y,{fab:"",icon:"keyboard_arrow_up",color:e.$q.dark.mode?"grey":"grey-2","text-color":e.$q.dark.mode?"grey-9":"grey",padding:"xs"},null,8,["color","text-color"])]),_:1})]),_:1}),!a.CartData.cartcount_loading&&!a.CartData.home_view_items?(o(),n(m,{key:0},[a.CartData.cartcount_data.items_count>0?(o(),k(F,{key:0,class:h(["q-pl-md q-pr-md q-pt-sm q-pb-sm",{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode}])},{default:r(()=>[t(z,{once:"",transition:"scale",class:"example-item"},{default:r(()=>[t(y,{color:"primary","text-color":"white",unelevated:"","no-caps":"",class:"fit",size:"lg",rounded:"",to:"/cart"},{default:r(()=>[l("div",se,[l("div",ie,_(e.$t("View cart"))+" \u2022 ",1),l("div",le,[a.CartData.cartcount_data.items_count>1?(o(),n(m,{key:0},[D(_(a.CartData.cartcount_data.items_count)+" "+_(e.$t("items")),1)],64)):(o(),n(m,{key:1},[D(_(a.CartData.cartcount_data.items_count)+" "+_(e.$t("item")),1)],64))]),l("div",de,_(a.CartData.cartcount_data.subtotal.value),1)])]),_:1})]),_:1})]),_:1},8,["class"])):C("",!0)],64)):C("",!0)]),_:1},8,["onRefresh"]),t(P,{ref:"item_details",onAfterAddtocart:i.afterAddtocart},null,8,["onAfterAddtocart"]),t(T,{ref:"allergens",allergens_item_id:c.allergens_item_id},null,8,["allergens_item_id"])],64)}var Pe=E(K,[["render",ne]]);export{Pe as default};
