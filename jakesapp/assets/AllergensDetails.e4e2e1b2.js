import{Q as h}from"./QSpace.24950ca6.js";import{_,X as p,m as r,n,p as e,f as a,bh as Q,af as w,bg as g,P as c,R as o,b8 as D,Q as b,Y as m,F as u,Z as k,$ as x,a0 as A,S as B,ac as f,aX as C}from"./index.c5b868f5.js";import{Q as S}from"./QInnerLoading.ff23f6a9.js";import{Q as V}from"./QItemLabel.4665782c.js";import{Q as y}from"./QList.9b7158f1.js";import{C as I}from"./ClosePopup.32eeb9ff.js";const v={name:"AllergensDetails",props:["allergens_item_id"],data(){return{dialog:!1,loading:!1,allergen:[],allergen_data:[]}},computed:{hasData(){return Object.keys(this.allergen).length>0}},methods:{clearData(){this.allergen=[],this.allergen_data=[]},getAllergens(){this.clearData(),this.loading=!0,p.fetchDataPost("getAllergenInfo","item_id="+this.allergens_item_id).then(t=>{this.allergen=t.details.allergen,this.allergen_data=t.details.allergen_data}).catch(t=>{}).then(t=>{this.loading=!1})}}},L={class:"text-h6 text-weight-bold ellipsis"},N={class:"text-h6 text-weight-bold"};function P(t,i,q,F,l,d){return r(),n(C,{persistent:"",modelValue:l.dialog,"onUpdate:modelValue":i[0]||(i[0]=s=>l.dialog=s),position:this.$q.screen.lt.md?"bottom":"standard",onBeforeShow:d.getAllergens},{default:e(()=>[a(Q,{class:w({"card-medium-width":!this.$q.screen.lt.md})},{default:e(()=>[a(g,{class:"row items-center q-pb-none"},{default:e(()=>[c("div",L,o(t.$t("More product information")),1),a(h),D(a(b,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])]),_:1}),a(g,null,{default:e(()=>[a(S,{showing:l.loading,color:"primary"},null,8,["showing"]),c("div",N,o(t.$t("Allergens")),1),d.hasData?(r(),n(y,{key:0,dense:""},{default:e(()=>[(r(!0),m(u,null,k(l.allergen,s=>(r(),m(u,{key:s},[l.allergen_data[s]?(r(),n(x,{key:0},{default:e(()=>[a(A,null,{default:e(()=>[a(V,null,{default:e(()=>[B(o(l.allergen_data[s]),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)):f("",!0)],64))),128))]),_:1})):f("",!0)]),_:1})]),_:1},8,["class"])]),_:1},8,["modelValue","position","onBeforeShow"])}var R=_(v,[["render",P]]);export{R as default};
