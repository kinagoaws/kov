import{ao as s,ai as r,_ as l,X as c,m as _,n as d,Q as g}from"./index.c5b868f5.js";const i=s("FacebookLogin",{web:()=>r(()=>import("./web.d8b54f69.js"),["assets/web.d8b54f69.js","assets/index.c5b868f5.js","assets/index.7897e990.css"]).then(e=>new e.FacebookLoginWeb)}),m=["email","user_birthday","user_photos","user_gender"],f={name:"FacebookLogin",props:["app_id"],data(){return{loading:!1}},mounted(){this.init()},methods:{init(){i.initialize({appId:this.app_id})},Signin(){i.login({permissions:m}).then(e=>{this.getFbProfile(e.accessToken.token)}).catch(e=>{}).then(e=>{})},getFbProfile(e){this.loading=!0,i.getProfile({fields:["email","first_name","last_name"]}).then(o=>{console.debug(o);const a={id:o.id,email_address:o.email,first_name:o.first_name,last_name:o.last_name,social_strategy:"facebook",social_token:e};this.$emit("afterLogin",a)}).catch(o=>{c.notify("red-5",o,"error_outline",this.$q)}).then(o=>{this.loading=!1})}}};function p(e,o,a,h,n,t){return _(),d(g,{icon:"lab la-facebook-f",unelevated:"",color:e.$q.dark.mode?"grey600":"grey-3",class:"rounded-borders text-grey",onClick:t.Signin,loading:n.loading,size:"lg"},null,8,["color","onClick","loading"])}var b=l(f,[["render",p]]);export{b as default};
