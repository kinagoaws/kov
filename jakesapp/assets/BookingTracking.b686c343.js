import{_ as b,ad as R,l as C,m as d,Y as c,f as e,p as o,F as f,af as u,Q as p,S as r,R as n,n as k,ac as g,P as q,$ as s,a0 as l,ai as w}from"./index.c5b868f5.js";import{Q as D}from"./QToolbarTitle.4da9f270.js";import{Q as T}from"./QToolbar.9b15bf0e.js";import{Q as V}from"./QHeader.b374650f.js";import{Q as I,a as _}from"./QStepper.2be652f3.js";import{Q as B}from"./QSpace.24950ca6.js";import{Q as L}from"./QImg.79fcc1c6.js";import{Q as i}from"./QItemLabel.4665782c.js";import{Q as S}from"./QList.9b7158f1.js";import{Q as N}from"./QFooter.51024c6d.js";import{Q as P}from"./QInnerLoading.ff23f6a9.js";import{Q as z}from"./QPage.528ab8a8.js";import{Q as A}from"./QPullToRefresh.85618661.js";import{u as E}from"./BookingStore.4fe3817f.js";import"./QResizeObserver.3ed5059f.js";import"./QSlideTransition.1f937a0a.js";import"./use-render-cache.3aae9b27.js";import"./touch.9135741d.js";import"./selection.65959ca5.js";import"./TouchPan.5486290b.js";import"./format.8ac60962.js";const F={name:"BookingTracking",components:{ComponentsRealtime:R(()=>w(()=>import("./ComponentsRealtime.a3fe8e7f.js"),["assets/ComponentsRealtime.a3fe8e7f.js","assets/index.c5b868f5.js","assets/index.7897e990.css"]))},data(){return{reservation_uuid:"",steps:1}},setup(){return{BookingStore:E()}},mounted(){this.reservation_uuid=this.$route.query.id,console.log("reservation_uuid",this.reservation_uuid),this.BookingDetails()},methods:{refresh(a){this.BookingStore.getBookingDetails(this.reservation_uuid,a)},BookingDetails(){this.BookingStore.getBookingDetails(this.reservation_uuid,null)},afterReceive(a){console.log("afterReceive"),console.log(a)}}},G={key:0,class:"text-center"};function H(a,m,M,t,v,y){const Q=C("ComponentsRealtime");return d(),c(f,null,[e(A,{onRefresh:y.refresh},{default:o(()=>[e(V,{class:u(["bg-whitex",{"bg-mydark text-white":a.$q.dark.mode,"bg-white text-dark":!a.$q.dark.mode}]),reveal:""},{default:o(()=>[e(T,null,{default:o(()=>[e(p,{onClick:m[0]||(m[0]=h=>a.$router.back()),round:"",dense:"",icon:"arrow_back",unelevated:"",color:a.$q.dark.mode?"grey":"mygrey","text-color":a.$q.dark.mode?"grey-9":"dark"},null,8,["color","text-color"]),e(D,{class:"text-weight-bold text-darkx"},{default:o(()=>[r(n(a.$t("Track Booking")),1)]),_:1}),t.BookingStore.hasBookingData?(d(),c(f,{key:0},[t.BookingStore.CanCancelReservation?(d(),k(p,{key:0,dense:"",flat:"",unelevated:"",color:"red-5",round:"",icon:"las la-trash",class:"q-ml-md",to:{path:"/reservation/cancel",query:{id:this.reservation_uuid}}},null,8,["to"])):g("",!0)],64)):g("",!0)]),_:1})]),_:1},8,["class"]),e(z,{class:u(["q-pa-md",{"bg-mydark text-white":a.$q.dark.mode,"bg-white text-dark":!a.$q.dark.mode}])},{default:o(()=>[t.BookingStore.hasBookingData?(d(),c(f,{key:0},[q("div",{class:u(["q-pa-sm bg-mygreyx radius10",{"bg-grey600 ":a.$q.dark.mode,"bg-mygrey ":!a.$q.dark.mode}])},[e(I,{modelValue:v.steps,"onUpdate:modelValue":m[1]||(m[1]=h=>v.steps=h),ref:"stepper",contracted:"",animated:"",flat:"",class:"bg-transparent","done-color":"primary","active-color":"primary","inactive-color":a.$q.dark.mode?"grey300":"white"},{default:o(()=>[e(_,{name:1,icon:"pending_actions","active-icon":"pending_actions","done-icon":"pending_actions","done-color":t.BookingStore.getBookingStatusSteps>1?"primary":"red",done:t.BookingStore.getBookingStatusSteps>=1||t.BookingStore.getBookingStatusSteps<=0},null,8,["done-color","done"]),e(_,{name:2,icon:"restaurant","active-icon":"restaurant","done-icon":"restaurant","done-color":t.BookingStore.getBookingStatusSteps>=2?"primary":"red",done:t.BookingStore.getBookingStatusSteps>=2||t.BookingStore.getBookingStatusSteps<=0},null,8,["done-color","done"]),e(_,{name:3,icon:"flag","active-icon":"flag","done-icon":"flag","done-color":t.BookingStore.getBookingStatusSteps>=3?"primary":"red",done:t.BookingStore.getBookingStatusSteps>=3||t.BookingStore.getBookingStatusSteps<=0},null,8,["done-color","done"])]),_:1},8,["modelValue","inactive-color"])],2),t.BookingStore.getBookingStatusSteps<=0?(d(),c("div",G,[q("div",{class:u(["q-pa-sm",t.BookingStore.bookingStatusColor])},n(t.BookingStore.booking_data.data.status_pretty),3)])):(d(),k(B,{key:1,class:"q-pa-sm"})),e(S,null,{default:o(()=>[e(s,null,{default:o(()=>[e(l,{avatar:"",top:""},{default:o(()=>[e(L,{src:t.BookingStore.getBooking.merchant.logo,style:{width:"70px",height:"70px"},fit:"cover",loading:"lazy","spinner-color":"primary","spinner-size":"xs",class:"rounded-borders"},null,8,["src"])]),_:1}),e(l,{top:""},{default:o(()=>[e(i,null,{default:o(()=>[r(n(t.BookingStore.getBooking.merchant.restaurant_name),1)]),_:1}),e(i,{caption:""},{default:o(()=>[r(n(t.BookingStore.getBooking.merchant.address),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(B,{class:"q-pa-sm"}),e(S,{bordered:"",dense:"",class:"radius10"},{default:o(()=>[e(s,{class:"q-pa-none"},{default:o(()=>[e(l,null,{default:o(()=>[e(i,null,{default:o(()=>[r(n(a.$t("Reservation ID")),1)]),_:1})]),_:1}),e(l,null,{default:o(()=>[e(i,{caption:""},{default:o(()=>[r(n(t.BookingStore.getBooking.data.reservation_id),1)]),_:1})]),_:1})]),_:1}),e(s,{class:"q-pa-none"},{default:o(()=>[e(l,null,{default:o(()=>[e(i,null,{default:o(()=>[r(n(a.$t("Guest")),1)]),_:1})]),_:1}),e(l,null,{default:o(()=>[e(i,{caption:""},{default:o(()=>[r(n(t.BookingStore.getBooking.data.guest_number),1)]),_:1})]),_:1})]),_:1}),e(s,{class:"q-pa-none"},{default:o(()=>[e(l,null,{default:o(()=>[e(i,null,{default:o(()=>[r(n(a.$t("Date"))+" :",1)]),_:1})]),_:1}),e(l,null,{default:o(()=>[e(i,{caption:""},{default:o(()=>[r(n(t.BookingStore.getBooking.data.reservation_date),1)]),_:1})]),_:1})]),_:1}),e(s,{class:"q-pa-none"},{default:o(()=>[e(l,null,{default:o(()=>[e(i,null,{default:o(()=>[r(n(a.$t("Time")),1)]),_:1})]),_:1}),e(l,null,{default:o(()=>[e(i,{caption:""},{default:o(()=>[r(n(t.BookingStore.getBooking.data.reservation_time),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(B,{class:"q-pa-sm"}),e(S,{bordered:"",dense:"",class:"radius10"},{default:o(()=>[e(s,{class:"q-pa-none"},{default:o(()=>[e(l,null,{default:o(()=>[e(i,null,{default:o(()=>[r(n(a.$t("Name")),1)]),_:1})]),_:1}),e(l,null,{default:o(()=>[e(i,{caption:""},{default:o(()=>[r(n(t.BookingStore.getBooking.data.full_name),1)]),_:1})]),_:1})]),_:1}),e(s,{class:"q-pa-none"},{default:o(()=>[e(l,null,{default:o(()=>[e(i,null,{default:o(()=>[r(n(a.$t("Email address")),1)]),_:1})]),_:1}),e(l,null,{default:o(()=>[e(i,{caption:""},{default:o(()=>[r(n(t.BookingStore.getBooking.data.email_address),1)]),_:1})]),_:1})]),_:1}),e(s,{class:"q-pa-none"},{default:o(()=>[e(l,null,{default:o(()=>[e(i,null,{default:o(()=>[r(n(a.$t("Contact number")),1)]),_:1})]),_:1}),e(l,null,{default:o(()=>[e(i,{caption:""},{default:o(()=>[r(n(t.BookingStore.getBooking.data.contact_phone),1)]),_:1})]),_:1})]),_:1}),e(s,{class:"q-pa-none"},{default:o(()=>[e(l,null,{default:o(()=>[e(i,null,{default:o(()=>[r(n(a.$t("Special Request")),1)]),_:1})]),_:1}),e(l,null,{default:o(()=>[e(i,{caption:""},{default:o(()=>[r(n(t.BookingStore.getBooking.data.special_request),1)]),_:1})]),_:1})]),_:1})]),_:1}),t.BookingStore.CanCancelReservation?(d(),k(N,{key:2,class:u(["q-pl-md q-pr-md q-pt-sm q-pb-sm text-dark border-top",{"bg-mydark ":a.$q.dark.mode,"bg-white ":!a.$q.dark.mode}])},{default:o(()=>[e(p,{unelevated:"",color:"primary",label:a.$t("Modify Reservation"),class:"radius20 fit","no-caps":"",size:"lg",to:{path:"/reservation/update",query:{id:this.reservation_uuid}}},null,8,["label","to"])]),_:1},8,["class"])):g("",!0)],64)):g("",!0),t.BookingStore.isLoading?(d(),k(P,{key:1,showing:!0,color:a.$q.dark.mode?"grey300":"primary"},null,8,["color"])):g("",!0)]),_:1},8,["class"])]),_:1},8,["onRefresh"]),e(Q,{ref:"realtime",getevent:"notifications",onAfterReceive:y.afterReceive},null,8,["onAfterReceive"])],64)}var ue=b(F,[["render",H]]);export{ue as default};
