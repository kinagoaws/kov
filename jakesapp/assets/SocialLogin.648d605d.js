import{_ as v,O as S,U as L,ad as c,ai as g,X as l,ae as d,l as _,m as n,Y as r,P as s,R as u,f as i,bd as h,ac as p,Q as f}from"./index.c5b868f5.js";const b={name:"SocialLogin",data(){return{settings:[]}},setup(){const t=S(),e=L();return{DataStorePersisted:t,SettingStore:e}},components:{GoogleLogin:c(()=>g(()=>import("./GoogleLogin.b0f67d2c.js"),["assets/GoogleLogin.b0f67d2c.js","assets/index.c5b868f5.js","assets/index.7897e990.css"])),FacebookLogin:c(()=>g(()=>import("./FacebookLogin.9b947e16.js"),["assets/FacebookLogin.9b947e16.js","assets/index.c5b868f5.js","assets/index.7897e990.css"]))},mounted(){Object.keys(this.SettingStore.settings_data).length>0?this.settings=this.SettingStore.settings_data.social_settings:this.$watch(()=>this.SettingStore.$state.settings_data,(t,e)=>{this.settings=t.social_settings})},methods:{afterLogin(t){console.log("afterLogin"),t.local_id=l.getStorage("local_id"),l.fetchDataPost("SocialRegister",t).then(e=>{e.details.redirect.page==="verify"?this.$router.push({path:"/account/verify",query:{uuid:e.details.redirect.uuid}}):e.details.redirect.page==="complete-registration"?this.$router.push({path:"/account/complete-registration",query:{uuid:e.details.redirect.uuid}}):(d.setUser(e.details.user_data),d.setToken(e.details.user_token),this.DataStorePersisted.user_settings=e.details.user_settings,this.$router.push("/home"))}).catch(e=>{l.notify("negative",e,"error_outline",this.$q)}).then(e=>{})}}},k={key:0,class:"flexx full-width items-center"},q={class:"text-grey q-pr-sm"},x={class:"row q-col-gutter-md"},w={key:0,class:"q-mt-xs"},P={key:1,class:"q-mt-xs"},A={class:"q-mt-xs"},D={key:1,class:"full-width items-center"},O={class:"text-grey q-pr-sm"},$={class:"row q-col-gutter-md"},E={class:"q-mt-xs"};function V(t,e,B,R,o,a){const m=_("GoogleLogin"),y=_("FacebookLogin");return o.settings.google_login_enabled||o.settings.fb_flag?(n(),r("div",k,[s("div",q,u(t.$t("Or sign in with social account")),1),s("div",null,[i(h,{style:{width:"100px"}})]),s("div",x,[o.settings.google_login_enabled?(n(),r("div",w,[i(m,{client_id:o.settings.google_client_id,ref:"google_login",onAfterLogin:a.afterLogin},null,8,["client_id","onAfterLogin"])])):p("",!0),o.settings.fb_flag?(n(),r("div",P,[i(y,{ref:"facebook_login",app_id:o.settings.fb_app_id,onAfterLogin:a.afterLogin},null,8,["app_id","onAfterLogin"])])):p("",!0),s("div",A,[i(f,{icon:"las la-phone",unelevated:"",color:t.$q.dark.mode?"grey600":"grey-3",class:"rounded-borders text-grey",to:"/user/loginbyphone",size:"lg"},null,8,["color"])])])])):(n(),r("div",D,[s("div",O,u(t.$t("Or sign in with phone number")),1),s("div",null,[i(h,{style:{width:"100px"}})]),s("div",$,[s("div",E,[i(f,{icon:"las la-phone",unelevated:"",color:t.$q.dark.mode?"grey600":"grey-3",class:"rounded-borders text-grey",to:"/user/loginbyphone",size:"lg"},null,8,["color"])])])]))}var F=v(b,[["render",V]]);export{F as default};
