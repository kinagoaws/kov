import{_ as p,ad as g,ai as b,X as s,l as C,m as D,Y as y,f as e,p as a,bh as Q,bg as u,P as S,R as r,b8 as w,Q as m,$ as P,a0 as c,S as _,bc as V,bd as k,bT as B,aX as v,F as x}from"./index.c5b868f5.js";import{Q as A}from"./QInnerLoading.ff23f6a9.js";import{Q as I}from"./QSpace.24950ca6.js";import{Q as f}from"./QItemLabel.4665782c.js";import{C as T}from"./ClosePopup.32eeb9ff.js";const $={name:"PaymentDetails",components:{ConfirmDialog:g(()=>b(()=>import("./ConfirmDialog.fb29ed2b.js"),["assets/ConfirmDialog.fb29ed2b.js","assets/QToolbarTitle.4da9f270.js","assets/index.c5b868f5.js","assets/index.7897e990.css","assets/QToolbar.9b15bf0e.js"]))},props:["data"],data(){return{loading:!1,loading_default:!1,modal:!1,as_default:!1}},setup(){return{}},methods:{beforeShow(){this.as_default=this.data.as_default==1},Setdefault(t){let o=t==!0?1:0;this.loading_default=!0,s.fetchDataByTokenPost("SetDefaultPayment","payment_uuid="+this.data.payment_uuid+"&default="+o).then(n=>{this.modal=!1,this.$emit("afterDelete")}).catch(n=>{s.notify("dark",n,"error_outline",this.$q)}).then(n=>{this.loading_default=!1})},confirmDelete(){this.$refs.dialog.dialog=!0},afterConfirm(){this.$refs.dialog.dialog=!1,this.loading=!0,s.fetchDataByTokenPost("deletePayment","payment_uuid="+this.data.payment_uuid).then(t=>{this.modal=!1,this.$emit("afterDelete")}).catch(t=>{s.notify("dark",t,"error_outline",this.$q)}).then(t=>{this.loading=!1})}}},q={class:"text-h6 text-weight-bold"};function E(t,o,n,L,l,i){const h=C("ConfirmDialog");return D(),y(x,null,[e(v,{modelValue:l.modal,"onUpdate:modelValue":o[1]||(o[1]=d=>l.modal=d),persistent:"",position:"bottom","transition-show":"fade","transition-hide":"fadeout",onBeforeShow:i.beforeShow},{default:a(()=>[e(Q,null,{default:a(()=>[e(A,{showing:l.loading_default,color:"primary"},null,8,["showing"]),e(u,{class:"row items-center q-pb-none"},{default:a(()=>[S("div",q,r(t.$t("Details")),1),e(I),w(e(m,{icon:"close",flat:"",round:"",dense:""},null,512),[[T]])]),_:1}),e(u,null,{default:a(()=>[e(P,{tag:"label"},{default:a(()=>[e(c,null,{default:a(()=>[e(f,null,{default:a(()=>[_(r(n.data.attr1),1)]),_:1}),e(f,{caption:""},{default:a(()=>[_(r(n.data.attr2),1)]),_:1})]),_:1})]),_:1}),e(c,null,{default:a(()=>[e(f,null,{default:a(()=>[e(V,{color:"primary",modelValue:l.as_default,"onUpdate:modelValue":[o[0]||(o[0]=d=>l.as_default=d),i.Setdefault],label:t.$t("Set as default"),disable:l.loading_default},null,8,["modelValue","label","onUpdate:modelValue","disable"])]),_:1})]),_:1})]),_:1}),e(k),e(B,null,{default:a(()=>[e(m,{color:"red-9","text-color":"red-2",unelevated:"",class:"fit",size:"17px","no-caps":"",label:t.$t("Delete"),rounded:"",onClick:i.confirmDelete,loading:l.loading,disable:l.loading_default},null,8,["label","onClick","loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue","onBeforeShow"]),e(h,{ref:"dialog",data:{title:this.$t("Delete"),subtitle:this.$t("Are you sure you want to continue?"),confirm:this.$t("Yes"),cancel:this.$t("Cancel")},onAfterConfirm:i.afterConfirm},null,8,["data","onAfterConfirm"])],64)}var Y=p($,[["render",E]]);export{Y as default};
