import{_ as y,U as q,O as $,V as c,m as l,n as d,p as t,f as a,Q as p,af as o,S as i,R as n,Y as h,F as k,Z as b,$ as _,a0 as g,a1 as w,a2 as L}from"./index.c5b868f5.js";import{Q as v}from"./QToolbarTitle.4da9f270.js";import{Q as P}from"./QToolbar.9b15bf0e.js";import{Q as x}from"./QHeader.b374650f.js";import{Q as T}from"./QImg.79fcc1c6.js";import{Q as S}from"./QItemLabel.4665782c.js";import{Q as D}from"./QList.9b7158f1.js";import{Q as R}from"./QFooter.51024c6d.js";import{Q as V}from"./QInnerLoading.ff23f6a9.js";import{Q as C}from"./QPage.528ab8a8.js";import{Q as I}from"./QPullToRefresh.85618661.js";import"./QResizeObserver.3ed5059f.js";import"./TouchPan.5486290b.js";import"./touch.9135741d.js";import"./selection.65959ca5.js";import"./format.8ac60962.js";const z={name:"LanguagePage",data(){return{language:""}},setup(){const e=q(),r=$();return{SettingStore:e,DataStorePersisted:r}},mounted(){this.language=this.DataStorePersisted.app_language},methods:{async refresh(e){await this.SettingStore.getSettings(),e()},async setLanguage(){this.DataStorePersisted.app_language=this.language,this.$i18n.locale=this.language,c.defaults.params={},c.defaults.params.language=this.$i18n.locale,this.setRTL(),await this.SettingStore.getSettings(),this.SettingStore.formatTransaction()},setRTL(){Object.keys(this.SettingStore.settings_data).length>0&&Object.entries(this.SettingStore.settings_data.language_list.list).forEach(([e,r])=>{this.language==r.code&&(r.rtl==1?(this.$q.lang.set({rtl:!0}),this.DataStorePersisted.rtl=!0):(this.$q.lang.set({rtl:!1}),this.DataStorePersisted.rtl=!1))})}}};function B(e,r,F,u,m,f){return l(),d(I,{onRefresh:f.refresh},{default:t(()=>[a(x,{class:o(["bg-whitex",{"bg-mydark ":e.$q.dark.mode,"bg-white ":!e.$q.dark.mode}]),reveal:""},{default:t(()=>[a(P,null,{default:t(()=>[a(p,{onClick:r[0]||(r[0]=s=>e.$router.back()),round:"",dense:"",icon:"arrow_back",unelevated:"",color:e.$q.dark.mode?"grey":"mygrey","text-color":e.$q.dark.mode?"grey-9":"dark"},null,8,["color","text-color"]),a(v,{class:o(["text-weight-bold text-darkx",{"text-white":e.$q.dark.mode,"text-dark":!e.$q.dark.mode}])},{default:t(()=>[i(n(e.$t("Language")),1)]),_:1},8,["class"])]),_:1})]),_:1},8,["class"]),a(C,{class:"q-pa-md"},{default:t(()=>[u.SettingStore.loading?(l(),d(V,{key:1,showing:!0,color:"yellow-9"})):(l(),h(k,{key:0},[a(D,null,{default:t(()=>[(l(!0),h(k,null,b(u.SettingStore.settings_data.language_list.list,s=>(l(),d(_,{key:s,class:o(["radius10 q-mb-sm",{"bg-grey600":e.$q.dark.mode,"bg-mygrey ":!e.$q.dark.mode}]),clickable:"",tag:"label"},{default:t(()=>[a(g,{avatar:""},{default:t(()=>[a(w,{square:""},{default:t(()=>[a(T,{src:s.flag_url,style:{"max-height":"25px"},"spinner-color":"primary","spinner-size":"sm"},null,8,["src"])]),_:2},1024)]),_:2},1024),a(g,null,{default:t(()=>[a(S,{class:o(["text-weight-medium text-darkx",{"text-grey300":e.$q.dark.mode,"text-dark":!e.$q.dark.mode}])},{default:t(()=>[i(n(s.title),1)]),_:2},1032,["class"]),a(S,{class:"text-grey font12 ellipsis-2-lines"},{default:t(()=>[i(n(s.description),1)]),_:2},1024)]),_:2},1024),a(g,{side:""},{default:t(()=>[a(L,{modelValue:m.language,"onUpdate:modelValue":r[1]||(r[1]=Q=>m.language=Q),val:s.code,color:"yellow-9","checked-icon":"check_circle","unchecked-icon":"panorama_fish_eye",size:"lg"},null,8,["modelValue","val"])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1}),a(R,{class:o(["q-pa-md row q-col-gutter-xs",{"bg-dark":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode}])},{default:t(()=>[a(p,{color:"primary",size:"lg",rounded:"",unelevated:"","no-caps":"",class:"full-width",onClick:f.setLanguage},{default:t(()=>[i(n(e.$t("Save")),1)]),_:1},8,["onClick"])]),_:1},8,["class"])],64))]),_:1})]),_:1},8,["onRefresh"])}var ae=y(z,[["render",B]]);export{ae as default};
