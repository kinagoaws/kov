import{Q as ne}from"./QSlideTransition.1f937a0a.js";import{u as O}from"./use-render-cache.3aae9b27.js";import{t as V,r as K,c as v,h as c,ah as re,b8 as ae,aM as oe,g as T,ay as ie,az as x,I as se,aA as le,aB as I,aC as B,aE as z,al as N,aF as $,a9 as ue,w as ce,q as ve,b9 as de,x as w,ba as X,i as pe,u as E,bb as Y,a4 as fe,a6 as me,v as ge,E as he,aw as be}from"./index.c5b868f5.js";import{g as W,s as F}from"./touch.9135741d.js";import{c as ye}from"./selection.65959ca5.js";var H=V({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:n}){const{proxy:{$q:d}}=T(),p=K(null),i=v(()=>e.stepper.modelValue===e.step.name),t=v(()=>{const r=e.step.disable;return r===!0||r===""}),a=v(()=>{const r=e.step.error;return r===!0||r===""}),s=v(()=>{const r=e.step.done;return t.value===!1&&(r===!0||r==="")}),f=v(()=>{const r=e.step.headerNav,u=r===!0||r===""||r===void 0;return t.value===!1&&e.stepper.headerNav&&u}),b=v(()=>e.step.prefix&&(i.value===!1||e.stepper.activeIcon==="none")&&(a.value===!1||e.stepper.errorIcon==="none")&&(s.value===!1||e.stepper.doneIcon==="none")),l=v(()=>{const r=e.step.icon||e.stepper.inactiveIcon;if(i.value===!0){const u=e.step.activeIcon||e.stepper.activeIcon;return u==="none"?r:u||d.iconSet.stepper.active}if(a.value===!0){const u=e.step.errorIcon||e.stepper.errorIcon;return u==="none"?r:u||d.iconSet.stepper.error}if(t.value===!1&&s.value===!0){const u=e.step.doneIcon||e.stepper.doneIcon;return u==="none"?r:u||d.iconSet.stepper.done}return r}),h=v(()=>{const r=a.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(i.value===!0){const u=e.step.activeColor||e.stepper.activeColor||e.step.color;return u!==void 0?u:r}return r!==void 0?r:t.value===!1&&s.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),m=v(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(h.value!==void 0?` text-${h.value}`:"")+(a.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(b.value===!0?"prefix":"icon"):"")+(i.value===!0?" q-stepper__tab--active":"")+(s.value===!0?" q-stepper__tab--done":"")+(f.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(t.value===!0?" q-stepper__tab--disabled":"")),S=v(()=>e.stepper.headerNav!==!0?!1:f.value);function y(){p.value!==null&&p.value.focus(),i.value===!1&&e.goToPanel(e.step.name)}function _(r){r.keyCode===13&&i.value===!1&&e.goToPanel(e.step.name)}return()=>{const r={class:m.value};f.value===!0&&(r.onClick=y,r.onKeyup=_,Object.assign(r,t.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:n.tabindex||0}));const u=[c("div",{class:"q-focus-helper",tabindex:-1,ref:p}),c("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[c("span",{class:"row flex-center"},[b.value===!0?e.step.prefix:c(re,{name:l.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const q=[c("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&q.push(c("div",{class:"q-stepper__caption"},e.step.caption)),u.push(c("div",{class:"q-stepper__label q-stepper__line relative-position"},q))}return ae(c("div",r,u),[[oe,S.value]])}}});function Se(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((d,p)=>{const i=parseFloat(d);i&&(n[p]=i)}),n}var Ce=ie({name:"touch-swipe",beforeMount(e,{value:n,arg:d,modifiers:p}){if(p.mouse!==!0&&x.has.touch!==!0)return;const i=p.mouseCapture===!0?"Capture":"",t={handler:n,sensitivity:Se(d),direction:W(p),noop:se,mouseStart(a){F(a,t)&&le(a)&&(I(t,"temp",[[document,"mousemove","move",`notPassive${i}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(a,!0))},touchStart(a){if(F(a,t)){const s=a.target;I(t,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),t.start(a)}},start(a,s){x.is.firefox===!0&&B(e,!0);const f=z(a);t.event={x:f.left,y:f.top,time:Date.now(),mouse:s===!0,dir:!1}},move(a){if(t.event===void 0)return;if(t.event.dir!==!1){N(a);return}const s=Date.now()-t.event.time;if(s===0)return;const f=z(a),b=f.left-t.event.x,l=Math.abs(b),h=f.top-t.event.y,m=Math.abs(h);if(t.event.mouse!==!0){if(l<t.sensitivity[1]&&m<t.sensitivity[1]){t.end(a);return}}else if(window.getSelection().toString()!==""){t.end(a);return}else if(l<t.sensitivity[2]&&m<t.sensitivity[2])return;const S=l/s,y=m/s;t.direction.vertical===!0&&l<m&&l<100&&y>t.sensitivity[0]&&(t.event.dir=h<0?"up":"down"),t.direction.horizontal===!0&&l>m&&m<100&&S>t.sensitivity[0]&&(t.event.dir=b<0?"left":"right"),t.direction.up===!0&&l<m&&h<0&&l<100&&y>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&l<m&&h>0&&l<100&&y>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&l>m&&b<0&&m<100&&S>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&l>m&&b>0&&m<100&&S>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(N(a),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ye(),t.styleCleanup=_=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const r=()=>{document.body.classList.remove("no-pointer-events--children")};_===!0?setTimeout(r,50):r()}),t.handler({evt:a,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:s,distance:{x:l,y:m}})):t.end(a)},end(a){t.event!==void 0&&($(t,"temp"),x.is.firefox===!0&&B(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),a!==void 0&&t.event.dir!==!1&&N(a),t.event=void 0)}};if(e.__qtouchswipe=t,p.mouse===!0){const a=p.mouseCapture===!0||p.mousecapture===!0?"Capture":"";I(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}x.has.touch===!0&&I(t,"main",[[e,"touchstart","touchStart",`passive${p.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const d=e.__qtouchswipe;d!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&d.end(),d.handler=n.value),d.direction=W(n.modifiers))},beforeUnmount(e){const n=e.__qtouchswipe;n!==void 0&&($(n,"main"),$(n,"temp"),x.is.firefox===!0&&B(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete e.__qtouchswipe)}});const _e={name:{required:!0},disable:Boolean},U={setup(e,{slots:n}){return()=>c("div",{class:"q-panel scroll",role:"tabpanel"},w(n.default))}},qe={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Pe=["update:modelValue","beforeTransition","transition"];function xe(){const{props:e,emit:n,proxy:d}=T(),{getCache:p}=O(),{registerTimeout:i}=ue();let t,a;const s=K(null),f={value:null};function b(o){const g=e.vertical===!0?"up":"left";P((d.$q.lang.rtl===!0?-1:1)*(o.direction===g?1:-1))}const l=v(()=>[[Ce,b,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),h=v(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),m=v(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),S=v(()=>`--q-transition-duration: ${e.transitionDuration}ms`),y=v(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),_=v(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),r=v(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ce(()=>e.modelValue,(o,g)=>{const C=k(o)===!0?D(o):-1;a!==!0&&L(C===-1?0:C<D(g)?-1:1),f.value!==C&&(f.value=C,n("beforeTransition",o,g),i(()=>{n("transition",o,g)},e.transitionDuration))});function u(){P(1)}function q(){P(-1)}function Q(o){n("update:modelValue",o)}function k(o){return o!=null&&o!==""}function D(o){return t.findIndex(g=>g.props.name===o&&g.props.disable!==""&&g.props.disable!==!0)}function J(){return t.filter(o=>o.props.disable!==""&&o.props.disable!==!0)}function L(o){const g=o!==0&&e.animated===!0&&f.value!==-1?"q-transition--"+(o===-1?h.value:m.value):null;s.value!==g&&(s.value=g)}function P(o,g=f.value){let C=g+o;for(;C!==-1&&C<t.length;){const A=t[C];if(A!==void 0&&A.props.disable!==""&&A.props.disable!==!0){L(o),a=!0,n("update:modelValue",A.props.name),setTimeout(()=>{a=!1});return}C+=o}e.infinite===!0&&t.length!==0&&g!==-1&&g!==t.length&&P(o,o===-1?t.length:-1)}function M(){const o=D(e.modelValue);return f.value!==o&&(f.value=o),!0}function R(){const o=k(e.modelValue)===!0&&M()&&t[f.value];return e.keepAlive===!0?[c(X,_.value,[c(r.value===!0?p(y.value,()=>({...U,name:y.value})):U,{key:y.value,style:S.value},()=>o)])]:[c("div",{class:"q-panel scroll",style:S.value,key:y.value,role:"tabpanel"},[o])]}function Z(){if(t.length!==0)return e.animated===!0?[c(ve,{name:s.value},R)]:R()}function ee(o){return t=de(w(o.default,[])).filter(g=>g.props!==null&&g.props.slot===void 0&&k(g.props.name)===!0),t.length}function te(){return t}return Object.assign(d,{next:u,previous:q,goTo:Q}),{panelIndex:f,panelDirectives:l,updatePanelsList:ee,updatePanelIndex:M,getPanelContent:Z,getEnabledPanels:J,getPanels:te,isValidPanelName:k,keepAliveProps:_,needsUniqueKeepAliveWrapper:r,goToPanelByOffset:P,goToPanel:Q,nextPanel:u,previousPanel:q}}function G(e){return c("div",{class:"q-stepper__step-content"},[c("div",{class:"q-stepper__step-inner"},w(e.default))])}const j={setup(e,{slots:n}){return()=>G(n)}};var Ne=V({name:"QStep",props:{..._e,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:n,emit:d}){const{proxy:{$q:p}}=T(),i=pe(Y,E);if(i===E)return console.error("QStep needs to be a child of QStepper"),E;const{getCache:t}=O(),a=K(null),s=v(()=>i.value.modelValue===e.name),f=v(()=>p.platform.is.ios!==!0&&p.platform.is.chrome===!0||s.value!==!0||i.value.vertical!==!0?{}:{onScroll(h){const{target:m}=h;m.scrollTop>0&&(m.scrollTop=0),e.onScroll!==void 0&&d("scroll",h)}}),b=v(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function l(){const h=i.value.vertical;return h===!0&&i.value.keepAlive===!0?c(X,i.value.keepAliveProps.value,s.value===!0?[c(i.value.needsUniqueKeepAliveWrapper.value===!0?t(b.value,()=>({...j,name:b.value})):j,{key:b.value},n.default)]:void 0):h!==!0||s.value===!0?G(n):void 0}return()=>c("div",{ref:a,class:"q-stepper__step",role:"tabpanel",...f.value},i.value.vertical===!0?[c(H,{stepper:i.value,step:e,goToPanel:i.value.goToPanel}),i.value.animated===!0?c(ne,l):l()]:[l()])}});const we=/(-\w)/g;function ke(e){const n={};for(const d in e){const p=d.replace(we,i=>i[1].toUpperCase());n[p]=e[d]}return n}var $e=V({name:"QStepper",props:{...fe,...qe,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:Pe,setup(e,{slots:n}){const d=T(),p=me(e,d.proxy.$q),{updatePanelsList:i,isValidPanelName:t,updatePanelIndex:a,getPanelContent:s,getPanels:f,panelDirectives:b,goToPanel:l,keepAliveProps:h,needsUniqueKeepAliveWrapper:m}=xe();ge(Y,v(()=>({goToPanel:l,keepAliveProps:h,needsUniqueKeepAliveWrapper:m,...e})));const S=v(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(p.value===!0?" q-stepper--dark q-dark":"")),y=v(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function _(){const r=w(n.message,[]);if(e.vertical===!0){t(e.modelValue)&&a();const u=c("div",{class:"q-stepper__content"},w(n.default));return r===void 0?[u]:r.concat(u)}return[c("div",{class:y.value},f().map(u=>{const q=ke(u.props);return c(H,{key:q.name,stepper:e,step:q,goToPanel:l})})),r,be("div",{class:"q-stepper__content q-panel-parent"},s(),"cont",e.swipeable,()=>b.value)]}return()=>(i(n),c("div",{class:S.value},he(n.navigation,_())))}});export{$e as Q,Ne as a};
