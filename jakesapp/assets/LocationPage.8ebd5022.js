import{ao as Oe,ai as L,_ as Ce,ad as U,U as ke,O as Le,ae as Te,X as ne,bK as xe,l as Q,m as _,n as A,p as v,ac as oe,P as G,f as p,Q as M,bh as De,af as ie,Y as I,bg as F,R as E,bd as ae,F as Y,Z as qe,$ as se,a0 as O,ah as ce,S as N,aX as Ue}from"./index.c5b868f5.js";import{Q as Qe}from"./QPageSticky.d00b3310.js";import{Q as Ge}from"./QList.9b7158f1.js";import{Q as Ye}from"./QItemLabel.4665782c.js";import{Q as Ne}from"./QPage.528ab8a8.js";import"./use-page-sticky.ec3ca395.js";const C=Oe("Geolocation",{web:()=>L(()=>import("./web.59633d1c.js"),["assets/web.59633d1c.js","assets/index.c5b868f5.js","assets/index.7897e990.css"]).then(e=>new e.GeolocationWeb)});function Ve(){if(typeof process=="undefined"){var e=typeof window!="undefined"?window:{},t=5e3,r=Date.now(),n=!1;e.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-r)+" ms"),n=!0}),setTimeout(function(){!n&&e.cordova&&console.warn("Ionic Native: deviceready did not fire within "+t+"ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},t)}}var j=function(e,t){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},j(e,t)};function Z(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");j(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Me(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(l){try{c(n.next(l))}catch(m){a(m)}}function u(l){try{c(n.throw(l))}catch(m){a(m)}}function c(l){l.done?i(l.value):o(l.value).then(s,u)}c((n=n.apply(e,t||[])).next())})}function ve(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],o=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function T(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function x(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function P(e){return this instanceof P?(this.v=e,this):new P(e)}function Fe(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(f){return function(y){return Promise.resolve(y).then(f,m)}}function s(f,y){n[f]&&(o[f]=function(h){return new Promise(function(D,S){i.push([f,h,D,S])>1||u(f,h)})},y&&(o[f]=y(o[f])))}function u(f,y){try{c(n[f](y))}catch(h){g(i[0][3],h)}}function c(f){f.value instanceof P?Promise.resolve(f.value.v).then(l,m):g(i[0][2],f)}function l(f){u("next",f)}function m(f){u("throw",f)}function g(f,y){f(y),i.shift(),i.length&&u(i[0][0],i[0][1])}}function He(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof T=="function"?T(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(s,u){a=e[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(c){i({value:c,done:s})},a)}}function d(e){return typeof e=="function"}function We(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var H=We(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,o){return o+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function ue(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var $=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=T(a),u=s.next();!u.done;u=s.next()){var c=u.value;c.remove(this)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}else a.remove(this);var l=this.initialTeardown;if(d(l))try{l()}catch(h){i=h instanceof H?h.errors:[h]}var m=this._finalizers;if(m){this._finalizers=null;try{for(var g=T(m),f=g.next();!f.done;f=g.next()){var y=f.value;try{le(y)}catch(h){i=i!=null?i:[],h instanceof H?i=x(x([],R(i)),R(h.errors)):i.push(h)}}}catch(h){n={error:h}}finally{try{f&&!f.done&&(o=g.return)&&o.call(g)}finally{if(n)throw n.error}}}if(i)throw new H(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)le(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&ue(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&ue(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();$.EMPTY;function ye(e){return e instanceof $||e&&"closed"in e&&d(e.remove)&&d(e.add)&&d(e.unsubscribe)}function le(e){d(e)?e():e.unsubscribe()}var me={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},z={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=z.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,x([e,t],R(r))):setTimeout.apply(void 0,x([e,t],R(r)))},clearTimeout:function(e){var t=z.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function ge(e){z.setTimeout(function(){throw e})}function fe(){}function Be(e){e()}var ee=function(e){Z(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,ye(r)&&r.add(n)):n.destination=Je,n}return t.create=function(r,n,o){return new X(r,n,o)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}($),je=Function.prototype.bind;function W(e,t){return je.call(e,t)}var ze=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){V(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){V(n)}else V(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){V(r)}},e}(),X=function(e){Z(t,e);function t(r,n,o){var i=e.call(this)||this,a;if(d(r)||!r)a={next:r!=null?r:void 0,error:n!=null?n:void 0,complete:o!=null?o:void 0};else{var s;i&&me.useDeprecatedNextContext?(s=Object.create(r),s.unsubscribe=function(){return i.unsubscribe()},a={next:r.next&&W(r.next,s),error:r.error&&W(r.error,s),complete:r.complete&&W(r.complete,s)}):a=r}return i.destination=new ze(a),i}return t}(ee);function V(e){ge(e)}function Xe(e){throw e}var Je={closed:!0,next:fe,error:Xe,complete:fe},te=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Ke(e){return e}function Ze(e){return e.length===0?Ke:e.length===1?e[0]:function(r){return e.reduce(function(n,o){return o(n)},r)}}var w=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var o=this,i=et(t)?t:new X(t,r,n);return Be(function(){var a=o,s=a.operator,u=a.source;i.add(s?s.call(i,u):u?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=de(r),new r(function(o,i){var a=new X({next:function(s){try{t(s)}catch(u){i(u),a.unsubscribe()}},error:i,complete:o});n.subscribe(a)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[te]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Ze(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=de(t),new t(function(n,o){var i;r.subscribe(function(a){return i=a},function(a){return o(a)},function(){return n(i)})})},e.create=function(t){return new e(t)},e}();function de(e){var t;return(t=e!=null?e:me.Promise)!==null&&t!==void 0?t:Promise}function $e(e){return e&&d(e.next)&&d(e.error)&&d(e.complete)}function et(e){return e&&e instanceof ee||$e(e)&&ye(e)}function tt(e){return d(e==null?void 0:e.lift)}function _e(e){return function(t){if(tt(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function J(e,t,r,n,o){return new rt(e,t,r,n,o)}var rt=function(e){Z(t,e);function t(r,n,o,i,a,s){var u=e.call(this,r)||this;return u.onFinalize=a,u.shouldUnsubscribe=s,u._next=n?function(c){try{n(c)}catch(l){r.error(l)}}:e.prototype._next,u._error=i?function(c){try{i(c)}catch(l){r.error(l)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=o?function(){try{o()}catch(c){r.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(ee),be=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function nt(e){return d(e==null?void 0:e.then)}function ot(e){return d(e[te])}function it(e){return Symbol.asyncIterator&&d(e==null?void 0:e[Symbol.asyncIterator])}function at(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function st(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ct=st();function ut(e){return d(e==null?void 0:e[ct])}function lt(e){return Fe(this,arguments,function(){var r,n,o,i;return ve(this,function(a){switch(a.label){case 0:r=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,P(r.read())];case 3:return n=a.sent(),o=n.value,i=n.done,i?[4,P(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,P(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function ft(e){return d(e==null?void 0:e.getReader)}function re(e){if(e instanceof w)return e;if(e!=null){if(ot(e))return dt(e);if(be(e))return ht(e);if(nt(e))return pt(e);if(it(e))return we(e);if(ut(e))return vt(e);if(ft(e))return yt(e)}throw at(e)}function dt(e){return new w(function(t){var r=e[te]();if(d(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ht(e){return new w(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function pt(e){return new w(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,ge)})}function vt(e){return new w(function(t){var r,n;try{for(var o=T(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}t.complete()})}function we(e){return new w(function(t){mt(e,t).catch(function(r){return t.error(r)})})}function yt(e){return we(lt(e))}function mt(e,t){var r,n,o,i;return Me(this,void 0,void 0,function(){var a,s;return ve(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=He(e),u.label=1;case 1:return[4,r.next()];case 2:if(n=u.sent(),!!n.done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),o={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function gt(e,t,r,n,o){n===void 0&&(n=0),o===void 0&&(o=!1);var i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function Se(e,t){return _e(function(r,n){var o=0;r.subscribe(J(n,function(i){n.next(e.call(t,i,o++))}))})}var _t=Array.isArray;function bt(e,t){return _t(t)?e.apply(void 0,x([],R(t))):e(t)}function wt(e){return Se(function(t){return bt(e,t)})}function St(e,t,r,n,o,i,a,s){var u=[],c=0,l=0,m=!1,g=function(){m&&!u.length&&!c&&t.complete()},f=function(h){return c<n?y(h):u.push(h)},y=function(h){i&&t.next(h),c++;var D=!1;re(r(h,l++)).subscribe(J(t,function(S){o==null||o(S),i?f(S):t.next(S)},function(){D=!0},void 0,function(){if(D)try{c--;for(var S=function(){var q=u.shift();a?gt(t,a,function(){return y(q)}):y(q)};u.length&&c<n;)S();g()}catch(q){t.error(q)}}))};return e.subscribe(J(t,f,function(){m=!0,g()})),function(){s==null||s()}}function Ee(e,t,r){return r===void 0&&(r=1/0),d(t)?Ee(function(n,o){return Se(function(i,a){return t(n,i,o,a)})(re(e(n,o)))},r):(typeof t=="number"&&(r=t),_e(function(n,o){return St(n,o,e,r)}))}var Et=["addListener","removeListener"],Pt=["addEventListener","removeEventListener"],Rt=["on","off"];function K(e,t,r,n){if(d(r)&&(n=r,r=void 0),n)return K(e,t,r).pipe(wt(n));var o=R(Ot(e)?Pt.map(function(s){return function(u){return e[s](t,u,r)}}):At(e)?Et.map(he(e,t)):It(e)?Rt.map(he(e,t)):[],2),i=o[0],a=o[1];if(!i&&be(e))return Ee(function(s){return K(s,t,r)})(re(e));if(!i)throw new TypeError("Invalid event target");return new w(function(s){var u=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return s.next(1<c.length?c:c[0])};return i(u),function(){return a(u)}})}function he(e,t){return function(r){return function(n){return e[r](t,n)}}}function At(e){return d(e.addListener)&&d(e.removeListener)}function It(e){return d(e.on)&&d(e.off)}function Ot(e){return d(e.addEventListener)&&d(e.removeEventListener)}var Ct={error:"cordova_not_available"},kt={error:"plugin_not_installed"};function Pe(e){var t=function(){if(Promise)return new Promise(function(i,a){e(i,a)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")};if(typeof window!="undefined"&&window.angular){var r=window.document,n=window.angular.element(r.querySelector("[ng-app]")||r.body).injector();if(n){var o=n.get("$q");return o(function(i,a){e(i,a)})}console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return t()}function Lt(e,t,r,n){n===void 0&&(n={});var o,i,a=Pe(function(s,u){n.destruct?o=b(e,t,r,n,function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return s(c)},function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return u(c)}):o=b(e,t,r,n,s,u),i=u});return o&&o.error&&(a.catch(function(){}),typeof i=="function"&&i(o.error)),a}function Tt(e,t,r,n){return n===void 0&&(n={}),Pe(function(o,i){var a=b(e,t,r,n);a?a.error?i(a.error):a.then&&a.then(o).catch(i):i({error:"unexpected_error"})})}function xt(e,t,r,n){return n===void 0&&(n={}),new w(function(o){var i;return n.destruct?i=b(e,t,r,n,function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o.next(a)},function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o.error(a)}):i=b(e,t,r,n,o.next.bind(o),o.error.bind(o)),i&&i.error&&(o.error(i.error),o.complete()),function(){try{if(n.clearFunction)return n.clearWithArgs?b(e,n.clearFunction,r,n,o.next.bind(o),o.error.bind(o)):b(e,n.clearFunction,[])}catch(a){console.warn("Unable to clear the previous observable watch for",e.constructor.getPluginName(),t),console.warn(a)}}})}function Dt(e,t){return t=typeof window!="undefined"&&t?Ie(window,t):t||(typeof window!="undefined"?window:{}),K(t,e)}function Re(e,t,r){var n,o;typeof e=="string"?n=e:(n=e.constructor.getPluginRef(),r=e.constructor.getPluginName(),o=e.constructor.getPluginInstallName());var i=Ae(n);return!i||!!t&&typeof i[t]=="undefined"?typeof window=="undefined"||!window.cordova?(Qt(r,t),Ct):(Ut(r,o,t),kt):!0}function qt(e,t,r,n){if(t===void 0&&(t={}),t.sync)return e;if(t.callbackOrder==="reverse")e.unshift(n),e.unshift(r);else if(t.callbackStyle==="node")e.push(function(s,u){s?n(s):r(u)});else if(t.callbackStyle==="object"&&t.successName&&t.errorName){var o={};o[t.successName]=r,o[t.errorName]=n,e.push(o)}else if(typeof t.successIndex!="undefined"||typeof t.errorIndex!="undefined"){var i=function(){t.successIndex>e.length?e[t.successIndex]=r:e.splice(t.successIndex,0,r)},a=function(){t.errorIndex>e.length?e[t.errorIndex]=n:e.splice(t.errorIndex,0,n)};t.successIndex>t.errorIndex?(a(),i()):(i(),a())}else e.push(r),e.push(n);return e}function b(e,t,r,n,o,i){n===void 0&&(n={}),r=qt(r,n,o,i);var a=Re(e,t);if(a===!0){var s=Ae(e.constructor.getPluginRef());return s[t].apply(s,r)}else return a}function Ae(e){return typeof window!="undefined"?Ie(window,e):null}function Ie(e,t){for(var r=t.split("."),n=e,o=0;o<r.length;o++){if(!n)return null;n=n[r[o]]}return n}function Ut(e,t,r){console.warn(r?"Native: tried calling "+e+"."+r+", but the "+e+" plugin is not installed.":"Native: tried accessing the "+e+" plugin but it's not installed."),t&&console.warn("Install the "+e+" plugin: 'ionic cordova plugin add "+t+"'")}function Qt(e,t){typeof process=="undefined"&&console.warn(t?"Native: tried calling "+e+"."+t+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+e+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}var Gt=function(e,t,r){return r===void 0&&(r={}),function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return r.sync?b(e,t,n,r):r.observable?xt(e,t,n,r):r.eventObservable&&r.event?Dt(r.event,r.element):r.otherPromise?Tt(e,t,n,r):Lt(e,t,n,r)}};function Yt(e,t){for(var r=t.split("."),n=e,o=0;o<r.length;o++){if(!n)return null;n=n[r[o]]}return n}var Nt=function(){function e(){}return e.installed=function(){var t=Re(this.pluginRef)===!0;return t},e.getPlugin=function(){return typeof window!="undefined"?Yt(window,this.pluginRef):null},e.getPluginName=function(){var t=this.pluginName;return t},e.getPluginRef=function(){var t=this.pluginRef;return t},e.getPluginInstallName=function(){var t=this.plugin;return t},e.getSupportedPlatforms=function(){var t=this.platforms;return t},e.pluginName="",e.pluginRef="",e.plugin="",e.repo="",e.platforms=[],e.install="",e}();function B(e,t,r,n){return Gt(e,t,r).apply(this,n)}Ve();var Vt=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mt=function(e){Vt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.REQUEST_PRIORITY_NO_POWER=0,r.REQUEST_PRIORITY_LOW_POWER=1,r.REQUEST_PRIORITY_BALANCED_POWER_ACCURACY=2,r.REQUEST_PRIORITY_HIGH_ACCURACY=3,r.SUCCESS_SETTINGS_SATISFIED=0,r.SUCCESS_USER_AGREED=1,r.ERROR_ALREADY_REQUESTING=-1,r.ERROR_INVALID_ACTION=0,r.ERROR_INVALID_ACCURACY=1,r.ERROR_EXCEPTION=1,r.ERROR_CANNOT_CHANGE_ACCURACY=3,r.ERROR_USER_DISAGREED=4,r.ERROR_GOOGLE_API_CONNECTION_FAILED=4,r}return t.prototype.canRequest=function(){return B(this,"canRequest",{},arguments)},t.prototype.isRequesting=function(){return B(this,"isRequesting",{},arguments)},t.prototype.request=function(r){return B(this,"request",{callbackOrder:"reverse"},arguments)},t.pluginName="LocationAccuracy",t.plugin="cordova-plugin-request-location-accuracy",t.pluginRef="cordova.plugins.locationAccuracy",t.repo="https://github.com/dpa99c/cordova-plugin-request-location-accuracy",t.platforms=["Android","iOS"],t}(Nt),k=new Mt;const pe={async islocationEnabled(){return await new Promise(function(t,r){C.checkPermissions().then(n=>{console.debug(n),n.location==="denied"?C.requestPermissions().then(o=>{o.location==="granted"?t("granted"):t("denied")}):n.location==="prompt"?C.requestPermissions().then(o=>{o.location==="granted"?t("granted"):t("denied")}):n.location==="granted"?t("granted"):n.location==="prompt-with-rationale"&&C.requestPermissions().then(o=>{o.location==="granted"?t("granted"):t("denied")})}).catch(n=>{r()})})},async checkAccuracy(){return await new Promise(function(t,r){k.canRequest().then(n=>{k.request(k.REQUEST_PRIORITY_HIGH_ACCURACY).then(()=>{t(!0)},o=>{r(o)})}).catch(n=>{k.request(k.REQUEST_PRIORITY_HIGH_ACCURACY).then(()=>{t(!0)},o=>{r(o)})})})},async getPosition(){return await new Promise(function(t,r){C.getCurrentPosition().then(n=>{console.debug(n);let o={lat:n.coords.latitude,lng:n.coords.longitude};t(o)}).catch(n=>{r(n)})})}},Ft={name:"LocationPage",components:{MapComponents:U(()=>L(()=>import("./MapComponents.eced4a98.js"),["assets/MapComponents.eced4a98.js","assets/index.c5b868f5.js","assets/index.7897e990.css","assets/index.4f152a18.js"])),SearchLocation:U(()=>L(()=>import("./SearchLocation.9a76ab7c.js"),["assets/SearchLocation.9a76ab7c.js","assets/index.c5b868f5.js","assets/index.7897e990.css","assets/QItemLabel.4665782c.js","assets/QSelect.65ab904e.js","assets/QMenu.b5349f2e.js","assets/selection.65959ca5.js","assets/rtl.276c3f1b.js","assets/format.8ac60962.js"])),AddressDetails:U(()=>L(()=>import("./AddressDetails.3eff9d33.js"),["assets/AddressDetails.3eff9d33.js","assets/index.c5b868f5.js","assets/index.7897e990.css","assets/QToolbarTitle.4da9f270.js","assets/QToolbar.9b15bf0e.js","assets/QSelect.65ab904e.js","assets/QItemLabel.4665782c.js","assets/QMenu.b5349f2e.js","assets/selection.65959ca5.js","assets/rtl.276c3f1b.js","assets/format.8ac60962.js","assets/QSpace.24950ca6.js","assets/QBtnToggle.f3167bc9.js","assets/QFooter.51024c6d.js","assets/QResizeObserver.3ed5059f.js","assets/QForm.997d74f6.js","assets/ClosePopup.32eeb9ff.js"])),OrderDetailsinfo:U(()=>L(()=>import("./OrderDetailsinfo.918e570a.js"),["assets/OrderDetailsinfo.918e570a.js","assets/QSpace.24950ca6.js","assets/index.c5b868f5.js","assets/index.7897e990.css","assets/QBtnToggle.f3167bc9.js","assets/QInnerLoading.ff23f6a9.js","assets/QSelect.65ab904e.js","assets/QItemLabel.4665782c.js","assets/QMenu.b5349f2e.js","assets/selection.65959ca5.js","assets/rtl.276c3f1b.js","assets/format.8ac60962.js","assets/ClosePopup.32eeb9ff.js"]))},data(){return{loading:!1,confirm_loading:!1,modal:!0,page_ready:!1,maps_config:[],marker:[],edit_address:!1,data:[],location_data:[],error_message:"",redirect:"",add_address:!1,is_guest:!1}},setup(){const e=ke(),t=Le();return{SettingStore:e,DataStorePersisted:t}},mounted(){this.is_guest=!Te.authenticated(),this.redirect=this.$route.query.redirect,this.add_address=this.$route.query.add_address,Object.keys(this.SettingStore.settings_data).length>0?(this.page_ready=!0,this.mapsConfig(),setTimeout(()=>{Object.keys(this.DataStorePersisted.location_data).length<=0&&this.locateLocation()},500)):this.$watch(()=>this.SettingStore.$state.settings_data,(e,t)=>{this.page_ready=!0,this.mapsConfig(),setTimeout(()=>{Object.keys(this.DataStorePersisted.location_data).length<=0&&this.locateLocation()},500)})},computed:{hasError(){return!ne.empty(this.error_message)},hasLocation(){return Object.keys(this.location_data).length>0},hasData(){return Object.keys(this.data).length>0}},methods:{mapsConfig(){try{this.maps_config=xe(this.SettingStore.settings_data.maps_config),Object.keys(this.DataStorePersisted.location_data).length>0?(this.location_data={id:this.DataStorePersisted.location_data.id,addressLine1:this.DataStorePersisted.location_data.addressLine1,description:this.DataStorePersisted.location_data.description,latitude:this.DataStorePersisted.location_data.latitude,longitude:this.DataStorePersisted.location_data.longitude},this.marker=[{id:0,draggable:!0,icon:this.maps_config.icon,lat:this.DataStorePersisted.location_data.latitude,lng:this.DataStorePersisted.location_data.longitude}]):this.marker=[{id:0,draggable:!0,icon:this.maps_config.icon,lat:this.maps_config.default_lat,lng:this.maps_config.default_lng}]}catch(e){console.log("err",e)}},locateLocation(){this.edit_address=!1,this.$q.capacitor?pe.checkAccuracy().then(e=>{pe.getPosition().then(t=>{this.loading=!1,this.marker=[{id:0,draggable:!0,icon:this.maps_config.icon,lat:t.lat,lng:t.lng}],this.afterSelectmap(t.lat,t.lng)}).catch(t=>{}).then(t=>{this.loading=!1})}).catch(e=>{}).then(e=>{}):navigator.geolocation&&(this.loading=!0,navigator.geolocation.getCurrentPosition(e=>{this.loading=!1,this.marker=[{id:0,draggable:!0,icon:this.maps_config.icon,lat:e.coords.latitude,lng:e.coords.longitude}],this.afterSelectmap(e.coords.latitude,e.coords.longitude)},e=>{this.loading=!1,e.code===e.PERMISSION_DENIED&&(this.error_message=this.$t("geolocation_permission"),this.data=[])}))},afterSelectmap(e,t){ne.fetchDataPost("reverseGeocoding","lat="+e+"&lng="+t).then(r=>{if(r.code==1&&r.details.data){const n=r.details.data;console.log("addressData",n),n.address?this.location_data={id:n.place_id,addressLine1:n.address.address1,description:n.address.formatted_address,latitude:n.latitude,longitude:n.longitude}:this.location_data=[]}}).catch(r=>{console.debug(r)}).then(r=>{this.loading=!1})},onDrag(e){console.log("onDrag",e),this.loading=e},afterResults(e){this.data=e},onClear(){console.log("onClear"),this.data=[]},whenClose(){this.edit_address=!1},clearError(){this.error_message=""},getLocationDetails(e){this.whenClose(),this.location_data=e,this.marker=[{id:0,draggable:!0,icon:this.maps_config.icon,lat:e.latitude,lng:e.longitude}]},confirmLocation(){console.log("is_guest",this.is_guest),this.is_guest?this.$refs.order_details.modal=!0:(this.$refs.address_details.location_data=this.location_data,this.$refs.address_details.modal=!0)},afterSaveaddress(e){console.log("afterSaveaddress",e),this.DataStorePersisted.location_data=e,this.$router.replace(this.redirect)},afterSavetrans(){console.log("afterSavetrans"),this.DataStorePersisted.location_data=this.location_data,this.$router.replace(this.redirect)}}},Ht={class:"fixed-full"},Wt={class:"relative-position"},Bt={key:0,class:"bg-red-2 q-pa-sm radius8 text-dark q-mt-sm"},jt={class:"text-grey"},zt={class:"q-pl-md q-pr-md"};function Xt(e,t,r,n,o,i){const a=Q("MapComponents"),s=Q("SearchLocation"),u=Q("AddressDetails"),c=Q("OrderDetailsinfo");return o.page_ready?(_(),A(Ne,{key:0},{default:v(()=>[G("div",Ht,[G("div",Wt,[p(a,{ref:"maps",lat:o.maps_config.default_lat,lng:o.maps_config.default_lng,zoom:o.maps_config.zoom,keys:o.maps_config.key,class_map:"map medium",provider:o.maps_config.provider,drag_marker:!0,detect_location:!1,marker:o.marker,onAfterSelectmap:i.afterSelectmap,onOnDrag:i.onDrag},null,8,["lat","lng","zoom","keys","provider","marker","onAfterSelectmap","onOnDrag"])])]),p(Qe,{position:"top-left",offset:[12,8]},{default:v(()=>[p(M,{onClick:t[0]||(t[0]=l=>e.$router.back()),round:"",dense:"",icon:"arrow_back",unelevated:"",color:e.$q.dark.mode?"white":"mygrey","text-color":"dark"},null,8,["color"])]),_:1}),p(Ue,{modelValue:o.modal,"onUpdate:modelValue":t[2]||(t[2]=l=>o.modal=l),seamless:"",persistent:"",position:"bottom","transition-show":"fade"},{default:v(()=>[p(De,{class:ie({"card-small-height":!o.edit_address,"card-small-large":o.edit_address})},{default:v(()=>[o.edit_address?(_(),I(Y,{key:0},[p(F,{class:"q-pb-sm"},{default:v(()=>[p(s,{ref:"search_location",detect_location:!0,onAfterResults:i.afterResults,onOnClear:i.onClear,onWhenClose:i.whenClose,onLocateLocation:i.locateLocation,onClearError:i.clearError},null,8,["onAfterResults","onOnClear","onWhenClose","onLocateLocation","onClearError"]),i.hasError?(_(),I("div",Bt,E(o.error_message),1)):oe("",!0)]),_:1}),p(ae),i.hasData?(_(),A(Ge,{key:0},{default:v(()=>[(_(!0),I(Y,null,qe(o.data,l=>(_(),A(se,{key:l,clickable:"",onClick:m=>i.getLocationDetails(l)},{default:v(()=>[p(O,{avatar:""},{default:v(()=>[p(ce,{name:"o_place",class:"text-grey"})]),_:1}),p(O,null,{default:v(()=>[N(E(l.description),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):(_(),A(F,{key:1,class:"flex flex-center text-center card-small-medium"},{default:v(()=>[G("div",jt,E(e.$t("Enter your address to explore restaurant around you")),1)]),_:1}))],64)):(_(),A(F,{key:1,class:ie([{disabled:o.loading},"q-pl-none q-pr-none"])},{default:v(()=>[p(se,null,{default:v(()=>[p(O,{top:"",avatar:"",style:{"min-width":"auto","padding-right":"5px"}},{default:v(()=>[p(ce,{name:"o_location_on",color:"primary",size:"md"})]),_:1}),p(O,null,{default:v(()=>[p(Ye,{class:"text-weight-medium text-body2 ellipsis-3-lines"},{default:v(()=>[i.hasLocation?(_(),I(Y,{key:0},[N(E(o.location_data.addressLine1)+" "+E(o.location_data.description),1)],64)):(_(),I(Y,{key:1},[N(E(e.$t("Location details not available")),1)],64))]),_:1})]),_:1}),p(O,{side:""},{default:v(()=>[p(M,{onClick:t[1]||(t[1]=l=>o.edit_address=!o.edit_address),flat:"",icon:"o_edit",color:"yellow-9"})]),_:1})]),_:1}),p(ae,{class:"q-mt-sm q-mb-md"}),G("div",zt,[p(M,{color:"primary","text-color":"white",size:"lg",rounded:"",unelevated:"","no-caps":"",class:"fit",loading:o.loading,disable:!i.hasLocation,onClick:i.confirmLocation},{default:v(()=>[N(E(e.$t("Confirm location")),1)]),_:1},8,["loading","disable","onClick"])])]),_:1},8,["class"]))]),_:1},8,["class"])]),_:1},8,["modelValue"]),p(u,{ref:"address_details",onAfterSaveaddress:i.afterSaveaddress},null,8,["onAfterSaveaddress"]),p(c,{ref:"order_details",onAfterSavetrans:i.afterSavetrans},null,8,["onAfterSavetrans"])]),_:1})):oe("",!0)}var rr=Ce(Ft,[["render",Xt]]);export{rr as default};
