import{Q as C}from"./QImg.79fcc1c6.js";import{_ as w,m as r,n as u,p as l,Y as d,F as o,Z as b,bh as Q,af as I,f as i,$ as k,as as h,a0 as m,P as f,a1 as z,ac as c,Q as v,S as x,R as g}from"./index.c5b868f5.js";import{Q as _}from"./QItemLabel.4665782c.js";import{Q as A}from"./QList.9b7158f1.js";import{u as L}from"./CartData.5b90ca7b.js";const p={name:"ItemsdisplayList",props:["loading","data","data_items","cat_id","dish"],setup(t){return{CartData:L()}},data(){return{allergens_item_id:""}},methods:{PrintPrice(t){if(t[0])return t[0].discount>0?t[0].pretty_price_after_discount:t[0].pretty_price},printSize(t){if(t[0])return t[0].size_name},showAllergens(t){this.$emit("showAllergens",t)},itemAvailable(t,y){return this.CartData.items_not_available.includes(parseInt(t))===!1&&this.CartData.category_not_available.includes(parseInt(y))===!1}}},D=["innerHTML"],B=["innerHTML"],M={class:"q-gutter-x-xs"},P=["src"],S={key:0,class:"text-strike"};function T(t,y,e,q,H,s){return r(),u(A,null,{default:l(()=>[(r(!0),d(o,null,b(e.data,a=>(r(),u(Q,{key:a,flat:"",class:I(["radius20 q-mb-sm",{"bg-grey600 ":t.$q.dark.mode,"bg-mygrey ":!t.$q.dark.mode,disabled:!s.itemAvailable(a,e.cat_id)}])},{default:l(()=>[i(k,{clickable:"",onClick:h(n=>s.itemAvailable(a,e.cat_id)?t.$emit("viewItems",{item_uuid:e.data_items[a].item_uuid,cat_id:e.cat_id}):!1,["stop"])},{default:l(()=>[i(m,{avatar:""},{default:l(()=>[i(C,{src:e.data_items[a].url_image,style:{height:"90px",width:"90px"},loading:"lazy",fit:"cover","spinner-color":"primary","spinner-size":"sm",class:"rounded-borders"},null,8,["src"])]),_:2},1024),i(m,{top:""},{default:l(()=>[i(_,{class:"text-weight-medium"},{default:l(()=>[f("span",{innerHTML:e.data_items[a].item_name},null,8,D)]),_:2},1024),i(_,{caption:"",class:"ellipsis-3-lines"},{default:l(()=>[f("span",{innerHTML:e.data_items[a].item_description,class:"text-body2"},null,8,B)]),_:2},1024),e.data_items[a].dish?(r(),u(_,{key:0},{default:l(()=>[f("div",M,[(r(!0),d(o,null,b(e.data_items[a].dish,n=>(r(),d(o,{key:n},[e.dish[n]?(r(),u(z,{key:0,size:"md",style:{border:"2px solid white"},class:"bg-yellow-9"},{default:l(()=>[f("img",{src:e.dish[n].url_image},null,8,P)]),_:2},1024)):c("",!0)],64))),128))])]),_:2},1024)):c("",!0)]),_:2},1024)]),_:2},1032,["onClick"]),i(k,null,{default:l(()=>[i(m,{avatar:"",style:{width:"120px"}},{default:l(()=>[e.data_items[a].total_allergens>0?(r(),u(v,{key:0,round:"",unelevated:"",color:"primary","text-color":"white",padding:"2px",size:"sm",icon:"o_info",onClick:h(n=>s.showAllergens(a),["stop"])},null,8,["onClick"])):c("",!0)]),_:2},1024),i(m,null,{default:l(()=>[i(_,{caption:"",class:"text-weight-bold text-body"},{default:l(()=>[e.data_items[a].price[0]?(r(),d(o,{key:0},[x(g(s.printSize(e.data_items[a].price)),1)],64)):c("",!0),e.data_items[a].price[0]?(r(),d(o,{key:1},[e.data_items[a].price[0].discount>0?(r(),d("span",S,g(e.data_items[a].price[0].pretty_price),1)):c("",!0),x(" "+g(s.PrintPrice(e.data_items[a].price)),1)],64)):c("",!0)]),_:2},1024)]),_:2},1024),i(m,{side:""},{default:l(()=>[i(_,null,{default:l(()=>[i(v,{round:"",color:s.itemAvailable(a,e.cat_id)?"primary":"grey-3",disable:!s.itemAvailable(a,e.cat_id),icon:"add",unelevated:"",size:"12px",onClick:h(n=>t.$emit("viewItems",{item_uuid:e.data_items[a].item_uuid,cat_id:e.cat_id}),["stop"])},null,8,["color","disable","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})}var Y=w(p,[["render",T]]);export{Y as default};
