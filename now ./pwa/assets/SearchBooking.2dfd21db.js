import{_ as Q,aA as u,A as f,n as k,p as t,q as d,t as o,f as a,a4 as p,Z as q,$ as h,a0 as w,a1 as g,ar as m,av as T,ae as B,au as l,a2 as c,F as _,aB as b}from"./index.c29f7992.js";import{Q as C}from"./QToolbarTitle.38b5862b.js";import{Q as D}from"./QToolbar.19752286.js";import{Q as V}from"./QHeader.8a0fa205.js";import{Q as P}from"./QSpace.0d53e539.js";import{Q as A}from"./QPage.1b02519d.js";import{Q as L}from"./QPullToRefresh.9f003a0c.js";import{u as x}from"./SearchStore.674246eb.js";import"./QResizeObserver.0e413222.js";import"./TouchPan.5fac99c8.js";import"./touch.9135741d.js";import"./selection.53b1fe34.js";import"./format.de7e9769.js";const E={name:"SearchBooking",components:{TableBookingList:u(()=>b(()=>import("./TableBookingList.f71a2686.js"),["assets/TableBookingList.f71a2686.js","assets/QSpace.0d53e539.js","assets/index.c29f7992.js","assets/index.8924bfb8.css","assets/QBadge.50ff0feb.js","assets/QItemLabel.1db45aa2.js","assets/QList.04c37cb8.js","assets/AccessStore.abc714c5.js"])),TableSkeleton:u(()=>b(()=>import("./TableSkeleton.3238dea0.js"),["assets/TableSkeleton.3238dea0.js","assets/QSkeleton.81a2bab8.js","assets/index.c29f7992.js","assets/index.8924bfb8.css","assets/QItemLabel.1db45aa2.js","assets/QList.04c37cb8.js"]))},setup(){return{SearchStore:x()}},data(){return{q:"",loading:!1}},created(){this.SearchStore.data=""},computed:{hasSearch(){return!f.empty(this.q)}},methods:{refresh(e){this.clearSearch(),e()},clearSearch(){this.SearchStore.is_submit=!1,this.q="",this.SearchStore.data=[]},doSearch(){this.loading=!0,this.SearchStore.data=[],this.SearchStore.status=[],this.SearchStore.is_submit=!0,f.fetchDataByTokenPost("reservationList","q="+this.q).then(e=>{this.SearchStore.data.push(e.details.data),this.SearchStore.status=e.details.status_list}).catch(e=>{}).then(e=>{this.loading=!1})}}},I={class:"q-pa-md full-width"},N={key:0,class:"full-width text-center"},R={key:1,class:"full-width text-center"},F={class:"text-weight-bold"},O={class:"text-weight-light text-grey"};function j(e,i,z,r,s,n){const y=k("TableBookingList"),v=k("TableSkeleton");return t(),d(L,{onRefresh:n.refresh},{default:o(()=>[a(V,{class:g({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode}),reveal:"","reveal-offset":"50"},{default:o(()=>[a(D,null,{default:o(()=>[a(p,{onClick:i[0]||(i[0]=S=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),a(C,{class:"text-weight-bold"},{default:o(()=>[q(h(e.$t("Search Booking")),1)]),_:1})]),_:1}),a(w)]),_:1},8,["class"]),a(A,{class:g([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode},"flex justify-start"])},{default:o(()=>[m("div",I,[a(T,{outlined:"",modelValue:s.q,"onUpdate:modelValue":i[1]||(i[1]=S=>s.q=S),label:e.$t("Search"),color:"grey-5"},{append:o(()=>[r.SearchStore.hasData?(t(),d(B,{key:0,class:"cursor-pointer",name:"close",color:"grey",onClick:n.clearSearch},null,8,["onClick"])):l("",!0),r.SearchStore.hasData?l("",!0):(t(),d(p,{key:1,icon:"search",unelevated:"",color:"dark-grey","no-caps":"",loading:s.loading,round:"",flat:"",onClick:n.doSearch,disable:!n.hasSearch},null,8,["loading","onClick","disable"]))]),_:1},8,["modelValue","label"]),r.SearchStore.hasData?(t(),c(_,{key:0},[a(P,{class:"q-mt-md"}),a(y,{data:r.SearchStore.data,status:r.SearchStore.status,onConfirmDelete:e.confirmDelete},null,8,["data","status","onConfirmDelete"])],64)):l("",!0),s.loading?(t(),d(v,{key:1,rows:10})):l("",!0)]),r.SearchStore.is_submit?(t(),c("div",R,[!r.SearchStore.hasData&&!s.loading?(t(),c(_,{key:0},[m("div",F,h(e.$t("No data available")),1),m("div",O,h(e.$t("Sorry, we couldn't find any results")),1)],64)):l("",!0)])):(t(),c("div",N))]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var te=Q(E,[["render",j]]);export{te as default};
