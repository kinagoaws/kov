import{_ as w,X as y,q as r,t as n,v as a,j as e,ak as S,ae as c,a1 as d,a4 as g,a5 as m,a0 as u,$ as _,bq as B,Z as Q,al as D,a6 as h,a7 as i,ah as b,aa as f,F as I,a3 as z,a9 as v,aj as L,bv as N,aP as x}from"./index.5da0f878.js";import{Q as O,a as P}from"./QBar.7b44c673.js";import{Q as V}from"./QSpace.334d24e5.js";import{Q as p}from"./QItemLabel.6219c46e.js";import{Q as U}from"./QList.d63bde81.js";import{C as j}from"./ClosePopup.1829ecf0.js";import"./position-engine.78f240dd.js";import"./selection.a405500a.js";const T={name:"OrderHelp",props:["list_type","title"],data(){return{loading:!1,dialog:!1,data:[],reason:"",reason_others:""}},created(){this.getList()},computed:{hasData(){return Object.keys(this.reason).length>0?!(this.reason=="others"&&y.empty(this.reason_others)):!1}},methods:{show(){this.dialog=!0,this.reason="",this.reason_others=""},hide(){this.dialog=!1,this.reason="",this.reason_others=""},getList(){y.fetchData(this.list_type,"").then(s=>{this.data=s.details}).catch(s=>{this.data=[]}).then(s=>{})},submit(){let s=this.reason=="others"?this.reason_others:this.reason;this.$emit("afterSubmit",s)}}},A={class:"col text-center"},F={class:"text-weight-bold"},H={key:0};function R(s,o,C,$,l,k){return r(),n(x,{modelValue:l.dialog,"onUpdate:modelValue":o[4]||(o[4]=t=>l.dialog=t),maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},{default:a(()=>[e(S,null,{default:a(()=>[e(O,{class:"transparent q-pa-sm",style:{height:"auto"}},{default:a(()=>[c("div",A,[c("div",F,d(C.title),1)]),l.reason=="others"?(r(),n(g,{key:0,dense:"",flat:"",icon:"las la-undo",onClick:o[0]||(o[0]=t=>l.reason="")})):m((r(),n(g,{key:1,dense:"",flat:"",icon:"close"},{default:a(()=>[e(P,{class:"bg-white text-primary"},{default:a(()=>[u(d(s.$t("Close")),1)]),_:1})]),_:1})),[[j]])]),_:1}),e(V,{class:_(["q-pa-xs",{"":s.$q.dark.mode,"bg-grey-1":!s.$q.dark.mode}])},null,8,["class"]),e(B,null,{default:a(()=>[l.reason=="others"?(r(),Q("div",H,[c("p",null,d(s.$t("Please specify the reason")),1),e(D,{modelValue:l.reason_others,"onUpdate:modelValue":o[1]||(o[1]=t=>l.reason_others=t),autogrow:"",dense:"","stack-label":"","lazy-rules":"",rules:[t=>t&&t.length>0||this.$t("This field is required")]},null,8,["modelValue","rules"])])):(r(),n(U,{key:1,separator:"",class:"q-pa-none q-ma-none"},{default:a(()=>[e(p,{header:"",class:"text-grey font12"},{default:a(()=>[u(d(s.$t("Need help"))+"?",1)]),_:1}),m((r(),n(h,{clickable:""},{default:a(()=>[e(i,{avatar:""},{default:a(()=>[e(b,{name:"las la-phone",size:"sm",color:"blue"})]),_:1}),e(i,{avatar:""},{default:a(()=>[u(d(s.$t("Call Support")),1)]),_:1})]),_:1})),[[f]]),m((r(),n(h,{clickable:""},{default:a(()=>[e(i,{avatar:""},{default:a(()=>[e(b,{name:"las la-comment",size:"sm",color:"cyan"})]),_:1}),e(i,{avatar:""},{default:a(()=>[u(d(s.$t("Chat Support")),1)]),_:1})]),_:1})),[[f]]),e(p,{header:"",class:"text-grey font12"},{default:a(()=>[u(d(s.$t("What is the issue"))+"?",1)]),_:1}),(r(!0),Q(I,null,z(l.data,t=>m((r(),n(h,{key:t,tag:"label"},{default:a(()=>[e(i,{avatar:"",class:"hidden"},{default:a(()=>[e(v,{modelValue:l.reason,"onUpdate:modelValue":o[2]||(o[2]=q=>l.reason=q),val:t,color:"primary",dense:""},null,8,["modelValue","val"])]),_:2},1024),e(i,null,{default:a(()=>[e(p,{class:_({"text-green":l.reason==t})},{default:a(()=>[u(d(t),1)]),_:2},1032,["class"])]),_:2},1024),l.reason==t?(r(),n(i,{key:0,side:""},{default:a(()=>[e(b,{name:"check",color:"green"})]),_:1})):L("",!0)]),_:2},1024)),[[f]])),128)),m((r(),n(h,{tag:"label"},{default:a(()=>[e(i,{avatar:"",class:"hidden"},{default:a(()=>[e(v,{modelValue:l.reason,"onUpdate:modelValue":o[3]||(o[3]=t=>l.reason=t),val:"others",color:"primary",dense:""},null,8,["modelValue"])]),_:1}),e(i,null,{default:a(()=>[e(p,null,{default:a(()=>o[5]||(o[5]=[u("Others")])),_:1})]),_:1})]),_:1})),[[f]])]),_:1})),e(V,{class:"q-pa-lg"})]),_:1}),e(N,{class:_(["fixed-bottom",{"bg-mydark ":s.$q.dark.mode,"bg-white ":!s.$q.dark.mode}])},{default:a(()=>[e(g,{label:s.$t("Submit"),color:"primary",unelevated:"",class:"fit font17 text-weight-bold","no-caps":"",disable:!k.hasData,onClick:k.submit},null,8,["label","disable","onClick"])]),_:1},8,["class"])]),_:1})]),_:1},8,["modelValue"])}var Y=w(T,[["render",R]]);export{Y as default};
