import{_ as f,aA as n,aB as i,u as p,n as s,p as c,a2 as _,f as o,t as l,q as h,V as v,au as A,a4 as R,F as g}from"./index.c29f7992.js";import{Q as y}from"./QBadge.50ff0feb.js";import{L as E}from"./index.e205827f.js";import{u as B}from"./UserStore.28c5b9df.js";const C={name:"NotiButton",components:{ComponentsRealtime:n(()=>i(()=>import("./ComponentsRealtime.8e73ac04.js"),["assets/ComponentsRealtime.8e73ac04.js","assets/index.4f152a18.js","assets/index.c29f7992.js","assets/index.8924bfb8.css"])),PrinterAuto:n(()=>i(()=>import("./PrinterAuto.2a64d424.js"),["assets/PrinterAuto.2a64d424.js","assets/index.c29f7992.js","assets/index.8924bfb8.css","assets/QToolbarTitle.38b5862b.js","assets/QSpace.0d53e539.js","assets/QToolbar.19752286.js","assets/UserStore.28c5b9df.js","assets/PrintTemplate.83312567.js","assets/AppBluetooth.81007bf8.js"]))},data(){return{data:[]}},setup(e){const t=p(),a=B();return{DataStore:t,UserStore:a}},computed:{hasData(){return Object.keys(this.data).length>0}},created(){},methods:{afterReceive(e){this.data=e,console.log("AFTER RECEIVE DATA"),console.log(JSON.stringify(e)),this.UserStore.data_push_receive=e,this.DataStore.local_notification&&this.playLocalNotification(e)},playLocalNotification(e){const t=Math.floor(Math.random()*1e4)+1;E.schedule({notifications:[{title:e.message,body:"",id:t}]})}}};function D(e,t,a,N,m,r){const d=s("ComponentsRealtime"),u=s("PrinterAuto");return c(),_(g,null,[o(R,{to:"/notifications",flat:"",round:"",dense:"",icon:"las la-bell",color:e.$q.dark.mode?"white":"dark"},{default:l(()=>[r.hasData?(c(),h(v,{key:0,appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"},{default:l(()=>[o(y,{floating:"",color:"primary2",rounded:"",style:{top:"2px"}})]),_:1})):A("",!0)]),_:1},8,["color"]),o(d,{ref:"realtime",getevent:"notification_event",onAfterReceive:r.afterReceive},null,8,["onAfterReceive"]),o(u,{ref:"printer_auto",data:m.data},null,8,["data"])],64)}var V=f(C,[["render",D]]);export{V as default};
