import{Q as c}from"./QInnerLoading.d034c390.js";import{_ as b,u as f,A as n,p as m,q as _,t as i,a1 as g,b8 as y,f as o,ar as h,av as d,at as p,a4 as v,b9 as V}from"./index.c29f7992.js";import{Q as s}from"./QSelect.ae814dfc.js";import{Q as S}from"./QSpace.0d53e539.js";import{Q as k}from"./QForm.32515fc9.js";import{Q as w}from"./QPage.1b02519d.js";import"./QChip.5de2d333.js";import"./QItemLabel.1db45aa2.js";import"./QMenu.074d3579.js";import"./selection.53b1fe34.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";const Q={data(){return{loading:!1,loading2:!1,merchant_tax_number:"",merchant_two_flavor_option:0,merchant_extenal:"",merchant_close_store:!1,merchant_enabled_voucher:!1,merchant_enabled_tip:!1,merchant_default_tip:"",merchant_tip_type:"",tips_in_transactions:[]}},setup(t){return{DataStore:f()}},created(){this.getSettings()},methods:{refresh(t){this.getSettings(t)},getSettings(t){this.loading=!0,n.fetchDataByTokenPost("getSettings").then(e=>{this.merchant_tax_number=e.details.merchant_tax_number,n.empty(e.details.merchant_two_flavor_option)||(this.merchant_two_flavor_option=parseInt(e.details.merchant_two_flavor_option)),this.merchant_extenal=e.details.merchant_extenal,this.merchant_close_store=e.details.merchant_close_store,this.merchant_enabled_voucher=e.details.merchant_enabled_voucher,this.merchant_enabled_tip=e.details.merchant_enabled_tip,this.merchant_default_tip=e.details.merchant_default_tip,this.merchant_tip_type=e.details.merchant_tip_type,this.tips_in_transactions=e.details.tips_in_transactions}).catch(e=>{n.notify("dark",e,"error",this.$q)}).then(e=>{this.loading=!1,n.empty(t)||t()})},onSubmit(){n.showLoadingBox("",this.$q),n.fetchDataByToken("saveSettings",{merchant_tax_number:this.merchant_tax_number,merchant_two_flavor_option:this.merchant_two_flavor_option,merchant_extenal:this.merchant_extenal,merchant_close_store:this.merchant_close_store,merchant_enabled_voucher:this.merchant_enabled_voucher,merchant_enabled_tip:this.merchant_enabled_tip,merchant_default_tip:this.merchant_default_tip,merchant_tip_type:this.merchant_tip_type,tips_in_transactions:this.tips_in_transactions}).then(t=>{n.notify("light-green",t.msg,"check_circle",this.$q)}).catch(t=>{n.notify("dark",t,"error",this.$q)}).then(t=>{n.hideLoadingBox(this.$q)})}}},q={class:"q-gutter-y-md"},x={class:"column"};function D(t,e,T,r,a,u){return m(),_(w,{class:g([{"bg-mydark text-white":t.$q.dark.mode,"bg-grey-1 text-dark":!t.$q.dark.mode},"q-pr-md q-pl-md"])},{default:i(()=>[a.loading?(m(),_(c,{key:0,showing:!0,color:"primary",size:"md"})):(m(),_(y,{key:1,class:"q-pa-none no-shadow"},{default:i(()=>[o(V,null,{default:i(()=>[o(k,{onSubmit:u.onSubmit},{default:i(()=>[h("div",q,[o(d,{outlined:"",modelValue:a.merchant_tax_number,"onUpdate:modelValue":e[0]||(e[0]=l=>a.merchant_tax_number=l),label:t.$t("Tax number"),"stack-label":"",color:"grey-5","lazy-rules":""},null,8,["modelValue","label"]),o(s,{outlined:"",modelValue:a.merchant_two_flavor_option,"onUpdate:modelValue":e[1]||(e[1]=l=>a.merchant_two_flavor_option=l),options:r.DataStore.two_flavor_options,label:t.$t("Two Flavor Options"),color:"grey-5","stack-label":"","map-options":"","emit-value":""},null,8,["modelValue","options","label"]),o(d,{outlined:"",modelValue:a.merchant_extenal,"onUpdate:modelValue":e[2]||(e[2]=l=>a.merchant_extenal=l),label:t.$t("Website address"),"stack-label":"",color:"grey-5","lazy-rules":""},null,8,["modelValue","label"]),h("div",x,[o(p,{modelValue:a.merchant_close_store,"onUpdate:modelValue":e[3]||(e[3]=l=>a.merchant_close_store=l),label:t.$t("Close Store")},null,8,["modelValue","label"]),o(p,{modelValue:a.merchant_enabled_voucher,"onUpdate:modelValue":e[4]||(e[4]=l=>a.merchant_enabled_voucher=l),label:t.$t("Enabled Voucher")},null,8,["modelValue","label"]),o(p,{modelValue:a.merchant_enabled_tip,"onUpdate:modelValue":e[5]||(e[5]=l=>a.merchant_enabled_tip=l),label:t.$t("Enabled Tips")},null,8,["modelValue","label"])]),o(s,{outlined:"",modelValue:a.merchant_default_tip,"onUpdate:modelValue":e[6]||(e[6]=l=>a.merchant_default_tip=l),label:t.$t("Default Tip"),color:"grey-5","stack-label":"",options:r.DataStore.tips,"options-html":"","map-options":"","emit-value":""},null,8,["modelValue","label","options"]),o(s,{outlined:"",modelValue:a.merchant_tip_type,"onUpdate:modelValue":e[7]||(e[7]=l=>a.merchant_tip_type=l),label:t.$t("Tip Type"),color:"grey-5","stack-label":"",options:r.DataStore.tip_type,"options-html":"","map-options":"","emit-value":""},null,8,["modelValue","label","options"]),o(s,{outlined:"",modelValue:a.tips_in_transactions,"onUpdate:modelValue":e[8]||(e[8]=l=>a.tips_in_transactions=l),label:t.$t("Services"),color:"grey-5",options:r.DataStore.services,multiple:"",behavior:"dialog","transition-show":"fade","transition-hide":"fade","options-html":"","map-options":"","emit-value":""},null,8,["modelValue","label","options"])]),o(S,{class:"q-pa-sm"}),o(v,{type:"submit",color:"primary","text-color":"white",label:t.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":"",loading:t.loading_submit},null,8,["label","loading"])]),_:1},8,["onSubmit"])]),_:1})]),_:1}))]),_:1},8,["class"])}var O=b(Q,[["render",D]]);export{O as default};
