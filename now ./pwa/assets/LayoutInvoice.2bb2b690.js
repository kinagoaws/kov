import{_ as g,d as C,aA as p,u as $,n,p as l,q as s,t as o,f as a,at as v,a2 as c,a4 as d,Z as Q,$ as w,au as S,F as h,a1 as u,aB as f}from"./index.c29f7992.js";import{Q as V}from"./QToolbarTitle.38b5862b.js";import{Q as q}from"./QCircularProgress.bcda6a33.js";import{Q as P}from"./QBadge.50ff0feb.js";import{Q as _}from"./QToolbar.19752286.js";import{Q as D}from"./QHeader.8a0fa205.js";import{Q as B}from"./QDrawer.85a82f78.js";import{Q as i}from"./QRouteTab.a0aa795c.js";import{Q as T}from"./QTabs.8a6f34eb.js";import{Q as A}from"./QFooter.478b051a.js";import{Q as O,a as L}from"./QLayout.474c7888.js";import{u as N}from"./SearchStore.674246eb.js";import{u as E}from"./CartStore.99e9bb86.js";import"./format.de7e9769.js";import"./QResizeObserver.0e413222.js";import"./TouchPan.5fac99c8.js";import"./touch.9135741d.js";import"./selection.53b1fe34.js";import"./rtl.276c3f1b.js";const F=C({name:"LayoutPromo",components:{NotiButton:p(()=>f(()=>import("./NotiButton.0135fb2a.js"),["assets/NotiButton.0135fb2a.js","assets/index.c29f7992.js","assets/index.8924bfb8.css","assets/QBadge.50ff0feb.js","assets/index.e205827f.js","assets/UserStore.28c5b9df.js"])),PosCart:p(()=>f(()=>import("./PosCart.f19ed390.js"),["assets/PosCart.f19ed390.js","assets/index.c29f7992.js","assets/index.8924bfb8.css","assets/QBadge.50ff0feb.js","assets/QSpace.0d53e539.js","assets/QBtnToggle.d07d4b57.js","assets/QImg.a00dd4e9.js","assets/QItemLabel.1db45aa2.js","assets/QList.04c37cb8.js","assets/QPopupProxy.612ef87b.js","assets/QMenu.074d3579.js","assets/selection.53b1fe34.js","assets/QAjaxBar.c9f7e53a.js","assets/format.de7e9769.js","assets/CartStore.99e9bb86.js"]))},setup(){const e=$(),t=N(),m=E();return{DataStore:e,SearchStore:t,CartStore:m}},data(){return{online:!0,tab:"home",loading:!1,path:"",id:null}},mounted(){this.id=this.$route.query.id},created(){this.$q.dark.set(this.DataStore.dark_mode),this.path=this.$route.path},updated(){this.path=this.$route.path},methods:{searchPage(){switch(console.log(this.$route.path),this.$route.path){case"/pos/on-hold":this.$router.push("/pos-order/search-on-hold");break;case"/pos/list":this.$router.push("/search");break;default:this.DataStore.search_item="",this.$router.push("/search/food");break}},setOnline(){let e=this.online?"Confirm Going Online":"Confirm Going Offline",t=this.online?this.$t("Are you sure you want to take your business online and start accepting orders again?"):this.$t("Are you sure you want to take your business offline temporarily? This will prevent new orders from coming in. Your current orders will still be processed.");this.$q.dialog({title:this.$t(e),message:t,cancel:!0,persistent:!0,ok:{color:"dark",flat:!0,"no-caps":!0,label:this.$t("Confirm")},cancel:{color:"primary",flat:!0,"no-caps":!0,label:this.$t("Cancel")}}).onOk(()=>{this.DataStore.setStoreAvailable(this.online)}).onCancel(()=>{this.online=!this.online}).onDismiss(()=>{})}}});function U(e,t,m,I,R,z){const y=n("NotiButton"),b=n("PosCart"),k=n("router-view");return l(),s(O,{view:"lHh Lpr lFf"},{default:o(()=>[a(D,{class:u({"bg-mydark text-white":e.$q.dark.mode,"bg-grey-1 text-dark":!e.$q.dark.mode}),reveal:"","reveal-offset":"10"},{default:o(()=>[a(_,null,{default:o(()=>[a(v,{modelValue:e.online,"onUpdate:modelValue":[t[0]||(t[0]=r=>e.online=r),e.setOnline],color:"primary",label:e.$t("Online")},null,8,["modelValue","label","onUpdate:modelValue"]),a(V),e.path=="/pos/create"?(l(),c(h,{key:0},[a(d,{round:"",color:"grey",icon:"search",flat:"",onClick:e.searchPage,class:"q-mr-sm"},null,8,["onClick"]),e.CartStore.cart_loading?(l(),s(q,{key:0,rounded:"",value:61,size:"18px",color:"primary",indeterminate:""})):(l(),s(d,{key:1,dense:"",color:"purple",round:"",icon:"las la-shopping-cart",unelevated:"",onClick:t[1]||(t[1]=r=>e.CartStore.cart_drawer=!e.CartStore.cart_drawer)},{default:o(()=>[e.CartStore.hasData?(l(),s(P,{key:0,color:"red",rounded:"",floating:""},{default:o(()=>[Q(w(e.CartStore.getCartCount),1)]),_:1})):S("",!0)]),_:1}))],64)):(l(),c(h,{key:1},[a(y),a(d,{round:"",color:"grey",icon:"search",flat:"",onClick:e.searchPage},null,8,["onClick"])],64))]),_:1})]),_:1},8,["class"]),a(B,{modelValue:e.CartStore.cart_drawer,"onUpdate:modelValue":t[2]||(t[2]=r=>e.CartStore.cart_drawer=r),side:"right",overlay:"",behavior:"mobile",width:250,dark:""},{default:o(()=>[a(b,{ref:"cart"},null,512)]),_:1},8,["modelValue"]),a(A,{bordered:"",class:"bg-white text-dark modified-footer"},{default:o(()=>[a(T,{modelValue:e.tab,"onUpdate:modelValue":t[3]||(t[3]=r=>e.tab=r),dense:"","indicator-color":"transparent","active-color":"secondary",align:"justify",class:u({"bg-mydark text-white":e.$q.dark.mode,"text-dark":!e.$q.dark.mode})},{default:o(()=>[a(i,{name:"home",icon:"las la-arrow-left",label:e.$t("Back"),"no-caps":"",to:"/invoice/list",class:"routertab_small"},null,8,["label"]),a(i,{name:"details",icon:"las la-file-invoice",label:e.$t("Details"),"no-caps":"",to:{path:"/inv/view",query:{id:e.id}},class:"routertab_small"},null,8,["label","to"]),a(i,{name:"payment",icon:"las la-money-bill",label:e.$t("Payment"),"no-caps":"",to:{path:"/inv/payment",query:{id:e.id}},class:"routertab_small"},null,8,["label","to"]),a(i,{name:"activity",icon:"las la-chart-line",label:e.$t("Activity"),"no-caps":"",to:{path:"/inv/activity",query:{id:e.id}},class:"routertab_small"},null,8,["label","to"])]),_:1},8,["modelValue","class"])]),_:1}),a(L,{class:u({"bg-mydark text-white":e.$q.dark.mode,"bg-grey-1 text-dark":!e.$q.dark.mode})},{default:o(()=>[a(k)]),_:1},8,["class"])]),_:1})}var ne=g(F,[["render",U]]);export{ne as default};
