import{_ as h,u as p,X as r,q as f,Z as g,j as t,v as o,$ as d,F as k,a4 as n,a0 as b,a1 as l,a2 as q,ae as m}from"./index.5da0f878.js";import{Q as y}from"./QToolbarTitle.56a1528c.js";import{Q}from"./QToolbar.b7ddade1.js";import{Q as S}from"./QHeader.6b7f1431.js";import{Q as $}from"./QSpace.334d24e5.js";import{Q as _}from"./QSelect.094db69a.js";import{Q as w}from"./QFooter.28056917.js";import{Q as B}from"./QForm.8e908865.js";import{Q as v}from"./QPage.ab42a258.js";import{u as V}from"./ScheduleStore.0e67fa88.js";import"./QResizeObserver.21f20b80.js";import"./QItemLabel.6219c46e.js";import"./QMenu.1610252a.js";import"./position-engine.78f240dd.js";import"./selection.a405500a.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";const R={name:"RequestBreak",data(){return{loading:!1,duration:"",schedule_uuid:""}},created(){this.schedule_uuid=this.$route.query.schedule_uuid},setup(){const e=p(),a=V();return{Activity:e,Schedule:a}},methods:{myRule(e){if(r.empty(e))return"Duration is required"},onSubmit(){this.loading=!0,r.fetchDataByTokenPost("requestBreak","schedule_uuid="+this.schedule_uuid+"&duration="+this.duration).then(e=>{this.Schedule.gettShift(),r.notify(this.$q.dark.mode?"grey600":"light-green",e.msg,"check_circle",this.$q),this.$router.replace("/home")}).catch(e=>{r.notify("dark",e,"error",this.$q)}).then(e=>{this.loading=!1})}}},T={class:"text-weight-bold no-margin font16"},A={class:"text-weight-light q-ma-none"};function F(e,a,z,c,i,s){return f(),g(k,null,[t(S,{class:d({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:o(()=>[t(Q,null,{default:o(()=>[t(n,{onClick:a[0]||(a[0]=u=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),t(y,{class:"text-weight-bold"},{default:o(()=>[b(l(e.$t("Request Break")),1)]),_:1})]),_:1}),t(q)]),_:1},8,["class"]),t(v,{class:"q-pa-md"},{default:o(()=>[m("h6",T,l(e.$t("Break duration")),1),m("p",A,l(e.$t("Select your duration for break")),1),t($,{class:"q-pa-sm"}),t(B,{onSubmit:s.onSubmit},{default:o(()=>[t(_,{modelValue:i.duration,"onUpdate:modelValue":a[1]||(a[1]=u=>i.duration=u),options:c.Activity.break_duration,label:e.$t("Select duration"),behavior:"dialog","input-debounce":"700",outlined:"",color:"grey-5","lazy-rules":"",rules:[s.myRule],"map-options":"","emit-value":""},null,8,["modelValue","options","label","rules"]),t(w,{class:d(["q-pa-md",{"bg-mydark ":e.$q.dark.mode,"bg-white ":!e.$q.dark.mode}])},{default:o(()=>[t(n,{type:"submit",color:"primary","text-color":"white",label:e.$t("Submit"),unelevated:"",class:"full-width",size:"lg","no-caps":"",loading:i.loading},null,8,["label","loading"])]),_:1},8,["class"])]),_:1},8,["onSubmit"])]),_:1})],64)}var O=h(R,[["render",F]]);export{O as default};
