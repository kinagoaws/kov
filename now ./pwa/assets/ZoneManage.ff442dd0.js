import{_ as k,A as a,p as s,a2 as d,f as o,t as r,a1 as u,F as m,a4 as h,Z as p,$ as f,a0 as b,q as c,av as g}from"./index.c29f7992.js";import{Q as y}from"./QToolbarTitle.38b5862b.js";import{Q}from"./QToolbar.19752286.js";import{Q as $}from"./QHeader.8a0fa205.js";import{Q as q}from"./QInnerLoading.d034c390.js";import{Q as w}from"./QFooter.478b051a.js";import{Q as z}from"./QForm.32515fc9.js";import{Q as D}from"./QPage.1b02519d.js";import"./QResizeObserver.0e413222.js";const B={name:"GroupManage",components:{},data(){return{id:"",data:[],loading:!1,zone_name:"",description:""}},mounted(){this.id=this.$route.query.id,a.empty(this.id)||this.getData()},computed:{isEdit(){return!a.empty(this.id)},hasData(){return Object.keys(this.data).length>0},CheckData(){return!a.empty(this.id)&&Object.keys(this.data).length<=0}},methods:{getData(){this.loading=!0,a.fetchDataByTokenPost("getZone","id="+this.id).then(e=>{this.data=e.details,this.zone_name=e.details.zone_name,this.description=e.details.description}).catch(e=>{a.notify("red-5",e,"error_outline",this.$q)}).then(e=>{this.loading=!1})},formSubmit(){let e={id:this.id,zone_name:this.zone_name,description:this.description};a.showLoadingBox("",this.$q),a.fetchDataByTokenPost(a.empty(this.id)?"AddZone":"UpdateZone",e).then(t=>{a.notify("light-green",t.msg,"check_circle",this.$q),this.$router.replace({path:"/delivery-management/zones"})}).catch(t=>{a.notify("red-5",t,"error_outline",this.$q)}).then(t=>{a.hideLoadingBox(this.$q)})}}};function V(e,t,_,S,l,n){return s(),d(m,null,[o($,{class:u({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:r(()=>[o(Q,null,{default:r(()=>[o(h,{onClick:t[0]||(t[0]=i=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),o(y,{class:"text-weight-bold"},{default:r(()=>[n.isEdit?(s(),d(m,{key:0},[p(f(e.$t("Update Zone")),1)],64)):(s(),d(m,{key:1},[p(f(e.$t("Add Zone")),1)],64))]),_:1})]),_:1}),o(b)]),_:1},8,["class"]),o(D,{class:u([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode},"q-pa-md"])},{default:r(()=>[l.loading?(s(),c(q,{key:0,showing:!0,color:"primary",size:"md"})):(s(),c(z,{key:1,onSubmit:n.formSubmit},{default:r(()=>[o(g,{modelValue:l.zone_name,"onUpdate:modelValue":t[1]||(t[1]=i=>l.zone_name=i),label:e.$t("Name"),"stack-label":"",outlined:"",color:"grey-5",rules:[i=>i&&i.length>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),o(g,{modelValue:l.description,"onUpdate:modelValue":t[2]||(t[2]=i=>l.description=i),label:e.$t("Description"),"stack-label":"",outlined:"",autogrow:"",color:"grey-5"},null,8,["modelValue","label"]),o(w,null,{default:r(()=>[o(h,{type:"submit",color:"primary","text-color":"white",label:e.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":"",disable:n.CheckData},null,8,["label","disable"])]),_:1})]),_:1},8,["onSubmit"]))]),_:1},8,["class"])],64)}var I=k(B,[["render",V]]);export{I as default};
