import{_ as g,u as y,A as r,p as m,q as p,t as n,f as o,a4 as c,Z as v,$ as b,a0 as V,a1 as d,ar as _,av as f,at as h}from"./index.c29f7992.js";import{Q as k}from"./QToolbarTitle.38b5862b.js";import{Q as S}from"./QToolbar.19752286.js";import{Q as w}from"./QHeader.8a0fa205.js";import{Q}from"./QInnerLoading.d034c390.js";import{Q as s}from"./QSelect.ae814dfc.js";import{Q as q}from"./QFooter.478b051a.js";import{Q as T}from"./QForm.32515fc9.js";import{Q as D}from"./QPage.1b02519d.js";import{Q as U}from"./QPullToRefresh.9f003a0c.js";import"./QResizeObserver.0e413222.js";import"./QChip.5de2d333.js";import"./QItemLabel.1db45aa2.js";import"./QMenu.074d3579.js";import"./selection.53b1fe34.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";import"./TouchPan.5fac99c8.js";import"./touch.9135741d.js";const x={data(){return{loading:!1,loading2:!1,merchant_tax_number:"",merchant_two_flavor_option:0,merchant_extenal:"",merchant_close_store:!1,merchant_enabled_voucher:!1,merchant_enabled_tip:!1,merchant_default_tip:"",merchant_tip_type:"",tips_in_transactions:[]}},setup(t){return{DataStore:y()}},created(){this.getSettings()},methods:{refresh(t){this.getSettings(t)},getSettings(t){this.loading=!0,r.fetchDataByTokenPost("getSettings").then(e=>{this.merchant_tax_number=e.details.merchant_tax_number,r.empty(e.details.merchant_two_flavor_option)||(this.merchant_two_flavor_option=parseInt(e.details.merchant_two_flavor_option)),this.merchant_extenal=e.details.merchant_extenal,this.merchant_close_store=e.details.merchant_close_store,this.merchant_enabled_voucher=e.details.merchant_enabled_voucher,this.merchant_enabled_tip=e.details.merchant_enabled_tip,this.merchant_default_tip=e.details.merchant_default_tip,this.merchant_tip_type=e.details.merchant_tip_type,this.tips_in_transactions=e.details.tips_in_transactions}).catch(e=>{r.notify("dark",e,"error",this.$q)}).then(e=>{this.loading=!1,r.empty(t)||t()})},onSubmit(){this.loading2=!0,r.fetchDataByToken("saveSettings",{merchant_tax_number:this.merchant_tax_number,merchant_two_flavor_option:this.merchant_two_flavor_option,merchant_extenal:this.merchant_extenal,merchant_close_store:this.merchant_close_store,merchant_enabled_voucher:this.merchant_enabled_voucher,merchant_enabled_tip:this.merchant_enabled_tip,merchant_default_tip:this.merchant_default_tip,merchant_tip_type:this.merchant_tip_type,tips_in_transactions:this.tips_in_transactions}).then(t=>{r.notify("light-green",t.msg,"check_circle",this.$q)}).catch(t=>{r.notify("dark",t,"error",this.$q)}).then(t=>{this.loading2=!1})}}},B={class:"q-pa-md q-gutter-md"},z={class:"q-mb-none"},C={class:"column"};function I(t,e,P,i,a,u){return m(),p(U,{onRefresh:u.refresh},{default:n(()=>[o(w,{class:d({"bg-mydark text-white":t.$q.dark.mode,"bg-white text-dark":!t.$q.dark.mode})},{default:n(()=>[o(S,null,{default:n(()=>[o(c,{onClick:e[0]||(e[0]=l=>t.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:t.$q.dark.mode?"white":"dark"},null,8,["color"]),o(k,{class:"text-weight-bold"},{default:n(()=>[v(b(t.$t("Settings")),1)]),_:1})]),_:1}),o(V)]),_:1},8,["class"]),o(D,{class:d({"bg-mydark text-white":t.$q.dark.mode,"bg-white text-dark":!t.$q.dark.mode})},{default:n(()=>[a.loading?(m(),p(Q,{key:0,showing:!0,color:"primary",size:"md","label-class":"dark",class:"transparent"})):(m(),p(T,{key:1,onSubmit:u.onSubmit},{default:n(()=>[_("div",B,[_("p",z,b(t.$t("This will appear in your receipt")),1),o(f,{outlined:"",modelValue:a.merchant_tax_number,"onUpdate:modelValue":e[1]||(e[1]=l=>a.merchant_tax_number=l),label:t.$t("Tax number"),"stack-label":"",color:"grey-5","lazy-rules":""},null,8,["modelValue","label"]),o(s,{outlined:"",modelValue:a.merchant_two_flavor_option,"onUpdate:modelValue":e[2]||(e[2]=l=>a.merchant_two_flavor_option=l),options:i.DataStore.two_flavor_options,label:t.$t("Two Flavor Options"),color:"grey-5","stack-label":"","map-options":"","emit-value":""},null,8,["modelValue","options","label"]),o(f,{outlined:"",modelValue:a.merchant_extenal,"onUpdate:modelValue":e[3]||(e[3]=l=>a.merchant_extenal=l),label:t.$t("Website address"),"stack-label":"",color:"grey-5","lazy-rules":""},null,8,["modelValue","label"]),_("div",C,[o(h,{modelValue:a.merchant_close_store,"onUpdate:modelValue":e[4]||(e[4]=l=>a.merchant_close_store=l),label:t.$t("Close Store")},null,8,["modelValue","label"]),o(h,{modelValue:a.merchant_enabled_voucher,"onUpdate:modelValue":e[5]||(e[5]=l=>a.merchant_enabled_voucher=l),label:t.$t("Enabled Voucher")},null,8,["modelValue","label"]),o(h,{modelValue:a.merchant_enabled_tip,"onUpdate:modelValue":e[6]||(e[6]=l=>a.merchant_enabled_tip=l),label:t.$t("Enabled Tips")},null,8,["modelValue","label"])]),o(s,{outlined:"",modelValue:a.merchant_default_tip,"onUpdate:modelValue":e[7]||(e[7]=l=>a.merchant_default_tip=l),label:t.$t("Default Tip"),color:"grey-5","stack-label":"",options:i.DataStore.tips,"options-html":"","map-options":"","emit-value":""},null,8,["modelValue","label","options"]),o(s,{outlined:"",modelValue:a.merchant_tip_type,"onUpdate:modelValue":e[8]||(e[8]=l=>a.merchant_tip_type=l),label:t.$t("Tip Type"),color:"grey-5","stack-label":"",options:i.DataStore.tip_type,"options-html":"","map-options":"","emit-value":""},null,8,["modelValue","label","options"]),o(s,{outlined:"",modelValue:a.tips_in_transactions,"onUpdate:modelValue":e[9]||(e[9]=l=>a.tips_in_transactions=l),label:t.$t("Services"),color:"grey-5",options:i.DataStore.services,multiple:"",behavior:"dialog","transition-show":"fade","transition-hide":"fade","options-html":"","map-options":"","emit-value":""},null,8,["modelValue","label","options"])]),o(q,{class:d(["q-pl-md q-pr-md q-pb-xs",{"bg-mydark ":t.$q.dark.mode,"bg-white ":!t.$q.dark.mode}])},{default:n(()=>[o(c,{type:"submit",color:"primary","text-color":"white",label:t.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":"",loading:a.loading2},null,8,["label","loading"])]),_:1},8,["class"])]),_:1},8,["onSubmit"]))]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var te=g(x,[["render",I]]);export{te as default};
