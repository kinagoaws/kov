import{Q as u}from"./QSpace.334d24e5.js";import{_ as h,d as c,u as y,X as n,ag as m,q as p,Z as k,j as s,v as l,$,F as _,ae as r,ah as i,ai as v,t as w,a4 as d,aj as b,ak as q,a1 as o,al as g,a0 as f}from"./index.5da0f878.js";import{Q}from"./QToolbar.b7ddade1.js";import{Q as V}from"./QHeader.6b7f1431.js";import{Q as S}from"./QForm.8e908865.js";import{Q as A}from"./QPage.ab42a258.js";import"./QResizeObserver.21f20b80.js";const T=c({name:"LoginPage",data(){return{loading:!1,field_type:"password",username:"",password:"",dark_mode:!1,rtl:!1}},created(){this.dark_mode=this.Activity.dark_mode,this.rtl=this.Activity.rtl},setup(){return{Activity:y()}},watch:{dark_mode(e,a){this.$q.dark.set(e),this.Activity.dark_mode=e},rtl(e,a){this.Activity.rtl=e,this.$q.lang.set({rtl:e})}},computed:{FieldIcon(){return this.field_type==="password"?"eva-eye-outline":"eva-eye-off-outline"},getDarkMode(){return this.dark_mode?"las la-adjust":"las la-moon"},getRTLMode(){return this.rtl?"format_textdirection_l_to_r":"format_textdirection_r_to_l"}},methods:{onSubmit(){this.loading=!0,n.userLogin({username:this.username,password:this.password}).then(e=>{n.notify("green-5",e.msg,"check_circle",this.$q),m.setUser(e.details.user_data),m.setToken(e.details.user_token),this.$router.replace("/home")}).catch(e=>{n.notify("dark",e,"error_outline",this.$q)}).then(e=>{this.loading=!1})}}}),z={class:"full-width text-center"},I={class:"text-center"},C={class:"text-h6 text-weight-bold line-normal"},F={class:"font12 text-grey"},P={class:"row justify-between q-mb-sm",style:{"margin-top":"-15px"}},j={class:"q-pa-sm row items-center justify-center"},B={class:"text-grey"};function L(e,a,D,N,U,E){return p(),k(_,null,[s(V,{class:$({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:l(()=>[s(Q,null,{default:l(()=>[s(u),r("div",null,[s(i,{name:e.getDarkMode,size:"sm"},null,8,["name"]),s(v,{modelValue:e.dark_mode,"onUpdate:modelValue":a[0]||(a[0]=t=>e.dark_mode=t),color:"primary"},null,8,["modelValue"])]),e.Activity.settings_data.enabled_language?(p(),w(d,{key:0,to:"/settings/language",flat:"",round:"",dense:"",icon:"las la-globe",class:"q-mr-smx",color:e.$q.dark.mode?"white":"grey"},null,8,["color"])):b("",!0)]),_:1})]),_:1},8,["class"]),s(A,{class:"flex flex-center q-pl-md q-pr-md"},{default:l(()=>[r("div",z,[s(q,{flat:""},{default:l(()=>[r("div",I,[r("div",C,o(e.$t("Let's Sign You In")),1),r("div",F,o(e.$t("Enter your username and password to sigin")),1),s(u,{class:"q-pa-xs"})]),s(S,{onSubmit:e.onSubmit,class:"q-pa-md"},{default:l(()=>[s(g,{modelValue:e.username,"onUpdate:modelValue":a[1]||(a[1]=t=>e.username=t),label:e.$t("Email address"),outlined:"",color:"grey-5","lazy-rules":"",rules:[t=>t&&t.length>0||this.$t("This field is required")]},{prepend:l(()=>[s(i,{name:"las la-user-alt",color:"grey","lazy-rules":"",rules:[t=>t&&t.length>0||this.$t("This field is required")]},null,8,["rules"])]),_:1},8,["modelValue","label","rules"]),s(g,{modelValue:e.password,"onUpdate:modelValue":a[3]||(a[3]=t=>e.password=t),label:e.$t("Password"),outlined:"",color:"grey-5",type:e.field_type,"lazy-rules":"",rules:[t=>t&&t.length>0||this.$t("This field is required")]},{prepend:l(()=>[s(i,{name:"las la-lock",color:"grey","lazy-rules":"",rules:[t=>t&&t.length>0||this.$t("This field is required")]},null,8,["rules"])]),append:l(()=>[s(i,{onClick:a[2]||(a[2]=t=>e.field_type=e.field_type=="password"?"text":"password"),name:e.FieldIcon,color:"grey",class:"cursor-pointer"},null,8,["name"])]),_:1},8,["modelValue","label","type","rules"]),r("div",P,[a[4]||(a[4]=r("div",null,null,-1)),s(d,{unelevated:"",flat:"","no-caps":"",color:"primary",to:"/user/forgotpass"},{default:l(()=>[f(o(e.$t("Forgot Password"))+"?",1)]),_:1})]),s(d,{loading:e.loading,type:"submit",label:e.$t("Sign In"),unelevated:"",color:"primary","no-caps":"",class:"full-width",size:"lg"},null,8,["loading","label"]),r("div",j,[r("span",B,o(e.$t("Don't have an account")),1),s(d,{to:"/user/signup",unelevated:"",flat:"","no-caps":"",color:"primary"},{default:l(()=>[f(o(e.$t("Signup")),1)]),_:1})])]),_:1},8,["onSubmit"])]),_:1})])]),_:1})],64)}var J=h(T,[["render",L]]);export{J as default};
