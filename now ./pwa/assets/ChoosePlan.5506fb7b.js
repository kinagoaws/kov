import{Q as k}from"./QToolbarTitle.38b5862b.js";import{Q as b}from"./QToolbar.19752286.js";import{_ as y,A as o,p as r,a2 as n,f as a,t as e,a1 as m,F as f,Z as u,$ as d,a0 as v,ar as h,X as x,q as _,a3 as P,a4 as S,a5 as w,a6 as q,a7 as p,a9 as V,aa as $}from"./index.c29f7992.js";import{Q as B}from"./QHeader.8a0fa205.js";import{Q as g}from"./QItemLabel.1db45aa2.js";import{Q as C}from"./QList.04c37cb8.js";import{Q as F}from"./QFooter.478b051a.js";import{Q as I}from"./QForm.32515fc9.js";import{Q as T}from"./QPage.1b02519d.js";import"./QResizeObserver.0e413222.js";const z={name:"ChoosePlan",data(){return{loading:!1,loading_get:!1,data:[],plan_details:[],package_id:""}},created(){this.merchant_uuid=this.$route.query.uuid,o.empty(this.merchant_uuid)||this.getMerchant()},computed:{hasPackage(){return!!o.empty(this.package_id)}},methods:{getMerchant(){this.loading_get=!0,o.fetchDataPost("getPlan","merchant_uuid="+this.merchant_uuid).then(t=>{this.data=t.details.data,this.plan_details=t.details.plan_details}).catch(t=>{o.notify("dark",t,"error",this.$q),this.$router.push("/signup")}).then(t=>{this.loading_get=!1})},onSubmit(){this.$router.push({path:"/signup/choose-payment",query:{package_uuid:this.package_id,uuid:this.merchant_uuid}})}}},D={key:0},L={class:"flex flex-center full-width"};function N(t,i,A,M,s,c){return r(),n(f,null,[a(B,{class:m({"bg-mydark text-white":t.$q.dark.mode,"bg-white text-dark":!t.$q.dark.mode})},{default:e(()=>[a(b,null,{default:e(()=>[a(k,{class:"text-weight-bold"},{default:e(()=>[u(d(t.$t("Subscription Plans")),1)]),_:1})]),_:1}),a(v)]),_:1},8,["class"]),a(T,{class:m({"flex flex-center":s.loading_get})},{default:e(()=>[s.loading_get?(r(),n("div",D,[h("div",L,[a(x,{color:"primary",size:"2em"})])])):(r(),_(I,{key:1,onSubmit:c.onSubmit},{default:e(()=>[a(C,{separator:""},{default:e(()=>[(r(!0),n(f,null,P(s.data,l=>w((r(),_(q,{key:l,tag:"label"},{default:e(()=>[a(p,{avatar:""},{default:e(()=>[a(V,{modelValue:s.package_id,"onUpdate:modelValue":i[0]||(i[0]=Q=>s.package_id=Q),val:l.package_uuid},null,8,["modelValue","val"])]),_:2},1024),a(p,null,{default:e(()=>[a(g,null,{default:e(()=>[u(d(l.title),1)]),_:2},1024)]),_:2},1024),a(p,{side:""},{default:e(()=>[a(g,{caption:""},{default:e(()=>[u(d(l.price)+" / "+d(l.package_period),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[$]])),128))]),_:1}),i[1]||(i[1]=h("div",{class:"border-grey-top"},null,-1)),a(F,{class:"transparent q-pa-md"},{default:e(()=>[a(S,{type:"submit",color:"primary","text-color":"white",label:t.$t("Continue"),unelevated:"",class:"full-width",size:"lg","no-caps":"",disable:c.hasPackage},null,8,["label","disable"])]),_:1})]),_:1},8,["onSubmit"]))]),_:1},8,["class"])],64)}var O=y(z,[["render",N]]);export{O as default};
