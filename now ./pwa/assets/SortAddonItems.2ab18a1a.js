import{_ as q,A as u,n as S,p as a,q as g,t as o,f as r,a4 as h,Z as y,$ as m,a0 as $,a1 as s,a2 as i,F as p,a3 as Q,au as M,ar as k}from"./index.c29f7992.js";import{Q as v}from"./QToolbarTitle.38b5862b.js";import{Q as w}from"./QToolbar.19752286.js";import{Q as A}from"./QHeader.8a0fa205.js";import{Q as T}from"./QInnerLoading.d034c390.js";import{Q as V}from"./QSpace.0d53e539.js";import{Q as C}from"./QFooter.478b051a.js";import{Q as B}from"./QPage.1b02519d.js";import{Q as I}from"./QPullToRefresh.9f003a0c.js";import{u as N}from"./MenuStore.cd99501e.js";import{d as L}from"./vuedraggable.umd.4cf68983.js";import"./QResizeObserver.0e413222.js";import"./TouchPan.5fac99c8.js";import"./touch.9135741d.js";import"./selection.53b1fe34.js";import"./format.de7e9769.js";const z={name:"SortAddonItems",components:{draggable:L},data(){return{data:[],loading:!1,enabled:!0,category:[]}},setup(){return{MenuStore:N()}},created(){this.MenuStore.geStoreAddonMenu()},methods:{refresh(e){this.MenuStore.geStoreAddonMenu(e)},submit(){this.loading=!0,u.fetchDataByToken("SortAddonItems",{addonitems:this.MenuStore.addon}).then(e=>{u.notify(this.$q.dark.mode?"grey600":"light-green",e.msg,"check_circle",this.$q)}).catch(e=>{u.notify("dark",e,"error",this.$q)}).then(e=>{this.loading=!1})}}},D={key:1},F=["innerHTML"];function H(e,t,P,d,c,f){const b=S("draggable");return a(),g(I,{onRefresh:f.refresh},{default:o(()=>[r(A,{class:s({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:o(()=>[r(w,null,{default:o(()=>[r(h,{onClick:t[0]||(t[0]=n=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),r(v,{class:"text-weight-bold"},{default:o(()=>[y(m(e.$t("Sort Addon Items")),1)]),_:1})]),_:1}),r($)]),_:1},8,["class"]),r(B,{class:s([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode},"q-pa-md"])},{default:o(()=>[d.MenuStore.loading_addon?(a(),g(T,{key:0,showing:!0,color:"primary",size:"md"})):(a(),i(p,{key:1},[d.MenuStore.hasAddon?(a(),i("p",{key:0,class:s({"text-grey300":e.$q.dark.mode,"text-dark":!e.$q.dark.mode})},m(e.$t("Drag the list to sort")),3)):(a(),i("div",D,m(e.$t("No available data")),1)),(a(!0),i(p,null,Q(d.MenuStore.addon,n=>(a(),i(p,{key:n},[k("div",{class:s(["list-group-item q-pa-sm cursor-pointer",{"bg-grey600 ":e.$q.dark.mode,"border-grey":!e.$q.dark.mode}])},[k("span",{class:"text-weight-bold",innerHTML:n.subcategory_name},null,8,F)],2),r(b,{modelValue:n.items,"onUpdate:modelValue":l=>n.items=l,"item-key":"value",class:"list-group","ghost-class":"ghost",move:e.checkMove,onStart:t[1]||(t[1]=l=>e.dragging=!0),onEnd:t[2]||(t[2]=l=>e.dragging=!1)},{item:o(({element:l})=>[k("div",{class:s(["list-group-item q-pa-sm cursor-pointer",{"bg-grey600 ":e.$q.dark.mode,"border-grey":!e.$q.dark.mode}])},m(d.MenuStore.addon_items[l].sub_item_name),3)]),_:2},1032,["modelValue","onUpdate:modelValue","move"]),r(V,{class:"q-pa-sm"})],64))),128)),d.MenuStore.hasAddon?(a(),g(C,{key:2,class:s(["q-pl-md q-pr-md q-pb-xs",{"bg-mydark ":e.$q.dark.mode,"bg-white ":!e.$q.dark.mode}])},{default:o(()=>[r(h,{onClick:f.submit,color:"primary","text-color":"white",label:e.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":"",loading:c.loading},null,8,["onClick","label","loading"])]),_:1},8,["class"])):M("",!0)],64))]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var ae=q(z,[["render",H]]);export{ae as default};
