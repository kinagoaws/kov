import{_ as V,X as c,q as r,t as n,v as e,j as a,ak as v,ae as u,a1 as d,a4 as m,a5 as f,a0 as h,bq as C,Z as g,al as w,F as x,a3 as D,a6 as _,a7 as i,a9 as b,$ as B,ah as I,aj as L,aa as Q,bv as S,aP as q}from"./index.5da0f878.js";import{Q as R,a as z}from"./QBar.7b44c673.js";import{Q as N}from"./QSpace.334d24e5.js";import{Q as y}from"./QItemLabel.6219c46e.js";import{Q as P}from"./QList.d63bde81.js";import{C as T}from"./ClosePopup.1829ecf0.js";import"./position-engine.78f240dd.js";import"./selection.a405500a.js";const U={name:"DeclineReason",data(){return{loading:!1,dialog:!1,data:[],reason:"",reason_others:""}},created(){this.getList()},computed:{hasData(){return Object.keys(this.reason).length>0?!(this.reason=="others"&&c.empty(this.reason_others)):!1}},methods:{getList(){c.fetchData("declineReasonList","").then(o=>{this.data=o.details}).catch(o=>{this.data=[]}).then(o=>{})},submit(){let o=this.reason=="others"?this.reason_others:this.reason;this.$emit("afterSubmit",o)}}},j={class:"col text-center"},A={class:"text-weight-bold"},F={key:0};function O(o,l,E,X,t,p){return r(),n(q,{modelValue:t.dialog,"onUpdate:modelValue":l[4]||(l[4]=s=>t.dialog=s),maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},{default:e(()=>[a(v,null,{default:e(()=>[a(R,{class:"transparent q-pa-sm",style:{height:"auto"}},{default:e(()=>[u("div",j,[u("div",A,d(o.$t("Tell us why")),1)]),t.reason=="others"?(r(),n(m,{key:0,dense:"",flat:"",icon:"las la-undo",onClick:l[0]||(l[0]=s=>t.reason="")})):f((r(),n(m,{key:1,dense:"",flat:"",icon:"close"},{default:e(()=>[a(z,{class:"bg-white text-primary"},{default:e(()=>l[5]||(l[5]=[h("Close")])),_:1})]),_:1})),[[T]])]),_:1}),a(N,{class:"q-pa-xs bg-grey-1"}),a(C,null,{default:e(()=>[t.reason=="others"?(r(),g("div",F,[u("p",null,d(o.$t("Please specify the reason")),1),a(w,{modelValue:t.reason_others,"onUpdate:modelValue":l[1]||(l[1]=s=>t.reason_others=s),autogrow:"",dense:"","stack-label":"","lazy-rules":"",rules:[s=>s&&s.length>0||this.$t("This field is required")]},null,8,["modelValue","rules"])])):(r(),n(P,{key:1,separator:""},{default:e(()=>[(r(!0),g(x,null,D(t.data,s=>f((r(),n(_,{key:s,tag:"label"},{default:e(()=>[a(i,{avatar:"",class:"hidden"},{default:e(()=>[a(b,{modelValue:t.reason,"onUpdate:modelValue":l[2]||(l[2]=k=>t.reason=k),val:s,color:"primary",dense:""},null,8,["modelValue","val"])]),_:2},1024),a(i,null,{default:e(()=>[a(y,{class:B({"text-green":t.reason==s})},{default:e(()=>[h(d(s),1)]),_:2},1032,["class"])]),_:2},1024),t.reason==s?(r(),n(i,{key:0,side:""},{default:e(()=>[a(I,{name:"check",color:"green"})]),_:1})):L("",!0)]),_:2},1024)),[[Q]])),128)),f((r(),n(_,{tag:"label"},{default:e(()=>[a(i,{avatar:"",class:"hidden"},{default:e(()=>[a(b,{modelValue:t.reason,"onUpdate:modelValue":l[3]||(l[3]=s=>t.reason=s),val:"others",color:"primary",dense:""},null,8,["modelValue"])]),_:1}),a(i,null,{default:e(()=>[a(y,null,{default:e(()=>[h(d(o.$t("Others")),1)]),_:1})]),_:1})]),_:1})),[[Q]])]),_:1}))]),_:1}),a(S,{class:"fixed-bottom"},{default:e(()=>[a(m,{label:o.$t("Submit"),color:"primary",unelevated:"",class:"fit font17 text-weight-bold","no-caps":"",disable:!p.hasData,onClick:p.submit,size:"lg"},null,8,["label","disable","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var $=V(U,[["render",O]]);export{$ as default};
