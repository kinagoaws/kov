import{_ as q,A as u,n as S,p as r,q as k,t,f as a,a4 as c,Z as p,$ as m,a0 as $,a1 as d,a2 as s,F as g,a3 as M,au as Q,ar as f}from"./index.c29f7992.js";import{Q as v}from"./QToolbarTitle.38b5862b.js";import{Q as w}from"./QToolbar.19752286.js";import{Q as C}from"./QHeader.8a0fa205.js";import{Q as T}from"./QInnerLoading.d034c390.js";import{Q as V}from"./QSpace.0d53e539.js";import{Q as B}from"./QFooter.478b051a.js";import{Q as I}from"./QPage.1b02519d.js";import{Q as N}from"./QPullToRefresh.9f003a0c.js";import{u as L}from"./MenuStore.cd99501e.js";import{d as z}from"./vuedraggable.umd.4cf68983.js";import"./QResizeObserver.0e413222.js";import"./TouchPan.5fac99c8.js";import"./touch.9135741d.js";import"./selection.53b1fe34.js";import"./format.de7e9769.js";const D={name:"SortItems",components:{draggable:z},data(){return{data:[],loading:!1}},setup(){return{MenuStore:L()}},created(){this.MenuStore.geStoreMenu()},methods:{refresh(e){this.MenuStore.geStoreMenu(e)},submit(){this.loading=!0,u.fetchDataByToken("SortItems",{items:this.MenuStore.category}).then(e=>{u.notify(this.$q.dark.mode?"grey600":"light-green",e.msg,"check_circle",this.$q)}).catch(e=>{u.notify("dark",e,"error",this.$q)}).then(e=>{this.loading=!1})}}},F={key:1},H=["innerHTML"];function P(e,l,R,o,y,h){const b=S("draggable");return r(),k(N,{onRefresh:h.refresh},{default:t(()=>[a(C,{class:d({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:t(()=>[a(w,null,{default:t(()=>[a(c,{onClick:l[0]||(l[0]=i=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),a(v,{class:"text-weight-bold"},{default:t(()=>[p(m(e.$t("Sort Items")),1)]),_:1})]),_:1}),a($)]),_:1},8,["class"]),a(I,{class:d([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode,"flex flex-center":!o.MenuStore.hasCategory},"q-pa-md"])},{default:t(()=>[o.MenuStore.loading?(r(),k(T,{key:0,showing:!0,color:"primary",size:"md"})):(r(),s(g,{key:1},[o.MenuStore.hasCategory?(r(),s("p",{key:0,class:d({"text-grey300":e.$q.dark.mode,"text-dark":!e.$q.dark.mode})},m(e.$t("Drag the list to sort")),3)):(r(),s("div",F,m(e.$t("No available data")),1)),(r(!0),s(g,null,M(o.MenuStore.category,i=>(r(),s(g,{key:i},[f("div",{class:d(["list-group-item q-pa-sm cursor-pointer",{"bg-grey600 ":e.$q.dark.mode,"border-grey":!e.$q.dark.mode}])},[f("span",{class:"text-weight-bold",innerHTML:i.category_name},null,8,H)],2),a(b,{modelValue:i.items,"onUpdate:modelValue":n=>i.items=n,"item-key":"value",class:"list-group","ghost-class":"ghost",move:e.checkMove,onStart:l[1]||(l[1]=n=>e.dragging=!0),onEnd:l[2]||(l[2]=n=>e.dragging=!1)},{item:t(({element:n})=>[f("div",{class:d(["list-group-item q-pa-sm cursor-pointer",{"bg-grey600 ":e.$q.dark.mode,"border-grey":!e.$q.dark.mode}])},[o.MenuStore.items[n]?(r(),s(g,{key:0},[p(m(o.MenuStore.items[n].item_name),1)],64)):(r(),s(g,{key:1},[p(m(e.$t("Name not available")),1)],64))],2)]),_:2},1032,["modelValue","onUpdate:modelValue","move"]),a(V,{class:"q-pa-sm"})],64))),128)),o.MenuStore.hasCategory?(r(),k(B,{key:2,class:d(["q-pl-md q-pr-md q-pb-xs",{"bg-mydark ":e.$q.dark.mode,"bg-white ":!e.$q.dark.mode}])},{default:t(()=>[a(c,{onClick:h.submit,color:"primary","text-color":"white",label:e.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":"",loading:y.loading},null,8,["onClick","label","loading"])]),_:1},8,["class"])):Q("",!0)],64))]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var ae=q(D,[["render",P]]);export{ae as default};
