var M=Object.defineProperty;var L=(e,t,n)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var p=(e,t,n)=>(L(e,typeof t!="symbol"?t+"":t,n),n);import{d as q,r as R,c as O,w as W,cP as I,a5 as J,p as C,a2 as P,_ as T,u as A,$ as H}from"./index.c29f7992.js";/**
 * Vue Number Format 3.34.1
 * (c) 2021-2024 Dipak Sarkar <hello@dipaksarkar.in> (https://dipaksarkar.in/)
 * @license MIT
 */var w={prefix:"",suffix:"",separator:",",decimal:".",inputmode:"numeric",precision:2,minimumFractionDigits:null,prefill:!0,reverseFill:!1,min:null,max:null,nullValue:""};function z(e){return t=0,n=e,r=20,Math.max(t,Math.min(n,r));var t,n,r}class N{constructor(t){p(this,"options");p(this,"input");p(this,"number");p(this,"isClean");p(this,"isCustomDecimal");p(this,"noPreSuffix");p(this,"hasPreOrSuffix");p(this,"prefix");p(this,"preSufRegExp");p(this,"prefixRegExp");p(this,"suffixRegExp");p(this,"numberRegExp");p(this,"cleanRegExp");p(this,"negativeRegExp");this.options=Object.assign(F(w),t);const{prefix:n,suffix:r,decimal:u,reverseFill:l}=this.options;this.input="",this.number="",this.isClean=!l;const s=n,i=r,o=s.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),a=i.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&");o&&(this.prefixRegExp=new RegExp(`^${o}`)),a&&(this.suffixRegExp=new RegExp(`${a}$`)),this.prefix=n,this.numberRegExp=new RegExp(`[^0-9\\${u}]+`,"gi"),this.cleanRegExp=new RegExp("[^0-9]+","gi"),this.negativeRegExp=new RegExp("[^0-9\\-]+","gi"),this.isCustomDecimal=u!==".",this.noPreSuffix=!s&&!i,this.hasPreOrSuffix=!this.noPreSuffix}isNull(){return!this.numberOnly(this.isClean?this.cleanRegExp:this.negativeRegExp)}clean(t=!1){return this.isClean=t,this}sign(){if(this.input===null||this.input===void 0)return"";const t=this.input.toString().indexOf(v)>=0;return this.isClean?t&&this.realNumber()>0?v:"":t?v:""}toFixed(){const t=Math.pow(10,this.options.precision);return(parseFloat(this.numberOnly(/\D+/g))/t||0).toFixed(z(this.options.precision))}toNumber(t){return Number(t)}numberOnly(t){var r;let n=(r=this.input)==null?void 0:r.toString();return this.prefixRegExp&&(n=n.replace(this.prefixRegExp,"")),this.suffixRegExp&&(n=n.replace(this.suffixRegExp,"")),n.replace(t||this.numberRegExp,"")}inputWithPreOrSuffix(){return this.input&&this.prefixRegExp?this.prefixRegExp.test(this.input.toString()):!this.input||!this.suffixRegExp||this.suffixRegExp.test(this.input.toString())}isNegative(){return this.sign()===v}isNumber(t){return!isNaN(this.toNumber(t||this.input))}numbers(){var u,l,s;const{reverseFill:t,decimal:n,separator:r}=this.options;if(t)this.number=this.toFixed().replace(".",n);else{const i=(s=this.input)==null?void 0:s.toString().replace((u=this.prefixRegExp)!=null?u:"","").replace((l=this.suffixRegExp)!=null?l:"","").replace(new RegExp(v,"g"),""),o=this.input.toString().indexOf(n)>=0&&this.isCustomDecimal,a=i.replace(new RegExp(`\\${r}`,"g"),"").replace(n,".");typeof this.input=="number"||this.isNumber()&&!o&&!this.inputWithPreOrSuffix()&&this.hasPreOrSuffix?this.number=this.parts(i,".").join(n):this.isNumber(a)&&!o&&this.inputWithPreOrSuffix()&&this.hasPreOrSuffix?this.number=this.parts(a,".").join(n):this.number=this.parts(this.numberOnly()).join(n)}return this.number}unformatNumber(){return this.numbers().toString().replace(this.options.decimal,".")}realNumber(){return parseFloat(this.unformatNumber())}parts(t,n){const{precision:r,minimumFractionDigits:u,decimal:l}=this.options;let s=t.toString().split(n||l);if(s.length>1&&(s[0]=this.toNumber(s[0])||0,s[1]=s.slice(1,s.length).join(""),s=s.slice(0,2)),this.isClean){const i=this.toNumber(s.join(".")).toFixed(r),o=this.toNumber(i),a=o.toFixed(u);s=u>=0&&o.toString().length<a.length?a.toString().split("."):o.toString().split(".")}return s.slice(0,2)}addSeparator(){const{decimal:t,separator:n}=this.options,r=this.numbers().split(t);return r[0]=r[0].toString().replace(/(\d)(?=(?:\d{3})+\b)/gm,`$1${n}`),r.join(t)}format(t){this.input=t;const{reverseFill:n,nullValue:r,prefix:u,suffix:l}=this.options;return this.isNull()&&!n?r:this.sign()+u+this.addSeparator()+l}unformat(t){this.input=t;const{reverseFill:n,nullValue:r}=this.options,u=this.realNumber(),l=this.unformatNumber();return this.isNull()||n&&u===0?r:this.sign()+l}}const v="-";function F(e){return JSON.parse(JSON.stringify(e))}function y(e){return new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:{facade:!0}})}function S(e){const t=e instanceof HTMLInputElement?e:e.querySelector("input");if(!t)throw new Error("number directive requires an input element");return t}function V(e,t){const n=()=>{e.setSelectionRange(t,t)};n(),setTimeout(n,1)}function E(e,t,{emit:n=!0,force:r=!1,clean:u=!1}={}){var f;const{options:l,oldValue:s}=e,{reverseFill:i,max:o,min:a}=l,c=((f=t==null?void 0:t.props)==null?void 0:f.value)||e.value;if(r||s!==c){const h=new N(l).clean(u&&!i);let g=h.format(c),d=h.clean(!i).unformat(c);u&&(Number(o)===o&&Number(d)>o?(g=h.format(o),d=o.toString()):Number(a)===a&&Number(d)<a&&(g=h.format(a),d=a.toString())),e.oldValue=g,e.unmasked=d,e.value!==g&&(e.value=g)}return n&&e.dispatchEvent(y("input"))}var G={beforeMount:(e,{value:t,modifiers:n},r)=>{var a;e=S(e);const u=Object.assign(F(w),t,n),{reverseFill:l,precision:s,decimal:i,inputmode:o}=u;e.options=u,e.setAttribute("inputmode",o),l&&e.value?(e.value=parseFloat(new N({...u,reverseFill:!1}).unformat(e.value)).toFixed(s),(a=r==null?void 0:r.props)!=null&&a.value&&(r.props.value=e.value)):e.value&&!isNaN(Number(e.value))&&(e.value=e.value.replace(".",i)),E(e,r,{force:u.prefill,clean:!0,emit:!1})},mounted:e=>{const t=(e=S(e)).parentElement||e,n=l=>{l.target===e&&function(s){const{target:i,detail:o}=s;if(o!=null&&o.facade)return!1;s.stopPropagation();let a=i.value.length;const{oldValue:c,options:f}=i;i.selectionEnd&&(a=i.value.length-i.selectionEnd),E(i,null,{clean:!f.precision,emit:!1}),f.suffix&&(a=Math.max(a,f.suffix.length)),a=i.value.length-a,f.prefix&&(a=Math.max(a,f.prefix.length)),V(i,a),c!==i.value&&i.dispatchEvent(y("input"))}(l)},r=l=>{l.target===e&&function(s){const{target:i}=s,{oldValue:o}=i;E(i,null,{force:!0,clean:!0,emit:!1}),o!==i.value&&i.dispatchEvent(y("input"))}(l)},u=l=>{l.target===e&&function(s,i){const{options:o}=i,{prefix:a,suffix:c,decimal:f,min:h,separator:g}=o,{key:d}=s,_=new RegExp(`${a}|${c}`,"g"),$=i.value.replace(_,""),j=h===void 0||Number(h)<0||Number(h)!==h;if(d===f)$.includes(f)?s.preventDefault():$||(i.value="0",i.dispatchEvent(new Event("input")));else if(d!==v||j){if(d==="Backspace"){const b=i.selectionEnd||0,D=i.value.slice(b-1,b),B=i.value.slice(b-2,b);let x=i.value.length-b;[a,v,g].includes(D)&&(s.preventDefault(),i.value=D===g?i.value.replace(B,""):i.value.replace(new RegExp(`[${a}${v}]`,"g"),""),x=Math.max(x,c.length),x=i.value.length-x,x=Math.max(x,a.length),V(i,x),i.dispatchEvent(new Event("input")))}}else s.preventDefault()}(l,e)};t.addEventListener("input",n,!0),t.addEventListener("blur",r,!0),t.addEventListener("keydown",u,!0),e.cleanup=()=>{t.removeEventListener("input",n,!0),t.removeEventListener("blur",r,!0),t.removeEventListener("keydown",u,!0)}},updated:(e,{value:t,oldValue:n,modifiers:r},u)=>{if(e=S(e),t!==n){const l=e.options;e.options=Object.assign(l,t,r),E(e,u,{force:!0,clean:!1,emit:!1})}else E(e,u,{emit:!1})},unmounted:e=>{var t;(t=S(e))==null||t.cleanup()}};const m=F(w);var k=q({name:"VueNumber",directives:{number:G},props:{modelValue:{type:[String,Number],required:!0},nullValue:{type:[Number,String],default:m.nullValue},masked:Boolean,readonly:Boolean,disabled:Boolean,reverseFill:{type:Boolean,default:m.reverseFill},prefill:{type:Boolean,default:m.prefill},precision:{type:Number,default:()=>m.precision},minimumFractionDigits:{type:Number,default:()=>m.minimumFractionDigits},decimal:{type:String,default:()=>m.decimal},min:{type:Number,default:()=>m.min},max:{type:Number,default:()=>m.max},separator:{type:String,default:()=>m.separator},prefix:{type:String,default:()=>m.prefix},suffix:{type:String,default:()=>m.suffix},inputmode:{type:String,default:()=>m.inputmode}},emits:["update:model-value","input:model-value"],setup(e,{emit:t}){const n=R(e.modelValue),r=R(!1),u=R(""),l=O(()=>({...e})),s=new N(l.value),i=O(()=>e.masked?s.format(n.value):u.value),o=()=>{t("update:model-value",i.value)};return W(()=>e.modelValue,a=>{i.value!=a&&(n.value=s.format(a))}),{config:l,maskedValue:n,unmaskedValue:u,input:a=>{const{target:c}=a;n.value=c.value,u.value=c.unmasked,r.value=!0,t("input:model-value",i.value)},blur:()=>{r.value&&i.value!==e.modelValue&&o()},change:o}}});const K=["value","readonly","disabled"];k.render=function(e,t,n,r,u,l){const s=I("number");return J((C(),P("input",{type:"text",autocomplete:"off",value:e.maskedValue,readonly:e.readonly,disabled:e.disabled,class:"v-number vue-number-format",onChange:t[0]||(t[0]=(...i)=>e.change&&e.change(...i)),onInput:t[1]||(t[1]=(...i)=>e.input&&e.input(...i)),onBlur:t[2]||(t[2]=(...i)=>e.blur&&e.blur(...i))},null,40,K)),[[s,e.config]])},k.__file="src/component.vue";const Q={name:"NumberFormat",props:["amount"],data(){return{total:0,number:void 0}},created(){this.number=new N(this.DataStore.money_config),this.total=this.number.format(this.amount)},watch:{amount(e,t){this.total=this.number.format(e)}},setup(){return{DataStore:A()}}};function U(e,t,n,r,u,l){return C(),P("span",null,H(u.total),1)}var Z=T(Q,[["render",U]]);export{Z as default};
