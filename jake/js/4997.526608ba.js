"use strict";(globalThis["webpackChunkcom_kinago_single"]=globalThis["webpackChunkcom_kinago_single"]||[]).push([[4997],{7378:(t,e,i)=>{i.r(e),i.d(e,{default:()=>d});var o=i(1758);const n=["data-width"];function a(t,e,i,a,s,c){return(0,o.uX)(),(0,o.CE)("div",{class:"fb-login-button fullwidth-child","data-width":i.button_width,"data-size":"large","data-button-type":"login_with","data-layout":"rounded","data-auto-logout-link":"false","data-use-continue-as":"true","data-onlogin":"checkLoginState"},null,8,n)}const s={name:"componentsFacebook",props:["title","app_id","errors","version","redirect_to","verification","button_width"],data(){return{social_strategy:"facebook",access_token:""}},mounted(){this.includeFacebook(),window.checkLoginState=this.checkLoginState},methods:{includeFacebook(){null==window.fbAsyncInit?new Promise((t=>{window.fbAsyncInit=function(){t()};const e=window.document,i="facebook-script",o=e.createElement("script");o.id=i,o.setAttribute("src","https://connect.facebook.net/en_US/sdk.js"),e.head.appendChild(o)})).then((()=>{this.initFacebook()})):this.initFacebook()},initFacebook(){FB.init({appId:this.app_id,cookie:!0,xfbml:!0,version:this.version})},checkLoginState(){FB.getLoginStatus((t=>{"connected"===t.status?(this.access_token=t.authResponse.accessToken,this.fetchInformation()):this.attempLogin()}))},attempLogin(){FB.login((t=>{t.authResponse?(this.access_token=t.authResponse.accessToken,this.fetchInformation()):APIinterface.notify("negative",errors.user_cancelled,"error_outline",this.$q)}),{scope:"public_profile,email"})},fetchInformation(){FB.api("/me?fields=email,first_name,last_name",(t=>{var e={id:t.id,email_address:t.email,first_name:t.first_name,last_name:t.last_name,social_strategy:this.social_strategy,verification:this.verification,redirect_to:this.redirect_to,social_token:this.access_token};this.$emit("socialRegistration",e)}))}}};var c=i(2807);const r=(0,c.A)(s,[["render",a]]),d=r}}]);