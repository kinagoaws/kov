"use strict";(globalThis["webpackChunkcom_kinago_single"]=globalThis["webpackChunkcom_kinago_single"]||[]).push([[9901],{9901:(e,s,t)=>{t.r(s),t.d(s,{default:()=>P});var a=t(1758),d=t(8790);const l={class:"row justify-center q-pa-md"},n={class:"col-md-9 col-12"},i={class:"row"},o={key:0,class:"col-md-4 col-sm-4 col-xs-12"},r={class:"col-md-8 col-sm-8 col-xs-12"},c={class:"text-weight-bold q-mb-none"},g={key:0,class:"no-margin font12 text-weight-thin"},u={key:1,class:"no-margin font12 text-weight-thin"},h={class:"text-weight-medium"},k={class:"text-grey-8 q-gutter-xs"},m={key:1},b={class:"q-pa-md text-center"},_={class:"text-grey"},f={class:"q-pa-md"};function A(e,s,t,A,p,v){const y=(0,a.g2)("StickyBack"),$=(0,a.g2)("LocationNav"),S=(0,a.g2)("AccountNav"),w=(0,a.g2)("q-inner-loading"),q=(0,a.g2)("AddressesSkeleton"),C=(0,a.g2)("q-item-section"),F=(0,a.g2)("q-item"),x=(0,a.g2)("q-separator"),L=(0,a.g2)("q-space"),X=(0,a.g2)("q-item-label"),Q=(0,a.g2)("q-btn"),M=(0,a.g2)("q-list"),W=(0,a.g2)("q-card"),B=(0,a.g2)("AddressModal"),D=(0,a.g2)("AddressDetails"),E=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(E,{padding:""},{default:(0,a.k6)((()=>[v.isMobile?((0,a.uX)(),(0,a.Wv)(y,{key:0,url:"/account/menu",label:"Back"})):((0,a.uX)(),(0,a.Wv)($,{key:1})),(0,a.Lk)("div",l,[(0,a.Lk)("div",n,[(0,a.Lk)("div",i,[v.isMobile?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(S)])),(0,a.Lk)("div",r,[(0,a.bF)(W,{flat:"",class:"fit"},{default:(0,a.k6)((()=>[(0,a.bF)(w,{showing:p.loading_delete,color:"warning"},null,8,["showing"]),p.loading?((0,a.uX)(),(0,a.Wv)(q,{key:0})):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.bF)(F,null,{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.Lk)("h5",c,(0,d.v_)(e.$t("Addresses")),1),v.hasData?((0,a.uX)(),(0,a.CE)("p",g,(0,d.v_)(e.$t("Wow, man of many places :)")),1)):((0,a.uX)(),(0,a.CE)("p",u,(0,d.v_)(e.$t("No address, lets change that"))+"! ",1))])),_:1})])),_:1}),(0,a.bF)(x),(0,a.bF)(L,{class:"q-mt-lg"}),v.hasData?((0,a.uX)(),(0,a.Wv)(M,{key:0},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(p.data,((e,s)=>((0,a.uX)(),(0,a.Wv)(F,{key:e.address_uuid,class:"border-bottom",clickable:v.isMobile,onClick:s=>v.editAdddress(e)},{default:(0,a.k6)((()=>[(0,a.bF)(C,{top:""},{default:(0,a.k6)((()=>[(0,a.bF)(X,{lines:"1"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",h,(0,d.v_)(e.attributes.address_label),1)])),_:2},1024),(0,a.bF)(X,{caption:"",lines:"1"},{default:(0,a.k6)((()=>[(0,a.eW)((0,d.v_)(e.address.address1),1)])),_:2},1024),(0,a.bF)(X,{caption:"",lines:"1"},{default:(0,a.k6)((()=>[(0,a.eW)((0,d.v_)(e.address.formatted_address),1)])),_:2},1024)])),_:2},1024),(0,a.bF)(C,{top:"",side:""},{default:(0,a.k6)((()=>[(0,a.Lk)("div",k,[(0,a.bF)(Q,{onClick:t=>v.confirmdeleteAddress(e,s),class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"delete"},null,8,["onClick"]),(0,a.bF)(Q,{onClick:s=>v.editAdddress(e),class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"mode_edit"},null,8,["onClick"])])])),_:2},1024)])),_:2},1032,["clickable","onClick"])))),128))])),_:1})):((0,a.uX)(),(0,a.CE)("div",m,[(0,a.Lk)("div",b,[(0,a.Lk)("p",_,(0,d.v_)(e.$t("You don't have any address yet")),1)])])),(0,a.Lk)("div",f,[(0,a.bF)(Q,{unelevated:"",rounded:"",color:"warning","text-color":"black","no-caps":"",class:"full-width",label:e.$t("Add new address"),size:"17px",dense:e.$q.screen.lt.sm,loading:p.loading,onClick:s[0]||(s[0]=e=>this.$refs.address_modal.show_modal=!0)},null,8,["label","dense","loading"])])],64))])),_:1})])])])]),(0,a.bF)(B,{ref:"address_modal",onAfterSaveaddress:v.afterSaveaddress},null,8,["onAfterSaveaddress"]),(0,a.bF)(D,{ref:"address_details",locationdata:p.location_data,maps_config:p.maps_config,is_mobile:v.isMobile,onAfterSaveaddress:v.afterSaveaddress,onBeforeDelete:v.confirmdeleteAddress},null,8,["locationdata","maps_config","is_mobile","onAfterSaveaddress","onBeforeDelete"])])),_:1})}var p=t(2911),v=t(354),y=t(2302);const $={name:"Addresses",components:{LocationNav:(0,a.$V)((()=>Promise.all([t.e(4121),t.e(996),t.e(7691)]).then(t.bind(t,5897)))),AccountNav:(0,a.$V)((()=>t.e(996).then(t.bind(t,8275)))),AddressModal:(0,a.$V)((()=>Promise.all([t.e(4121),t.e(4315)]).then(t.bind(t,4315)))),AddressDetails:(0,a.$V)((()=>Promise.all([t.e(4121),t.e(996)]).then(t.bind(t,6936)))),AddressesSkeleton:(0,a.$V)((()=>Promise.all([t.e(4121),t.e(996)]).then(t.bind(t,2171)))),StickyBack:(0,a.$V)((()=>Promise.all([t.e(4121),t.e(996)]).then(t.bind(t,7763))))},setup(){const e=(0,y.C)();return{SettingsStore:e}},mounted(){Object.keys(this.SettingsStore.settings_data).length>0?this.getMapsconfig():this.$watch((()=>this.SettingsStore.$state.settings_data),((e,s)=>{this.getMapsconfig()})),this.getAddresses()},computed:{hasData(){return Object.keys(this.data).length>0},isMobile(){return!!this.$q.screen.lt.md}},data(){return{data:[],loading:!0,inner_loading:!1,maps_config:[],location_data:[],loading_delete:!1}},methods:{async getMapsconfig(){const e=await this.SettingsStore.getAsyncSettings();if(Object.keys(e).length>0)try{this.maps_config=(0,v.A)(e.maps_config)}catch(e){console.log(e)}},getAddresses(){this.loading=!0,p.A.getAddresses().then((e=>{this.data=e.details.data})).catch((e=>{this.data=[]})).then((e=>{this.loading=!1}))},confirmdeleteAddress(e,s){this.$q.dialog({title:this.$t("Confirm"),message:this.$t("Are you sure you want to continue?"),stackButtons:!1,ok:{unelevated:!0,rounded:!0,color:"warning","text-color":"black",size:"md",label:this.$t("Yes"),"no-caps":!0},cancel:{unelevated:!0,rounded:!0,color:"grey-3","text-color":"black",size:"md",label:this.$t("Cancel"),"no-caps":!0}}).onOk((t=>{this.$refs.address_details.show_modal=!1,this.deleteAddress(e,s)}))},deleteAddress(e,s){this.loading_delete=!0,p.A.deleteAddress(e.address_uuid).then((e=>{this.data.splice(s,1)})).catch((e=>{p.A.notify("negative",e,"error_outline",this.$q)})).then((e=>{this.loading_delete=!1}))},editAdddress(e){this.location_data=e,this.$refs.address_details.show_modal=!0},afterSaveaddress(){this.getAddresses()}}};var S=t(2807),w=t(7716),q=t(3316),C=t(9035),F=t(124),x=t(5173),L=t(386),X=t(3676),Q=t(3999),M=t(3796),W=t(6384),B=t(8582),D=t.n(B);const E=(0,S.A)($,[["render",A]]),P=E;D()($,"components",{QPage:w.A,QCard:q.A,QInnerLoading:C.A,QItem:F.A,QItemSection:x.A,QSeparator:L.A,QSpace:X.A,QList:Q.A,QItemLabel:M.A,QBtn:W.A})}}]);