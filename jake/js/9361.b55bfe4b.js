"use strict";(globalThis["webpackChunkcom_kinago_single"]=globalThis["webpackChunkcom_kinago_single"]||[]).push([[9361],{1742:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Re});var s=i(1758),a=i(8790);const l={class:"row justify-center q-pa-md"},n={class:"col-md-9 col-12"},o={class:"row q-col-gutter-md"},d={id:"menu",class:"col-md-4 col-sm-4 col-xs-12"},c={class:"float-right q-mb-xs"},u=["innerHTML"],r=["innerHTML"],_={key:0,class:"q-gutter-x-xs q-mb-md"},m=["src"],h={class:"no-margin font12 text-weight-bold"},p={class:"no-margin font12 text-weight-bold"},g={key:1,class:"row items-center justify-center"},b={class:"col-sm-6 col-8 no-padding"},k={class:"text-h5 no-margin text-weight-bold"},v={class:"col-sm-6 col-4"},f={class:"row items-center justify-center"},y={class:"col no-padding text-center"},q={class:"col no-padding text-center"},x={class:"col no-padding text-center"},F={key:2,class:"q-mt-md q-mb-md"},C={class:"col-md-8 col-sm-8 col-xs-12"},w={class:"text-weight-bold"},z={key:0,class:"row justify-between q-pa-sm bg-grey-1 q-mt-md"},E={class:"col"},L={class:"text-weight-bold q-ma-none"},X={class:"col text-right"},A={key:0,class:"bg-yellow-11 q-pa-xs rounded-borders"},$={key:1,class:"font12"},S={key:1,class:"text-weight-bold"},V={class:"text-weight-bold q-mb-none q-mb-xs"},I={class:"row justify-between bg-grey-1 q-pa-sm"},Q={key:0,class:"col no-margin q-pr-sm font12"},W={key:1,class:"col no-margin q-pr-sm font12"},j={key:2,class:"col no-margin q-pr-sm font12"},K={key:3,class:"col no-margin font12 text-right"},O={class:"bg-yellow-11 q-pa-xs rounded-borders"},U={key:4,class:"col no-margin font12 text-right"},P={key:0,class:"row items-center justify-center",style:{"max-width":"100px"}},T={class:"col no-padding text-center"},M={class:"col no-padding text-center"},R={class:"col no-padding text-center"},D={key:1},N={key:1,class:"row q-gutter-none addon-carousel q-mt-md q-col-gutter-sm"},H={key:1},B={class:"font12 q-mt-sm q-mb-none col ellipsis-2-lines line-height-normal q-pb-sm"},G={class:"font12 no-margin col q-mt-sm"},J={key:3,class:"col-auto w-75 q-mt-xs"},Y={key:0,class:"row items-center justify-center"},Z={class:"col no-padding text-center"},ee={class:"col no-padding text-center"},te={class:"col no-padding text-center"},ie={key:1},se={key:0,class:"q-pa-md"},ae={class:"row items-center justify-center"},le={class:"col-sm-6 col-xs-6 no-padding"},ne={class:"text-h5 no-margin text-weight-bold"},oe={class:"col-sm-6 col-xs-6"},de={class:"row items-center justify-center"},ce={class:"col no-padding text-center"},ue={class:"col no-padding text-center"},re={class:"col no-padding text-center"},_e={class:"q-mt-md q-mb-md"};function me(e,t,i,me,he,pe){const ge=(0,s.g2)("q-btn"),be=(0,s.g2)("q-toolbar"),ke=(0,s.g2)("q-page-sticky"),ve=(0,s.g2)("ProductSkeletonLeft"),fe=(0,s.g2)("Favs"),ye=(0,s.g2)("q-img"),qe=(0,s.g2)("q-avatar"),xe=(0,s.g2)("q-input"),Fe=(0,s.g2)("q-select"),Ce=(0,s.g2)("ProductSkeletonRight"),we=(0,s.g2)("q-option-group"),ze=(0,s.g2)("q-radio"),Ee=(0,s.g2)("q-item-section"),Le=(0,s.g2)("q-item-label"),Xe=(0,s.g2)("q-checkbox"),Ae=(0,s.g2)("q-item"),$e=(0,s.g2)("q-list"),Se=(0,s.g2)("q-card"),Ve=(0,s.g2)("q-card-section"),Ie=(0,s.g2)("q-separator"),Qe=(0,s.g2)("SimilarItems"),We=(0,s.g2)("q-page"),je=(0,s.gN)("ripple");return(0,s.uX)(),(0,s.Wv)(We,{padding:""},{default:(0,s.k6)((()=>[(0,s.bF)(ke,{expand:"",position:"top"},{default:(0,s.k6)((()=>[(0,s.bF)(be,{class:"bg-white"},{default:(0,s.k6)((()=>[(0,s.bF)(ge,{dense:"",flat:"",color:"dark",icon:"arrow_back_ios",to:"/menu","no-caps":"",label:e.$t("Back to menu")},null,8,["label"])])),_:1})])),_:1}),t[12]||(t[12]=(0,s.Lk)("div",{class:"q-pa-sm"},null,-1)),(0,s.Lk)("div",l,[(0,s.Lk)("div",n,[(0,s.Lk)("div",o,[(0,s.Lk)("div",d,[he.loading?((0,s.uX)(),(0,s.Wv)(ve,{key:0})):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.Lk)("div",c,[(0,s.bF)(fe,{ref:"favs",item_token:he.items.item_token,cat_id:he.items.cat_id,active:he.items.save_item,onAfterSavefav:t[0]||(t[0]=e=>pe.afterSavefav(he.items))},null,8,["item_token","cat_id","active"])]),(0,s.bF)(ye,{fit:"contain",src:he.items.url_image,class:"no-margin",height:"170px"},null,8,["src"]),(0,s.Lk)("h5",{class:"text-weight-bold q-pt-sm q-pb-sm",innerHTML:he.items.item_name},null,8,u),(0,s.Lk)("div",{class:"font12 text-weight-thin ellipsis-3-lines q-mb-sm",style:{"max-height":"56px"},innerHTML:he.items.item_description},null,8,r),he.meta.dish?((0,s.uX)(),(0,s.CE)("div",_,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(he.meta.dish,(e=>((0,s.uX)(),(0,s.CE)(s.FK,{key:e},[he.dish[e]?((0,s.uX)(),(0,s.Wv)(qe,{key:0,size:"md",style:{border:"2px solid white"},class:"bg-yellow-9"},{default:(0,s.k6)((()=>[(0,s.Lk)("img",{src:he.dish[e].url_image},null,8,m)])),_:2},1024)):(0,s.Q3)("",!0)],64)))),128))])):(0,s.Q3)("",!0),(0,s.Lk)("p",h,(0,a.v_)(e.$t("Special Instructions")),1),(0,s.bF)(xe,{modelValue:he.special_instructions,"onUpdate:modelValue":t[1]||(t[1]=e=>he.special_instructions=e),autogrow:"",outlined:"",class:"q-mb-md full-width",color:"warning"},null,8,["modelValue"]),(0,s.Lk)("p",p,(0,a.v_)(e.$t("If sold out")),1),(0,s.bF)(Fe,{outlined:"",dense:"",modelValue:he.if_sold_out,"onUpdate:modelValue":t[2]||(t[2]=e=>he.if_sold_out=e),options:he.sold_out_options,color:"warning",class:"q-mb-md","transition-show":"scale","transition-hide":"scale"},null,8,["modelValue","options"]),e.$q.screen.gt.sm?((0,s.uX)(),(0,s.CE)("div",g,[(0,s.Lk)("div",b,[(0,s.Lk)("div",k,(0,a.v_)(he.item_total),1)]),(0,s.Lk)("div",v,[(0,s.Lk)("div",f,[(0,s.Lk)("div",y,[(0,s.bF)(ge,{onClick:t[3]||(t[3]=e=>he.item_qty>1?he.item_qty--:1),round:"",unelevated:"",dense:"",size:"11px",color:"warning",icon:"remove"})]),(0,s.Lk)("div",q,(0,a.v_)(he.item_qty),1),(0,s.Lk)("div",x,[(0,s.bF)(ge,{onClick:t[4]||(t[4]=e=>he.item_qty++),round:"",unelevated:"",dense:"",size:"11px",color:"warning",icon:"add"})])])])])):(0,s.Q3)("",!0),e.$q.screen.gt.sm?((0,s.uX)(),(0,s.CE)("div",F,[!he.loading&&he.items.not_for_sale?((0,s.uX)(),(0,s.Wv)(ge,{key:0,unelevated:"",rounded:"",color:"warning","text-color":"black","no-caps":"",class:"full-width",disable:!0,label:"Not for sale",dense:e.$q.screen.lt.sm},null,8,["dense"])):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[pe.itemAvailable(he.items.item_id,he.items.cat_id)?((0,s.uX)(),(0,s.Wv)(ge,{key:0,unelevated:"",rounded:"",color:"warning","text-color":"black","no-caps":"",class:"full-width",disable:he.disabled_cart,label:e.$t("Add to cart"),dense:e.$q.screen.lt.sm,onClick:t[5]||(t[5]=e=>pe.AddToCart()),loading:he.loading_add},null,8,["disable","label","dense","loading"])):((0,s.uX)(),(0,s.Wv)(ge,{key:1,unelevated:"",rounded:"",color:"warning","text-color":"black","no-caps":"",class:"full-width",disable:!0,label:e.$t("Not available"),dense:e.$q.screen.lt.sm},null,8,["label","dense"]))],64))])):(0,s.Q3)("",!0)],64))]),(0,s.Lk)("div",C,[(0,s.bF)(Se,{flat:"",class:"fit"},{default:(0,s.k6)((()=>[(0,s.bF)(Ve,null,{default:(0,s.k6)((()=>[he.loading?((0,s.uX)(),(0,s.Wv)(Ce,{key:0})):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.Lk)("h5",w,(0,a.v_)(e.$t("Customize your Order")),1),(0,s.bF)(we,{modelValue:he.item_size_id,"onUpdate:modelValue":t[6]||(t[6]=e=>he.item_size_id=e),options:he.size_data,color:"warning",inline:""},null,8,["modelValue","options"]),he.cooking_data.length>0?((0,s.uX)(),(0,s.CE)("div",z,[(0,s.Lk)("div",E,[(0,s.Lk)("h5",L,(0,a.v_)(e.$t("Cooking Reference")),1)]),(0,s.Lk)("div",X,[he.items.cooking_ref_required?((0,s.uX)(),(0,s.CE)("span",A,(0,a.v_)(e.$t("Required")),1)):((0,s.uX)(),(0,s.CE)("span",$,"("+(0,a.v_)(e.$t("Optional"))+")",1))])])):(0,s.Q3)("",!0),(0,s.bF)(we,{modelValue:he.cooking_ref,"onUpdate:modelValue":t[7]||(t[7]=e=>he.cooking_ref=e),options:he.cooking_data,color:"warning",inline:""},null,8,["modelValue","options"]),he.ingredients_data.length>0?((0,s.uX)(),(0,s.CE)("h5",S,(0,a.v_)(e.$t("Ingredients")),1)):(0,s.Q3)("",!0),(0,s.bF)(we,{modelValue:he.ingredients,"onUpdate:modelValue":t[8]||(t[8]=e=>he.ingredients=e),options:he.ingredients_data,color:"warning",inline:"",type:"checkbox"},null,8,["modelValue","options"]),he.addons[he.item_size_id]?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:2},(0,s.pI)(he.addons[he.item_size_id],(t=>((0,s.uX)(),(0,s.CE)(s.FK,{key:t.subcat_id},[(0,s.Lk)("h5",V,(0,a.v_)(t.subcategory_name),1),(0,s.Lk)("div",I,["one"===t.multi_option?((0,s.uX)(),(0,s.CE)("p",Q,(0,a.v_)(e.$t("Select 1")),1)):"multiple"===t.multi_option?((0,s.uX)(),(0,s.CE)("p",W,[t.multi_option_min>0?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.eW)((0,a.v_)(e.$t("Select minimum {min} to maximum {max}",{min:t.multi_option_min,max:t.multi_option_value})),1)],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)((0,a.v_)(e.$t("Choose up to {count}",{count:t.multi_option_value})),1)],64))])):"custom"===t.multi_option?((0,s.uX)(),(0,s.CE)("p",j,[t.multi_option_min>0?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.eW)((0,a.v_)(e.$t("Select minimum {min} to maximum {max}",{min:t.multi_option_min,max:t.multi_option_value})),1)],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)((0,a.v_)(e.$t("Choose up to {count}",{count:t.multi_option_value})),1)],64))])):(0,s.Q3)("",!0),1==t.require_addon?((0,s.uX)(),(0,s.CE)("p",K,[(0,s.Lk)("span",O,(0,a.v_)(e.$t("Required")),1)])):((0,s.uX)(),(0,s.CE)("p",U," ("+(0,a.v_)(e.$t("Optional"))+") ",1))]),me.SettingsStore.addons_use_checkbox?((0,s.uX)(),(0,s.Wv)($e,{key:0},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.sub_items,(e=>(0,s.bo)(((0,s.uX)(),(0,s.Wv)(Ae,{key:e.sub_item_id,tag:"label"},{default:(0,s.k6)((()=>["one"===t.multi_option?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.bF)(Ee,{avatar:""},{default:(0,s.k6)((()=>[(0,s.bF)(ze,{modelValue:t.sub_items_checked,"onUpdate:modelValue":e=>t.sub_items_checked=e,val:e.sub_item_id,color:"warning"},null,8,["modelValue","onUpdate:modelValue","val"])])),_:2},1024),(0,s.bF)(Ee,null,{default:(0,s.k6)((()=>[(0,s.bF)(Le,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(e.sub_item_name),1)])),_:2},1024)])),_:2},1024),(0,s.bF)(Ee,{side:""},{default:(0,s.k6)((()=>[(0,s.bF)(Le,{caption:""},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(e.pretty_price),1)])),_:2},1024)])),_:2},1024)],64)):"custom"===t.multi_option?((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.bF)(Ee,{avatar:""},{default:(0,s.k6)((()=>[(0,s.bF)(Xe,{modelValue:e.checked,"onUpdate:modelValue":t=>e.checked=t,val:e.sub_item_id,label:"",disable:e.disabled,color:"warning"},null,8,["modelValue","onUpdate:modelValue","val","disable"])])),_:2},1024),(0,s.bF)(Ee,null,{default:(0,s.k6)((()=>[(0,s.bF)(Le,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(e.sub_item_name),1)])),_:2},1024)])),_:2},1024),(0,s.bF)(Ee,{side:""},{default:(0,s.k6)((()=>[(0,s.bF)(Le,{caption:""},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(e.pretty_price),1)])),_:2},1024)])),_:2},1024)],64)):"multiple"===t.multi_option?((0,s.uX)(),(0,s.CE)(s.FK,{key:2},[(0,s.bF)(Ee,{side:!e.checked},{default:(0,s.k6)((()=>[1==e.checked?((0,s.uX)(),(0,s.CE)("div",P,[(0,s.Lk)("div",T,[(0,s.bF)(ge,{onClick:t=>e.qty>1?e.qty--:e.checked=!1,round:"",unelevated:"",dense:"",size:"11px",color:"warning",icon:"remove"},null,8,["onClick"])]),(0,s.Lk)("div",M,(0,a.v_)(e.qty),1),(0,s.Lk)("div",R,[(0,s.bF)(ge,{onClick:t=>e.qty++,round:"",unelevated:"",dense:"",size:"11px",color:"warning",icon:"add",disabled:e.disabled},null,8,["onClick","disabled"])])])):((0,s.uX)(),(0,s.CE)("div",D,[(0,s.bF)(ge,{onClick:t=>e.checked=!0,round:"",unelevated:"",dense:"",size:"11px",color:"grey-4",icon:"add",disabled:e.disabled},null,8,["onClick","disabled"])]))])),_:2},1032,["side"]),(0,s.bF)(Ee,null,{default:(0,s.k6)((()=>[(0,s.bF)(Le,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(e.sub_item_name),1)])),_:2},1024)])),_:2},1024),(0,s.bF)(Ee,{side:""},{default:(0,s.k6)((()=>[(0,s.bF)(Le,{caption:""},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(e.pretty_price),1)])),_:2},1024)])),_:2},1024)],64)):(0,s.Q3)("",!0)])),_:2},1024)),[[je]]))),128))])),_:2},1024)):((0,s.uX)(),(0,s.CE)("div",N,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.sub_items,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.sub_item_id,class:"col-lg-3 col-md-3 col-sm-6 col-xs-6 text-center"},[(0,s.bF)(Se,{flat:"",class:"column items-center full-height"},{default:(0,s.k6)((()=>["one"===t.multi_option?((0,s.uX)(),(0,s.Wv)(ze,{key:0,modelValue:t.sub_items_checked,"onUpdate:modelValue":e=>t.sub_items_checked=e,val:e.sub_item_id,label:""},{default:(0,s.k6)((()=>[(0,s.bF)(qe,{size:"80px",square:"",class:"col self-center"},{default:(0,s.k6)((()=>[(0,s.bF)(ye,{fit:"contain",src:e.hasimage?e.url_image:"default-addon.png",class:"no-margin",height:"80px",loading:"lazy"},null,8,["src"])])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue","val"])):"multiple"===t.multi_option?((0,s.uX)(),(0,s.CE)("div",H,[(0,s.bF)(qe,{size:"80px",square:"",class:"col self-center"},{default:(0,s.k6)((()=>[(0,s.bF)(ye,{fit:"contain",src:e.url_image,class:"no-margin",height:"80px",loading:"lazy"},null,8,["src"])])),_:2},1024)])):"custom"===t.multi_option?((0,s.uX)(),(0,s.Wv)(Xe,{key:2,modelValue:e.checked,"onUpdate:modelValue":t=>e.checked=t,val:e.sub_item_id,label:"",disable:e.disabled},{default:(0,s.k6)((()=>[(0,s.bF)(qe,{size:"80px",square:"",class:"col self-center"},{default:(0,s.k6)((()=>[(0,s.bF)(ye,{fit:"contain",src:e.url_image,class:"no-margin",height:"80px",loading:"lazy"},null,8,["src"])])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue","val","disable"])):(0,s.Q3)("",!0),(0,s.Lk)("p",B,(0,a.v_)(e.sub_item_name),1),(0,s.Lk)("p",G,(0,a.v_)(e.pretty_price),1),"multiple"===t.multi_option?((0,s.uX)(),(0,s.CE)("div",J,[1==e.checked?((0,s.uX)(),(0,s.CE)("div",Y,[(0,s.Lk)("div",Z,[(0,s.bF)(ge,{onClick:t=>e.qty>1?e.qty--:e.checked=!1,round:"",unelevated:"",dense:"",size:"11px",color:"warning",icon:"remove"},null,8,["onClick"])]),(0,s.Lk)("div",ee,(0,a.v_)(e.qty),1),(0,s.Lk)("div",te,[(0,s.bF)(ge,{onClick:t=>e.qty++,round:"",unelevated:"",dense:"",size:"11px",color:"warning",icon:"add"},null,8,["onClick"])])])):((0,s.uX)(),(0,s.CE)("div",ie,[(0,s.bF)(ge,{onClick:t=>e.checked=!0,round:"",unelevated:"",dense:"",size:"11px",color:"grey-4",icon:"add"},null,8,["onClick"])]))])):(0,s.Q3)("",!0)])),_:2},1024)])))),128))]))],64)))),128)):(0,s.Q3)("",!0)],64))])),_:1})])),_:1})])]),e.$q.screen.lt.sm?((0,s.uX)(),(0,s.CE)("div",se,[(0,s.Lk)("div",ae,[(0,s.Lk)("div",le,[(0,s.Lk)("div",ne,(0,a.v_)(he.item_total),1)]),(0,s.Lk)("div",oe,[(0,s.Lk)("div",de,[(0,s.Lk)("div",ce,[(0,s.bF)(ge,{onClick:t[9]||(t[9]=e=>he.item_qty>1?he.item_qty--:1),round:"",unelevated:"",dense:"",color:"warning",icon:"remove",size:"lg"})]),(0,s.Lk)("div",ue,(0,a.v_)(he.item_qty),1),(0,s.Lk)("div",re,[(0,s.bF)(ge,{onClick:t[10]||(t[10]=e=>he.item_qty++),round:"",unelevated:"",dense:"",color:"warning",icon:"add",size:"lg"})])])])]),(0,s.Lk)("div",_e,[!he.loading&&he.items.not_for_sale?((0,s.uX)(),(0,s.Wv)(ge,{key:0,unelevated:"",rounded:"",color:"warning","text-color":"black","no-caps":"",class:"full-width",disable:!0,label:"Not for sale",dense:e.$q.screen.lt.sm},null,8,["dense"])):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[pe.itemAvailable(he.items.item_id,he.items.cat_id)?((0,s.uX)(),(0,s.Wv)(ge,{key:0,unelevated:"",rounded:"",color:"warning","text-color":"black","no-caps":"",class:"full-width",disable:he.disabled_cart,label:e.$t("Add to cart"),onClick:t[11]||(t[11]=e=>pe.AddToCart()),loading:he.loading_add,dense:e.$q.screen.lt.sm,size:"lg"},null,8,["disable","label","loading","dense"])):((0,s.uX)(),(0,s.Wv)(ge,{key:1,unelevated:"",rounded:"",color:"warning","text-color":"black","no-caps":"",class:"full-width",disable:!0,label:e.$t("Not available"),dense:e.$q.screen.lt.sm},null,8,["label","dense"]))],64))]),(0,s.bF)(Ie)])):(0,s.Q3)("",!0),(0,s.bF)(Qe,{class:"q-mt-lg",ref:"similar_items",title:e.$t("More similar items"),bg:"bg-mygrey",change_currency:me.transactionStore.change_currency},null,8,["title","change_currency"])])])])),_:1})}i(7781),i(9526);var he=i(2911),pe=i(1095),ge=i(2302),be=i(4675),ke=i(2532),ve=i(1464);const fe=function(e){return"undefined"===typeof e||null===e||""===e||"null"===e||"undefined"===e},ye={name:"Product",components:{SimilarItems:(0,s.$V)((()=>Promise.all([i.e(4121),i.e(3045)]).then(i.bind(i,3045)))),Favs:(0,s.$V)((()=>i.e(3405).then(i.bind(i,3405)))),ProductSkeletonLeft:(0,s.$V)((()=>Promise.all([i.e(4121),i.e(1298)]).then(i.bind(i,1298)))),ProductSkeletonRight:(0,s.$V)((()=>Promise.all([i.e(4121),i.e(9877)]).then(i.bind(i,9877))))},setup(){const e=(0,ge.C)(),t=(0,be.g)(),i=(0,ke.t)(),s=(0,ve.Q)();return{SettingsStore:e,schedStore:t,transactionStore:i,DataStorePersisted:s}},data(){return{loading:!1,loading_add:!1,item_qty:1,items:[],item_size_id:0,size_data:[],size_datas:[],cooking_ref:0,cooking_data:[],ingredients:[],ingredients_data:[],addons:{},special_instructions:"",transaction_type:"",if_sold_out:"",sold_out_options:[],item_total:0,disabled_cart:!0,slide_items:0,favorites:[],config:[],meta:[],items_not_available:[],category_not_available:[],dish:[]}},mounted(){this.getMenuItem();try{he.A.getLocalID()}catch(e){}},updated(){this.getMenuItem()},watch:{transactionStore:{immediate:!0,deep:!0,handler(e,t){he.A.empty(e.change_currency)||this.getMenuItem()}},addons:{handler(e,t){this.ItemSummary()},deep:!0},item_size_id(){this.ItemSummary()},cooking_ref(){this.ItemSummary()},ingredients(){this.ItemSummary()},item_qty(){this.ItemSummary()}},methods:{itemAvailable(e,t){return!1===this.items_not_available.includes(e)&&!1===this.category_not_available.includes(t)},resetData(){this.item_qty=1,this.items=[],this.item_size_id=0,this.size_data=[],this.size_datas=[],this.cooking_ref=0,this.cooking_data=[],this.ingredients=[],this.ingredients_data=[],this.addons={},this.special_instructions="",this.transaction_type="",this.if_sold_out="",this.sold_out_options=[],this.item_total=0,this.disabled_cart=!0,this.slide_items=0},getMenuItem(){this.resetData(),this.loading=!0,he.A.getMenuItem(this.$route.params.cat_id,this.$route.params.item_uuid,this.DataStorePersisted.getUseCurrency()).then((e=>{this.item_qty=1,this.items=[],this.item_size_id=0,this.size_data=[],this.size_datas=[],this.cooking_ref=0,this.cooking_data=[],this.ingredients=[],this.ingredients_data=[],this.addons={},this.special_instructions="",this.transaction_type="",this.if_sold_out="",this.sold_out_options=[],this.item_total=0,this.disabled_cart=!0,this.slide_items=0,this.config=e.details.config,this.items=e.details.data.items,this.meta=e.details.data.meta,this.size_datas=e.details.data.items.price,this.dish=e.details.data.dish;const t=e.details.sold_out_options;this.if_sold_out=e.details.default_sold_out_options,this.items_not_available=e.details.data.items_not_available,this.category_not_available=e.details.data.category_not_available;const i=e.details.data.items.price,s=e.details.data.meta?e.details.data.meta.cooking_ref:{},a=e.details.data.meta?e.details.data.meta_details.cooking_ref:{},l=e.details.data.meta?e.details.data.meta.ingredients:{},n=e.details.data.meta?e.details.data.meta_details.ingredients:{},o=e.details.data?e.details.data.addons:{},d=e.details.data?e.details.data.addon_items:{};Object.keys(t).length>0&&Object.entries(t).forEach((([e,t])=>{this.sold_out_options.push({label:t,value:e})})),Object.keys(i).length>0&&(Object.entries(i).forEach((([e,t])=>{t.discount<=0?this.size_data.push({label:t.size_name+" "+t.pretty_price,value:parseInt(t.item_size_id)}):this.size_data.push({label:t.size_name+" "+t.pretty_price_after_discount,value:parseInt(t.item_size_id)})})),this.item_size_id=parseInt(Object.keys(i)[0])),"undefined"!==typeof s&&null!==s&&s.length>0&&Object.entries(s).forEach((([e,t])=>{this.cooking_data.push({label:a[t].meta_name,value:a[t].meta_id})})),"undefined"!==typeof l&&null!==l&&l.length>0&&Object.entries(l).forEach((([e,t])=>{this.ingredients_data.push({label:n[t].meta_name,value:n[t].meta_id}),this.items.ingredients_preselected&&this.ingredients.push(n[t].meta_id)})),Object.keys(this.items.item_addons).length>0&&Object.entries(this.items.item_addons).forEach((([e,t])=>{const i=[];Object.entries(t).forEach((([t,s])=>{if(!he.A.empty(o[e])&&!he.A.empty(o[e][s])){const t=o[e][s],a=[];Object.entries(t.sub_items).forEach((([e,t])=>{if(d[t]){const e=d[t];d[t].checked=!1,d[t].disabled=!1,d[t].qty=1,a.push(e)}}));const l={subcat_id:t.subcat_id,subcategory_name:t.subcategory_name,subcategory_description:t.subcategory_description,multi_option:t.multi_option,multi_option_min:t.multi_option_min,multi_option_value:t.multi_option_value,require_addon:t.require_addon,pre_selected:t.pre_selected,sub_items_checked:"",sub_items:a};i.push(l)}})),this.addons[e]=i}))})).catch((e=>{console.debug(e)})).then((e=>{this.loading=!1}))},ItemSummary(){let e=0;const t=[],i=[];let s=[],a=[];if(!fe(this.size_datas[this.item_size_id])){const t=this.size_datas[this.item_size_id];t.discount>0?e+=this.item_qty*parseFloat(t.price_after_discount):e+=this.item_qty*parseFloat(t.price)}fe(this.addons[this.item_size_id])||this.addons[this.item_size_id].forEach(((l,n)=>{if("1"===l.require_addon&&t.push(l.subcat_id),"custom"===l.multi_option){let t=0;const n=l.multi_option_value;let o=l.multi_option_min;n>0&&s.push({subcat_id:l.subcat_id,min:o,max:n});const d=[],c=[];l.sub_items.forEach(((s,a)=>{!0===s.checked?(t++,e+=this.item_qty*parseFloat(s.price),i.push(l.subcat_id)):d.push(a),!0===s.disabled&&c.push(a)})),a[l.subcat_id]={total:t},t>=n?d.forEach(((e,t)=>{l.sub_items[e].disabled=!0})):c.forEach(((e,t)=>{l.sub_items[e].disabled=!1}))}else if("one"===l.multi_option)l.sub_items.forEach(((t,s)=>{t.sub_item_id===l.sub_items_checked&&(e+=this.item_qty*parseFloat(t.price),i.push(l.subcat_id))}));else if("multiple"===l.multi_option){var o=[];let t=l.multi_option_min;var d=l.multi_option_value,c=0;d>0&&s.push({subcat_id:l.subcat_id,min:t,max:d}),l.sub_items.forEach(((t,s)=>{!0===t.checked&&(e+=t.qty*parseFloat(t.price),i.push(l.subcat_id),c+=t.qty),o.push(s)})),a[l.subcat_id]={total:c},this.addons[this.item_size_id][n].qty_selected=c,this.addons[this.item_size_id][n].qty_selected>=d?o.forEach(((e,t)=>{this.addons[this.item_size_id][n].sub_items[e].disabled=!0})):o.forEach(((e,t)=>{this.addons[this.item_size_id][n].sub_items[e].disabled=!1}))}})),e>0&&(this.item_total=(0,pe.GP)(e,this.config));let l=!0;if(t.length>0&&t.forEach(((e,t)=>{if(!1===i.includes(e))return l=!1,!1})),this.items.cooking_ref_required){let e=!1;this.cooking_ref>0&&(e=!0),e||(l=!1)}if(Object.keys(s).length>0){let e,t;Object.entries(s).forEach((([i,s])=>{e=parseInt(s.min),a[s.subcat_id]&&(t=parseInt(a[s.subcat_id].total)),t>0&&e>t&&(l=!1)}))}this.disabled_cart=!l},AddToCart(){const e=[];this.ingredients.length>0&&this.ingredients.forEach(((t,i)=>{e.push({meta_id:t,checked:!0,meta_name:""})}));const t={cooking_ref:[{meta_id:this.cooking_ref,checked:this.cooking_ref,meta_name:""}],ingredients:e},i=he.A.getStorage("cart_uuid"),s={cart_uuid:i,cat_id:this.$route.params.cat_id,item_size_id:this.item_size_id,item_token:this.$route.params.item_uuid,item_qty:this.item_qty,special_instructions:this.special_instructions,if_sold_out:this.if_sold_out.value,transaction_type:this.schedStore.transaction_type,meta:t,item_addons:fe(this.addons[this.item_size_id])?[]:this.addons[this.item_size_id]};this.loading_add=!0,he.A.AddToCart(s).then((e=>{fe(i)&&he.A.setStorage("cart_uuid",e.details.cart_uuid),this.$router.push({name:"menu",params:{addcart:!0}})})).catch((e=>{he.A.notify("negative",e,"error_outline",this.$q)})).then((e=>{this.loading_add=!1}))},afterSavefav(e){e.save_item=!e.save_item}}};var qe=i(2807),xe=i(7716),Fe=i(8783),Ce=i(6914),we=i(6384),ze=i(2665),Ee=i(3952),Le=i(9270),Xe=i(2606),Ae=i(3316),$e=i(4189),Se=i(1003),Ve=i(3999),Ie=i(124),Qe=i(5173),We=i(7878),je=i(3796),Ke=i(460),Oe=i(386),Ue=i(9626),Pe=i(8582),Te=i.n(Pe);const Me=(0,qe.A)(ye,[["render",me]]),Re=Me;Te()(ye,"components",{QPage:xe.A,QPageSticky:Fe.A,QToolbar:Ce.A,QBtn:we.A,QImg:ze.A,QAvatar:Ee.A,QInput:Le.A,QSelect:Xe.A,QCard:Ae.A,QCardSection:$e.A,QOptionGroup:Se.A,QList:Ve.A,QItem:Ie.A,QItemSection:Qe.A,QRadio:We.A,QItemLabel:je.A,QCheckbox:Ke.A,QSeparator:Oe.A}),Te()(ye,"directives",{Ripple:Ue.A})}}]);