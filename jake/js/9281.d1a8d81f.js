"use strict";(globalThis["webpackChunkcom_kinago_single"]=globalThis["webpackChunkcom_kinago_single"]||[]).push([[9281],{9281:(e,t,i)=>{i.r(t),i.d(t,{default:()=>$e});var a=i(1758),s=i(8790);const l={class:"relative-position"},o={class:"q-pa-sm absolute-top-right"},n={class:"q-pa-sm absolute-bottom-right"},d=["innerHTML"],c=["innerHTML"],u={key:0,class:"q-mt-md"},r={class:"q-mt-sm"},_={class:"text-h6"},m={key:1,class:"row justify-between q-pa-sm bg-grey-1 q-mt-md"},h={class:"col"},p={class:"text-weight-bold q-ma-none"},g={class:"col text-right"},b={key:0,class:"bg-yellow-11 q-pa-xs rounded-borders"},k={key:1,class:"font12"},f={key:2,class:"text-weight-bold"},v={class:"text-weight-bold q-mb-none q-mb-xs"},y={class:"row justify-between bg-grey-1 q-pa-sm"},q={key:0,class:"col no-margin q-pr-sm font12"},F={key:1,class:"col no-margin q-pr-sm font12"},x={key:2,class:"col no-margin q-pr-sm font12"},C={key:3,class:"col no-margin font12 text-right"},w={class:"bg-yellow-11 q-pa-xs rounded-borders"},z={key:4,class:"col no-margin font12 text-right"},E={key:0,class:"row items-center justify-center",style:{"max-width":"100px"}},A={class:"col no-padding text-center"},L={class:"col no-padding text-center"},X={class:"col no-padding text-center"},V={key:1},S={key:1,class:"row q-gutter-none addon-carousel q-mt-md q-col-gutter-sm"},I={key:1},Q={class:"font12 q-mt-sm q-mb-none col ellipsis-2-lines line-height-normal q-pb-sm"},$={class:"font12 no-margin col q-mt-sm"},j={key:3,class:"col-auto w-75 q-mt-xs"},W={key:0,class:"row items-center justify-center"},O={class:"col no-padding text-center"},K={class:"col no-padding text-center"},U={class:"col no-padding text-center"},T={key:1},D={class:"q-mt-md"},H={class:"no-margin font12 text-weight-bold"},M={class:"q-mt-md"},G={class:"no-margin font12 text-weight-bold"},P={class:"row items-center justify-center full-width"},B={class:"col-sm-4 col-4 no-padding"},N={class:"row items-center justify-center q-mr-sm"},R={class:"col no-padding text-center"},J={class:"col no-padding text-center"},Y={class:"col no-padding text-center"},Z={class:"col-sm-8 col-8"},ee={class:"row justify-between full-width"},te={class:"q-pl-lg"},ie={class:"q-pr-sm"};function ae(e,t,i,ae,se,le){const oe=(0,a.g2)("q-inner-loading"),ne=(0,a.g2)("q-card-section"),de=(0,a.g2)("q-img"),ce=(0,a.g2)("q-btn"),ue=(0,a.g2)("Favs"),re=(0,a.g2)("ItemGallery"),_e=(0,a.g2)("q-option-group"),me=(0,a.g2)("q-radio"),he=(0,a.g2)("q-item-section"),pe=(0,a.g2)("q-item-label"),ge=(0,a.g2)("q-checkbox"),be=(0,a.g2)("q-item"),ke=(0,a.g2)("q-list"),fe=(0,a.g2)("q-avatar"),ve=(0,a.g2)("q-card"),ye=(0,a.g2)("q-input"),qe=(0,a.g2)("q-select"),Fe=(0,a.g2)("q-separator"),xe=(0,a.g2)("q-card-actions"),Ce=(0,a.g2)("q-space"),we=(0,a.g2)("q-dialog"),ze=(0,a.gN)("close-popup"),Ee=(0,a.gN)("ripple");return(0,a.uX)(),(0,a.Wv)(we,{modelValue:se.modal,"onUpdate:modelValue":t[9]||(t[9]=e=>se.modal=e),onBeforeShow:le.getMenuItem,onBeforeHide:le.beforeHide,persistent:"",position:this.$q.screen.lt.md?"bottom":"standard"},{default:(0,a.k6)((()=>[(0,a.bF)(ve,{class:(0,s.C4)({"card-medium-items":!this.$q.screen.lt.md})},{default:(0,a.k6)((()=>[se.loading?((0,a.uX)(),(0,a.Wv)(ne,{key:0,style:{"min-height":"250px"}},{default:(0,a.k6)((()=>[(0,a.bF)(oe,{showing:!0,color:"warning"})])),_:1})):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[le.hasData?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",l,[(0,a.bF)(de,{fit:"cover",src:this.image_featured?this.image_featured:se.items.url_image,class:"no-margin",height:"170px","placeholder-src":"placeholder.png","spinner-color":"warning",loading:"lazy"},null,8,["src"]),(0,a.Lk)("div",o,[(0,a.bo)((0,a.bF)(ce,{icon:"close",color:"grey",flat:"",round:"",dense:""},null,512),[[ze]])]),(0,a.Lk)("div",n,[(0,a.bF)(ue,{ref:"favs",item_token:se.items.item_token,cat_id:se.items.cat_id,active:se.items.save_item,onAfterSavefav:t[0]||(t[0]=e=>le.afterSavefav(se.items))},null,8,["item_token","cat_id","active"])])]),(0,a.bF)(ne,{style:{"max-height":"50vh"},class:"scroll"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",{class:"text-h5 ellipsis text-weight-bold",innerHTML:se.items.item_name},null,8,d),(0,a.Lk)("div",{class:"ellipsis-2-lines text-weight-light font12",innerHTML:se.items.item_description},null,8,c),le.hasGallery?((0,a.uX)(),(0,a.CE)("div",u,[(0,a.bF)(re,{item_gallery:se.item_gallery,onAfterSelectimage:le.afterSelectimage},null,8,["item_gallery","onAfterSelectimage"])])):(0,a.Q3)("",!0),(0,a.Lk)("div",r,[(0,a.Lk)("div",_,(0,s.v_)(e.$t("Customize your Order")),1),(0,a.bF)(_e,{modelValue:se.item_size_id,"onUpdate:modelValue":t[1]||(t[1]=e=>se.item_size_id=e),options:se.size_data,color:"warning",inline:""},null,8,["modelValue","options"])]),se.cooking_data.length>0?((0,a.uX)(),(0,a.CE)("div",m,[(0,a.Lk)("div",h,[(0,a.Lk)("h5",p,(0,s.v_)(e.$t("Cooking Reference")),1)]),(0,a.Lk)("div",g,[se.items.cooking_ref_required?((0,a.uX)(),(0,a.CE)("span",b,(0,s.v_)(e.$t("Required")),1)):((0,a.uX)(),(0,a.CE)("span",k,"("+(0,s.v_)(e.$t("Optional"))+")",1))])])):(0,a.Q3)("",!0),(0,a.bF)(_e,{modelValue:se.cooking_ref,"onUpdate:modelValue":t[2]||(t[2]=e=>se.cooking_ref=e),options:se.cooking_data,color:"warning",inline:""},null,8,["modelValue","options"]),se.ingredients_data.length>0?((0,a.uX)(),(0,a.CE)("h5",f,(0,s.v_)(e.$t("Ingredients")),1)):(0,a.Q3)("",!0),(0,a.bF)(_e,{modelValue:se.ingredients,"onUpdate:modelValue":t[3]||(t[3]=e=>se.ingredients=e),options:se.ingredients_data,color:"warning",inline:"",type:"checkbox"},null,8,["modelValue","options"]),se.addons[se.item_size_id]?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:3},(0,a.pI)(se.addons[se.item_size_id],(t=>((0,a.uX)(),(0,a.CE)(a.FK,{key:t.subcat_id},[(0,a.Lk)("h5",v,(0,s.v_)(t.subcategory_name),1),(0,a.Lk)("div",y,["one"===t.multi_option?((0,a.uX)(),(0,a.CE)("p",q,(0,s.v_)(e.$t("Select 1")),1)):"multiple"===t.multi_option?((0,a.uX)(),(0,a.CE)("p",F,[t.multi_option_min>0?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,s.v_)(e.$t("Select minimum {min} to maximum {max}",{min:t.multi_option_min,max:t.multi_option_value})),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,s.v_)(e.$t("Choose up to {count}",{count:t.multi_option_value})),1)],64))])):"custom"===t.multi_option?((0,a.uX)(),(0,a.CE)("p",x,[t.multi_option_min>0?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,s.v_)(e.$t("Select minimum {min} to maximum {max}",{min:t.multi_option_min,max:t.multi_option_value})),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,s.v_)(e.$t("Choose up to {count}",{count:t.multi_option_value})),1)],64))])):(0,a.Q3)("",!0),1==t.require_addon?((0,a.uX)(),(0,a.CE)("p",C,[(0,a.Lk)("span",w,(0,s.v_)(e.$t("Required")),1)])):((0,a.uX)(),(0,a.CE)("p",z," ("+(0,s.v_)(e.$t("Optional"))+") ",1))]),ae.SettingsStore.addons_use_checkbox?((0,a.uX)(),(0,a.Wv)(ke,{key:0},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.sub_items,(e=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(be,{key:e.sub_item_id,tag:"label"},{default:(0,a.k6)((()=>["one"===t.multi_option?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bF)(he,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(me,{modelValue:t.sub_items_checked,"onUpdate:modelValue":e=>t.sub_items_checked=e,val:e.sub_item_id,color:"warning"},null,8,["modelValue","onUpdate:modelValue","val"])])),_:2},1024),(0,a.bF)(he,null,{default:(0,a.k6)((()=>[(0,a.bF)(pe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(e.sub_item_name),1)])),_:2},1024)])),_:2},1024),(0,a.bF)(he,{side:""},{default:(0,a.k6)((()=>[(0,a.bF)(pe,{caption:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(e.pretty_price),1)])),_:2},1024)])),_:2},1024)],64)):"custom"===t.multi_option?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.bF)(he,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(ge,{modelValue:e.checked,"onUpdate:modelValue":t=>e.checked=t,val:e.sub_item_id,label:"",disable:e.disabled,color:"warning"},null,8,["modelValue","onUpdate:modelValue","val","disable"])])),_:2},1024),(0,a.bF)(he,null,{default:(0,a.k6)((()=>[(0,a.bF)(pe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(e.sub_item_name),1)])),_:2},1024)])),_:2},1024),(0,a.bF)(he,{side:""},{default:(0,a.k6)((()=>[(0,a.bF)(pe,{caption:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(e.pretty_price),1)])),_:2},1024)])),_:2},1024)],64)):"multiple"===t.multi_option?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.bF)(he,{side:!e.checked},{default:(0,a.k6)((()=>[1==e.checked?((0,a.uX)(),(0,a.CE)("div",E,[(0,a.Lk)("div",A,[(0,a.bF)(ce,{onClick:t=>e.qty>1?e.qty--:e.checked=!1,round:"",unelevated:"",dense:"",size:"11px",color:"warning",icon:"remove"},null,8,["onClick"])]),(0,a.Lk)("div",L,(0,s.v_)(e.qty),1),(0,a.Lk)("div",X,[(0,a.bF)(ce,{onClick:t=>e.qty++,round:"",unelevated:"",dense:"",size:"11px",color:"warning",icon:"add",disabled:e.disabled},null,8,["onClick","disabled"])])])):((0,a.uX)(),(0,a.CE)("div",V,[(0,a.bF)(ce,{onClick:t=>e.checked=!0,round:"",unelevated:"",dense:"",size:"11px",color:"grey-4",icon:"add",disabled:e.disabled},null,8,["onClick","disabled"])]))])),_:2},1032,["side"]),(0,a.bF)(he,null,{default:(0,a.k6)((()=>[(0,a.bF)(pe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(e.sub_item_name),1)])),_:2},1024)])),_:2},1024),(0,a.bF)(he,{side:""},{default:(0,a.k6)((()=>[(0,a.bF)(pe,{caption:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(e.pretty_price),1)])),_:2},1024)])),_:2},1024)],64)):(0,a.Q3)("",!0)])),_:2},1024)),[[Ee]]))),128))])),_:2},1024)):((0,a.uX)(),(0,a.CE)("div",S,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.sub_items,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.sub_item_id,class:"col-lg-3 col-md-3 col-sm-6 col-xs-6 text-center"},[(0,a.bF)(ve,{flat:"",class:"column items-center full-height"},{default:(0,a.k6)((()=>["one"===t.multi_option?((0,a.uX)(),(0,a.Wv)(me,{key:0,modelValue:t.sub_items_checked,"onUpdate:modelValue":e=>t.sub_items_checked=e,val:e.sub_item_id,label:""},{default:(0,a.k6)((()=>[(0,a.bF)(fe,{size:"80px",square:"",class:"col self-center"},{default:(0,a.k6)((()=>[(0,a.bF)(de,{fit:"contain",src:e.hasimage?e.url_image:"default-addon.png",class:"no-margin",height:"80px",loading:"lazy"},null,8,["src"])])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue","val"])):"multiple"===t.multi_option?((0,a.uX)(),(0,a.CE)("div",I,[(0,a.bF)(fe,{size:"80px",square:"",class:"col self-center"},{default:(0,a.k6)((()=>[(0,a.bF)(de,{fit:"contain",src:e.url_image,class:"no-margin",height:"80px",loading:"lazy"},null,8,["src"])])),_:2},1024)])):"custom"===t.multi_option?((0,a.uX)(),(0,a.Wv)(ge,{key:2,modelValue:e.checked,"onUpdate:modelValue":t=>e.checked=t,val:e.sub_item_id,label:"",disable:e.disabled},{default:(0,a.k6)((()=>[(0,a.bF)(fe,{size:"80px",square:"",class:"col self-center"},{default:(0,a.k6)((()=>[(0,a.bF)(de,{fit:"contain",src:e.url_image,class:"no-margin",height:"80px",loading:"lazy"},null,8,["src"])])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue","val","disable"])):(0,a.Q3)("",!0),(0,a.Lk)("p",Q,(0,s.v_)(e.sub_item_name),1),(0,a.Lk)("p",$,(0,s.v_)(e.pretty_price),1),"multiple"===t.multi_option?((0,a.uX)(),(0,a.CE)("div",j,[1==e.checked?((0,a.uX)(),(0,a.CE)("div",W,[(0,a.Lk)("div",O,[(0,a.bF)(ce,{onClick:t=>e.qty>1?e.qty--:e.checked=!1,round:"",unelevated:"",dense:"",size:"11px",color:"warning",icon:"remove"},null,8,["onClick"])]),(0,a.Lk)("div",K,(0,s.v_)(e.qty),1),(0,a.Lk)("div",U,[(0,a.bF)(ce,{onClick:t=>e.qty++,round:"",unelevated:"",dense:"",size:"11px",color:"warning",icon:"add",disabled:e.disabled},null,8,["onClick","disabled"])])])):((0,a.uX)(),(0,a.CE)("div",T,[(0,a.bF)(ce,{onClick:t=>e.checked=!0,round:"",unelevated:"",dense:"",size:"11px",color:"grey-4",icon:"add",disabled:e.disabled},null,8,["onClick","disabled"])]))])):(0,a.Q3)("",!0)])),_:2},1024)])))),128))]))],64)))),128)):(0,a.Q3)("",!0),(0,a.Lk)("div",D,[(0,a.Lk)("p",H,(0,s.v_)(e.$t("Special Instructions")),1),(0,a.bF)(ye,{modelValue:se.special_instructions,"onUpdate:modelValue":t[4]||(t[4]=e=>se.special_instructions=e),autogrow:"",outlined:"",class:"q-mb-md full-width",color:"warning"},null,8,["modelValue"])]),(0,a.Lk)("div",M,[(0,a.Lk)("p",G,(0,s.v_)(e.$t("If sold out")),1),(0,a.bF)(qe,{outlined:"",dense:"",modelValue:se.if_sold_out,"onUpdate:modelValue":t[5]||(t[5]=e=>se.if_sold_out=e),options:se.sold_out_options,color:"warning",class:"q-mb-md","transition-show":"scale","transition-hide":"scale"},null,8,["modelValue","options"])])])),_:1}),(0,a.bF)(Fe),(0,a.bF)(xe,{class:"q-pa-md"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",P,[(0,a.Lk)("div",B,[(0,a.Lk)("div",N,[(0,a.Lk)("div",R,[(0,a.bF)(ce,{onClick:t[6]||(t[6]=e=>se.item_qty>1?se.item_qty--:1),round:"",unelevated:"",dense:"",size:this.$q.screen.lt.md?"13px":"15px",color:"warning",icon:"remove"},null,8,["size"])]),(0,a.Lk)("div",J,(0,s.v_)(se.item_qty),1),(0,a.Lk)("div",Y,[(0,a.bF)(ce,{onClick:t[7]||(t[7]=e=>se.item_qty++),round:"",unelevated:"",dense:"",size:this.$q.screen.lt.md?"13px":"15px",color:"warning",icon:"add"},null,8,["size"])])])]),(0,a.Lk)("div",Z,[!se.loading&&se.items.not_for_sale?((0,a.uX)(),(0,a.Wv)(ce,{key:0,unelevated:"",rounded:"",color:"warning","text-color":"black","no-caps":"",class:"full-width",disable:!0,label:"Not for sale",size:this.$q.screen.lt.md?"15px":"17px"},null,8,["size"])):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[le.itemAvailable(se.items.item_id,se.items.cat_id)?((0,a.uX)(),(0,a.Wv)(ce,{key:0,unelevated:"",rounded:"",color:"warning","text-color":"black","no-caps":"",class:"full-width",disable:se.disabled_cart,onClick:t[8]||(t[8]=e=>le.AddToCart()),loading:se.loading_add,size:this.$q.screen.lt.md?"15px":"17px"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",ee,[(0,a.Lk)("div",te,(0,s.v_)(e.$t("Add to cart")),1),(0,a.Lk)("div",ie,(0,s.v_)(se.item_total),1)])])),_:1},8,["disable","loading","size"])):((0,a.uX)(),(0,a.Wv)(ce,{key:1,unelevated:"",rounded:"",color:"warning","text-color":"black","no-caps":"",class:"full-width",disable:!0,label:e.$t("Not available"),dense:e.$q.screen.lt.sm},null,8,["label","dense"]))],64))])])])),_:1})],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.bF)(ne,{class:"row items-center q-pb-none"},{default:(0,a.k6)((()=>[(0,a.bF)(Ce),(0,a.bo)((0,a.bF)(ce,{icon:"close",flat:"",round:"",dense:""},null,512),[[ze]])])),_:1}),(0,a.bF)(ne,{class:"default-height flex flex-center text-grey"},{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(e.$t("No data available")),1)])),_:1})],64))],64))])),_:1},8,["class"])])),_:1},8,["modelValue","onBeforeShow","onBeforeHide","position"])}i(7781),i(9526);var se=i(2911),le=i(1095),oe=i(2302),ne=i(4675),de=i(1464);const ce=function(e){return"undefined"===typeof e||null===e||""===e||"null"===e||"undefined"===e},ue={name:"ProductDetails",components:{Favs:(0,a.$V)((()=>i.e(3405).then(i.bind(i,3405)))),ItemGallery:(0,a.$V)((()=>Promise.all([i.e(4121),i.e(9632)]).then(i.bind(i,9632))))},setup(){const e=(0,oe.C)(),t=(0,ne.g)(),i=(0,de.Q)();return{SettingsStore:e,schedStore:t,DataStorePersisted:i}},data(){return{modal:!1,cat_id:0,item_uuid:"",loading:!1,loading_add:!1,item_qty:1,items:[],item_size_id:0,size_data:[],size_datas:[],cooking_ref:0,cooking_data:[],ingredients:[],ingredients_data:[],addons:{},special_instructions:"",transaction_type:"",if_sold_out:"",sold_out_options:[],item_total:0,disabled_cart:!0,slide_items:0,favorites:[],config:[],meta:[],items_not_available:[],category_not_available:[],item_gallery:[],image_featured:""}},watch:{addons:{handler(e,t){this.ItemSummary()},deep:!0},item_size_id(){this.ItemSummary()},cooking_ref(){this.ItemSummary()},ingredients(){this.ItemSummary()},item_qty(){this.ItemSummary()}},computed:{hasGallery(){return this.item_gallery.length>0},hasData(){return Object.keys(this.items).length>0}},methods:{showItem(e,t){this.cat_id=e,this.item_uuid=t,this.modal=!0},itemAvailable(e,t){return!1===this.items_not_available.includes(e)&&!1===this.category_not_available.includes(t)},resetData(){this.item_qty=1,this.items=[],this.item_size_id=0,this.size_data=[],this.size_datas=[],this.cooking_ref=0,this.cooking_data=[],this.ingredients=[],this.ingredients_data=[],this.addons={},this.special_instructions="",this.transaction_type="",this.if_sold_out="",this.sold_out_options=[],this.item_total=0,this.disabled_cart=!0,this.slide_items=0},getMenuItem(){this.resetData(),this.loading=!0,se.A.getMenuItem(this.cat_id,this.item_uuid,this.DataStorePersisted.getUseCurrency()).then((e=>{this.config=e.details.config,this.items=e.details.data.items,this.meta=e.details.data.meta,this.size_datas=e.details.data.items.price;const t=e.details.sold_out_options;this.if_sold_out=e.details.default_sold_out_options,this.items_not_available=e.details.data.items_not_available,this.category_not_available=e.details.data.category_not_available;const i=e.details.data.items.price,a=e.details.data.meta?e.details.data.meta.cooking_ref:{},s=e.details.data.meta?e.details.data.meta_details.cooking_ref:{},l=e.details.data.meta?e.details.data.meta.ingredients:{},o=e.details.data.meta?e.details.data.meta_details.ingredients:{},n=e.details.data?e.details.data.addons:{},d=e.details.data?e.details.data.addon_items:{};Object.keys(t).length>0&&Object.entries(t).forEach((([e,t])=>{this.sold_out_options.push({label:t,value:e})})),Object.keys(i).length>0&&(Object.entries(i).forEach((([e,t])=>{t.discount<=0?this.size_data.push({label:t.size_name+" "+t.pretty_price,value:parseInt(t.item_size_id)}):this.size_data.push({label:t.size_name+" "+t.pretty_price_after_discount,value:parseInt(t.item_size_id)})})),this.item_size_id=parseInt(Object.keys(i)[0])),"undefined"!==typeof a&&null!==a&&a.length>0&&Object.entries(a).forEach((([e,t])=>{this.cooking_data.push({label:s[t].meta_name,value:s[t].meta_id})})),"undefined"!==typeof l&&null!==l&&l.length>0&&Object.entries(l).forEach((([e,t])=>{o[t]&&this.ingredients_data.push({label:o[t].meta_name,value:o[t].meta_id}),this.items.ingredients_preselected&&o[t]&&this.ingredients.push(o[t].meta_id)})),this.item_gallery=e.details.data.meta?e.details.data.meta.item_gallery:[],se.A.empty(this.item_gallery)&&(this.item_gallery=[]),Object.keys(this.items.item_addons).length>0&&Object.entries(this.items.item_addons).forEach((([e,t])=>{const i=[];Object.entries(t).forEach((([t,a])=>{if(!se.A.empty(n[e])&&!se.A.empty(n[e][a])){const t=n[e][a],s=[];Object.entries(t.sub_items).forEach((([e,t])=>{if(d[t]){const e=d[t];d[t].checked=!1,d[t].disabled=!1,d[t].qty=1,s.push(e)}}));const l={subcat_id:t.subcat_id,subcategory_name:t.subcategory_name,subcategory_description:t.subcategory_description,multi_option:t.multi_option,multi_option_min:t.multi_option_min,multi_option_value:t.multi_option_value,require_addon:t.require_addon,pre_selected:t.pre_selected,sub_items_checked:"",sub_items:s};i.push(l)}})),this.addons[e]=i}))})).catch((e=>{})).then((e=>{this.loading=!1}))},ItemSummary(){let e=0;const t=[],i=[];let a=[],s=[];if(!ce(this.size_datas[this.item_size_id])){const t=this.size_datas[this.item_size_id];t.discount>0?e+=this.item_qty*parseFloat(t.price_after_discount):e+=this.item_qty*parseFloat(t.price)}ce(this.addons[this.item_size_id])||this.addons[this.item_size_id].forEach(((l,o)=>{if("1"===l.require_addon&&t.push(l.subcat_id),"custom"===l.multi_option){let t=0;const o=l.multi_option_value;let n=l.multi_option_min;o>0&&a.push({subcat_id:l.subcat_id,min:n,max:o});const d=[],c=[];l.sub_items.forEach(((a,s)=>{!0===a.checked?(t++,e+=this.item_qty*parseFloat(a.price),i.push(l.subcat_id)):d.push(s),!0===a.disabled&&c.push(s)})),s[l.subcat_id]={total:t},t>=o?d.forEach(((e,t)=>{l.sub_items[e].disabled=!0})):c.forEach(((e,t)=>{l.sub_items[e].disabled=!1}))}else if("one"===l.multi_option)l.sub_items.forEach(((t,a)=>{t.sub_item_id===l.sub_items_checked&&(e+=this.item_qty*parseFloat(t.price),i.push(l.subcat_id))}));else if("multiple"===l.multi_option){var n=[];let t=l.multi_option_min;var d=l.multi_option_value,c=0;d>0&&a.push({subcat_id:l.subcat_id,min:t,max:d}),l.sub_items.forEach(((t,a)=>{!0===t.checked&&(e+=t.qty*parseFloat(t.price),i.push(l.subcat_id),c+=t.qty),n.push(a)})),s[l.subcat_id]={total:c},this.addons[this.item_size_id][o].qty_selected=c,this.addons[this.item_size_id][o].qty_selected>=d?n.forEach(((e,t)=>{this.addons[this.item_size_id][o].sub_items[e].disabled=!0})):n.forEach(((e,t)=>{this.addons[this.item_size_id][o].sub_items[e].disabled=!1}))}})),e>0&&(this.item_total=(0,le.GP)(e,this.config));let l=!0;if(t.length>0&&t.forEach(((e,t)=>{if(!1===i.includes(e))return l=!1,!1})),this.items.cooking_ref_required){let e=!1;this.cooking_ref>0&&(e=!0),e||(l=!1)}if(Object.keys(a).length>0){let e,t;Object.entries(a).forEach((([i,a])=>{e=parseInt(a.min),s[a.subcat_id]&&(t=parseInt(s[a.subcat_id].total)),t>0&&e>t&&(l=!1)}))}this.disabled_cart=!l},AddToCart(){const e=[];this.ingredients.length>0&&this.ingredients.forEach(((t,i)=>{e.push({meta_id:t,checked:!0,meta_name:""})}));const t={cooking_ref:[{meta_id:this.cooking_ref,checked:this.cooking_ref,meta_name:""}],ingredients:e},i=se.A.getStorage("cart_uuid"),a={cart_uuid:i,cat_id:this.cat_id,item_size_id:this.item_size_id,item_token:this.item_uuid,item_qty:this.item_qty,special_instructions:this.special_instructions,if_sold_out:this.if_sold_out.value,transaction_type:this.schedStore.transaction_type,meta:t,item_addons:ce(this.addons[this.item_size_id])?[]:this.addons[this.item_size_id]};this.loading_add=!0,se.A.AddToCart(a).then((e=>{ce(i)&&se.A.setStorage("cart_uuid",e.details.cart_uuid),this.modal=!1,this.$emit("afterAddtocart")})).catch((e=>{se.A.notify("negative",e,"error_outline",this.$q)})).then((e=>{this.loading_add=!1}))},afterSavefav(e){e.save_item=!e.save_item},afterSelectimage(e){this.image_featured=e},beforeHide(){this.qty=1,this.image_featured=""}}};var re=i(2807),_e=i(2156),me=i(3316),he=i(4189),pe=i(9035),ge=i(2665),be=i(6384),ke=i(1003),fe=i(3999),ve=i(124),ye=i(5173),qe=i(7878),Fe=i(3796),xe=i(460),Ce=i(3952),we=i(9270),ze=i(2606),Ee=i(386),Ae=i(2669),Le=i(3676),Xe=i(8672),Ve=i(9626),Se=i(8582),Ie=i.n(Se);const Qe=(0,re.A)(ue,[["render",ae]]),$e=Qe;Ie()(ue,"components",{QDialog:_e.A,QCard:me.A,QCardSection:he.A,QInnerLoading:pe.A,QImg:ge.A,QBtn:be.A,QOptionGroup:ke.A,QList:fe.A,QItem:ve.A,QItemSection:ye.A,QRadio:qe.A,QItemLabel:Fe.A,QCheckbox:xe.A,QAvatar:Ce.A,QInput:we.A,QSelect:ze.A,QSeparator:Ee.A,QCardActions:Ae.A,QSpace:Le.A}),Ie()(ue,"directives",{ClosePopup:Xe.A,Ripple:Ve.A})}}]);