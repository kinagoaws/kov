"use strict";(globalThis["webpackChunkcom_kinago_single"]=globalThis["webpackChunkcom_kinago_single"]||[]).push([[9690],{9690:(e,a,t)=>{t.r(a),t.d(a,{default:()=>$});var n=t(1758),l=t(8790);const o={id:"reservation",class:"row justify-center q-pa-md"},i={class:"col-md-9 col-12"},s={class:"text-left"},r={class:"no-margin text-weight-bold q-pb-sm"};function c(e,a,t,c,d,u){const g=(0,n.g2)("LocationNav"),h=(0,n.g2)("q-inner-loading"),b=(0,n.g2)("q-btn"),m=(0,n.g2)("q-radio"),k=(0,n.g2)("q-item-section"),v=(0,n.g2)("q-item-label"),p=(0,n.g2)("q-item"),f=(0,n.g2)("q-list"),q=(0,n.g2)("q-space"),y=(0,n.g2)("q-card-section"),C=(0,n.g2)("q-card"),A=(0,n.g2)("q-page"),_=(0,n.gN)("ripple");return(0,n.uX)(),(0,n.Wv)(A,{padding:""},{default:(0,n.k6)((()=>[(0,n.bF)(g),(0,n.Lk)("div",o,[(0,n.Lk)("div",i,[d.loading?((0,n.uX)(),(0,n.Wv)(h,{key:0,showing:d.loading,color:"warning"},null,8,["showing"])):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.bF)(b,{flat:"",color:"warning",icon:"las la-angle-left",label:e.$t("Back"),"no-caps":"",dense:"",to:{name:"track-reservation",query:{id:this.id}}},null,8,["label","to"]),(0,n.Lk)("div",s,[(0,n.Lk)("h4",r,(0,l.v_)(e.$t("We're sorry that you have to cancel your reservation"))+". ",1),(0,n.Lk)("p",null,(0,l.v_)(e.$t("Would you please tell us why you wish to cancel"))+"?",1),(0,n.bF)(C,{flat:""},{default:(0,n.k6)((()=>[d.loading?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(y,{key:0},{default:(0,n.k6)((()=>[(0,n.bF)(f,null,{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(d.data,(e=>(0,n.bo)(((0,n.uX)(),(0,n.Wv)(p,{key:e,tag:"label"},{default:(0,n.k6)((()=>[(0,n.bF)(k,{avatar:""},{default:(0,n.k6)((()=>[(0,n.bF)(m,{modelValue:d.reason,"onUpdate:modelValue":a[0]||(a[0]=e=>d.reason=e),val:e,color:"warning"},null,8,["modelValue","val"])])),_:2},1024),(0,n.bF)(k,null,{default:(0,n.k6)((()=>[(0,n.bF)(v,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,l.v_)(e),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)),[[_]]))),128))])),_:1}),(0,n.bF)(q,{class:"q-pa-sm"}),(0,n.bF)(b,{type:"submit",unelevated:"",color:"warning","text-color":"dark","no-caps":"",class:"full-width",label:e.$t("Cancel reservation"),size:this.$q.screen.lt.md?"15px":"17px",rounded:"",disabled:!u.hasData,loading:d.submit,onClick:u.ConfirmcancelReservation},null,8,["label","size","disabled","loading","onClick"])])),_:1}))])),_:1})])],64))])])])),_:1})}var d=t(2911);const u={name:"TableCancel",components:{LocationNav:(0,n.$V)((()=>Promise.all([t.e(4121),t.e(996),t.e(7691)]).then(t.bind(t,5897))))},data(){return{reason:"",loading:!0,data:[],submit:!1}},created(){this.id=this.$route.query.id,this.getCancelreason()},computed:{hasData(){return!d.A.empty(this.reason)}},methods:{getCancelreason(){this.loading=!0,d.A.fetchDataPostTable("getCancelreason","id="+this.id).then((e=>{this.data=e.details.data})).catch((e=>{this.data})).then((e=>{this.loading=!1}))},ConfirmcancelReservation(){this.$q.dialog({title:"Cancel reservation",message:"Are you sure to continue?",cancel:!0,persistent:!0,ok:{label:"Ok",flat:!0,color:"warning","no-caps":!0},cancel:{label:"No",flat:!0,"no-caps":!0,color:"grey"}}).onOk((()=>{this.CancelReservation()})).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))},CancelReservation(){this.submit=!0,d.A.fetchDataPostTableToken("CancelReservation","id="+this.id+"&reason="+this.reason).then((e=>{d.A.notify("green",e.msg,"check",this.$q),setTimeout((()=>{this.$router.push({name:"track-reservation",query:{id:this.id}})}),500)})).catch((e=>{d.A.notify("negative",e,"error_outline",this.$q)})).then((e=>{this.submit=!1}))}}};var g=t(2807),h=t(7716),b=t(9035),m=t(6384),k=t(3316),v=t(4189),p=t(3999),f=t(124),q=t(5173),y=t(7878),C=t(3796),A=t(3676),_=t(9626),w=t(8582),F=t.n(w);const Q=(0,g.A)(u,[["render",c]]),$=Q;F()(u,"components",{QPage:h.A,QInnerLoading:b.A,QBtn:m.A,QCard:k.A,QCardSection:v.A,QList:p.A,QItem:f.A,QItemSection:q.A,QRadio:y.A,QItemLabel:C.A,QSpace:A.A}),F()(u,"directives",{Ripple:_.A})}}]);