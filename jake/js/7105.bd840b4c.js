"use strict";(globalThis["webpackChunkcom_kinago_single"]=globalThis["webpackChunkcom_kinago_single"]||[]).push([[7105],{7105:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Q});var a=s(1758),l=s(8790);const n={class:"row justify-center q-pa-md"},i={class:"col-md-9 col-12"},o={class:"text-center q-mb-md"},r={class:"no-margin text-weight-bold q-pb-sm"},d={class:"text-weight-thin"},u={class:"text-center"},c={key:1,class:"font11 q-ma-none"},m={class:"q-mt-lg"},g={class:"text-center q-mb-md"},h={class:"no-margin text-weight-bold q-pb-sm"},k={class:"text-weight-thin"},b={class:"w-75",style:{margin:"auto"}},v={class:"q-mb-lg"},p={class:"q-mb-lg"},_={class:"q-mb-lg"};function f(e,t,s,f,q,w){const L=(0,a.g2)("LocationNav"),y=(0,a.g2)("q-btn"),$=(0,a.g2)("q-input"),F=(0,a.g2)("q-form"),C=(0,a.g2)("q-card-section"),x=(0,a.g2)("q-card"),A=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(A,{padding:""},{default:(0,a.k6)((()=>[(0,a.bF)(L),(0,a.Lk)("div",n,[(0,a.Lk)("div",i,[(0,a.bF)(x,{flat:"",class:"w-75",style:{margin:"auto"}},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[q.request_success?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",o,[(0,a.Lk)("h4",r,(0,l.v_)(e.$t("Password Reset")),1),(0,a.Lk)("p",d,(0,l.v_)(q.message),1)]),(0,a.Lk)("div",u,[0===q.counter?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bF)(y,{onClick:w.resendEmail,flat:"",dense:"",color:"myblue","no-caps":"",class:"font13 q-ma-none q-mr-md"},{default:(0,a.k6)((()=>[(0,a.Lk)("u",null,(0,l.v_)(e.$t("Resend reset email")),1)])),_:1},8,["onClick"]),(0,a.bF)(y,{onClick:t[0]||(t[0]=e=>q.request_success=!1),flat:"",dense:"",color:"warning","no-caps":"",class:"font13 q-ma-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("u",null,(0,l.v_)(e.$t("Enter email again")),1)])),_:1})],64)):((0,a.uX)(),(0,a.CE)("p",c,[(0,a.Lk)("u",null,(0,l.v_)(e.$t("Resend Code in {counter}",{counter:q.counter})),1)]))]),(0,a.Lk)("div",m,[(0,a.bF)(y,{flat:"",ripple:!1,"text-color":"negative","no-caps":"",class:"full-width no-hover",dense:e.$q.screen.lt.sm,to:"/login"},{default:(0,a.k6)((()=>[(0,a.Lk)("u",null,(0,l.v_)(e.$t("Back to login")),1)])),_:1},8,["dense"])])],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.Lk)("div",g,[(0,a.Lk)("h4",h,(0,l.v_)(e.$t("Forgot Password")),1),(0,a.Lk)("p",k,(0,l.v_)(e.$t("Please specify your email address to receive instructions for resetting it"))+". "+(0,l.v_)(e.$t("If an account exists by that email, we will send a password reset")),1)]),(0,a.Lk)("div",b,[(0,a.bF)(F,{onSubmit:w.onSubmit},{default:(0,a.k6)((()=>[(0,a.Lk)("div",v,[(0,a.bF)($,{"bg-color":"mygrey",color:"warning",outlined:"",modelValue:q.email_address,"onUpdate:modelValue":t[1]||(t[1]=e=>q.email_address=e),label:e.$t("Email address"),type:"email","lazy-rules":"",rules:[(t,s)=>s.email(t)||e.$t("Please enter a valid email address")]},null,8,["modelValue","label","rules"])]),(0,a.Lk)("div",p,[(0,a.bF)(y,{type:"submit",unelevated:"",rounded:"",color:"warning","text-color":"black","no-caps":"",class:"full-width",label:e.$t("Reset Password"),size:"lg",dense:e.$q.screen.lt.sm,loading:q.loading},null,8,["label","dense","loading"])]),(0,a.Lk)("div",_,[(0,a.bF)(y,{flat:"",ripple:!1,"text-color":"negative","no-caps":"",class:"full-width no-hover",dense:e.$q.screen.lt.sm,to:"/login"},{default:(0,a.k6)((()=>[(0,a.Lk)("u",null,(0,l.v_)(e.$t("Back to login")),1)])),_:1},8,["dense"])])])),_:1},8,["onSubmit"])])],64))])),_:1})])),_:1})])])])),_:1})}var q=s(2911);const w={name:"ForgotPassword",components:{LocationNav:(0,a.$V)((()=>Promise.all([s.e(4121),s.e(996),s.e(7691)]).then(s.bind(s,5897))))},data(){return{loading:!1,email_address:"",request_success:!1,customer_uuid:[],message:"",steps:1,maxCounter:20,counter:this.maxCounter,timer:void 0}},watch:{counter(e,t){e<=0&&this.stopTimer()}},beforeUnmount(){this.stopTimer()},methods:{stopTimer(){clearInterval(this.timer)},startTimer(){this.stopTimer(),this.counter=this.maxCounter,this.timer=setInterval((()=>{this.counter--}),1e3)},onSubmit(){this.loading=!0,q.A.fetchDataPost("requestResetPassword","email_address="+this.email_address).then((e=>{this.$router.push({path:"/resetpassword",query:{uuid:e.details.uuid,msg:e.msg}})})).catch((e=>{this.loading=!1,this.customer_uuid=[],this.message="",q.A.notify("negative",e,"error_outline",this.$q)})).then((e=>{this.loading=!1}))},resendEmail(){this.loading=!0,q.A.fetchDataPost("resendResetEmail","customer_uuid="+this.customer_uuid).then((e=>{this.request_success=!0,this.message=e.msg,this.startTimer()})).catch((e=>{this.loading=!1,this.message="",q.A.notify("negative",e,"error_outline",this.$q)})).then((e=>{this.loading=!1}))}}};var L=s(2807),y=s(7716),$=s(3316),F=s(4189),C=s(6384),x=s(9200),A=s(9270),P=s(8582),E=s.n(P);const T=(0,L.A)(w,[["render",f]]),Q=T;E()(w,"components",{QPage:y.A,QCard:$.A,QCardSection:F.A,QBtn:C.A,QForm:x.A,QInput:A.A})}}]);