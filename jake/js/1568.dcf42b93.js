"use strict";(globalThis["webpackChunkcom_kinago_single"]=globalThis["webpackChunkcom_kinago_single"]||[]).push([[1568],{1568:(e,t,a)=>{a.r(t),a.d(t,{default:()=>V});var n=a(1758),l=a(8790),i=a(9104);const s={class:"row justify-center q-pa-md"},o={class:"col-md-9 col-12"},d={class:"row"},c={key:0,class:"col-md-4 col-sm-4 col-xs-12"},u={class:"col-md-8 col-sm-8 col-xs-12"},r={class:"text-weight-bold"},m={key:0,class:"no-margin font12 text-weight-thin"},g={key:1,class:"no-margin font12 text-weight-thin"},h={class:"text-weight-medium"},k={class:"text-grey-8 q-gutter-xs"},y={key:1},p={class:"q-pa-md text-center"},_={class:"text-grey"},b={class:"q-pa-md"};function v(e,t,a,v,f,A){const q=(0,n.g2)("StickyBack"),F=(0,n.g2)("LocationNav"),w=(0,n.g2)("AccountNav"),x=(0,n.g2)("q-inner-loading"),$=(0,n.g2)("AddressesSkeleton"),Q=(0,n.g2)("q-item-section"),C=(0,n.g2)("q-item"),L=(0,n.g2)("q-separator"),X=(0,n.g2)("q-space"),P=(0,n.g2)("q-img"),D=(0,n.g2)("q-avatar"),W=(0,n.g2)("q-icon"),z=(0,n.g2)("q-item-label"),I=(0,n.g2)("q-btn"),M=(0,n.g2)("q-list"),S=(0,n.g2)("q-card"),E=(0,n.g2)("q-page");return(0,n.uX)(),(0,n.Wv)(E,{padding:""},{default:(0,n.k6)((()=>[A.isMobile?((0,n.uX)(),(0,n.Wv)(q,{key:0,url:"/account/menu",label:"Back"})):((0,n.uX)(),(0,n.Wv)(F,{key:1})),(0,n.Lk)("div",s,[(0,n.Lk)("div",o,[(0,n.Lk)("div",d,[A.isMobile?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",c,[(0,n.bF)(w)])),(0,n.Lk)("div",u,[(0,n.bF)(S,{flat:"",class:"fit"},{default:(0,n.k6)((()=>[(0,n.bF)(x,{showing:f.loading2,color:"warning"},null,8,["showing"]),f.loading?((0,n.uX)(),(0,n.Wv)($,{key:0})):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.bF)(C,null,{default:(0,n.k6)((()=>[(0,n.bF)(Q,null,{default:(0,n.k6)((()=>[(0,n.Lk)("h5",r,(0,l.v_)(e.$t("Payments")),1),A.hasData?((0,n.uX)(),(0,n.CE)("p",m,(0,l.v_)(e.$t("You can add your payment info here")),1)):((0,n.uX)(),(0,n.CE)("p",g,(0,l.v_)(e.$t("No payment added, lets change that"))+"! ",1))])),_:1})])),_:1}),(0,n.bF)(L),(0,n.bF)(X,{class:"q-mt-lg"}),A.hasData?((0,n.uX)(),(0,n.Wv)(M,{key:0},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(f.data,(e=>((0,n.uX)(),(0,n.Wv)(C,{key:e.payment_uuid},{default:(0,n.k6)((()=>[(0,n.bF)(Q,{avatar:"",top:""},{default:(0,n.k6)((()=>["image"===e.logo_type?((0,n.uX)(),(0,n.Wv)(D,{key:0},{default:(0,n.k6)((()=>[(0,n.bF)(P,{src:e.logo_image,"spinner-color":"white",fit:"contain"},null,8,["src"])])),_:2},1024)):((0,n.uX)(),(0,n.Wv)(W,{key:1,name:"credit_card",color:"warning",size:"34px"}))])),_:2},1024),(0,n.bF)(Q,{top:""},{default:(0,n.k6)((()=>[(0,n.bF)(z,{lines:"1"},{default:(0,n.k6)((()=>[(0,n.Lk)("span",h,(0,l.v_)(e.payment_name),1),e.payment_uuid===f.default_payment_uuid?((0,n.uX)(),(0,n.Wv)(W,{key:0,name:"check",size:"sm",color:"warning",class:"q-ml-md"})):(0,n.Q3)("",!0)])),_:2},1024),(0,n.bF)(z,{caption:"",lines:"1"},{default:(0,n.k6)((()=>[(0,n.eW)((0,l.v_)(e.attr2),1)])),_:2},1024)])),_:2},1024),(0,n.bF)(Q,{top:"",side:""},{default:(0,n.k6)((()=>[(0,n.Lk)("div",k,[(0,n.bF)(I,{onClick:t=>A.confirmDelete(e.payment_uuid),class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"delete"},null,8,["onClick"]),(0,n.bF)(I,{class:"gt-xs",size:"12px",flatx:"",dense:"",round:"",icon:"done",unelevated:"",onClick:(0,i.D$)((t=>A.setDefault(e.payment_uuid)),["stop"])},null,8,["onClick"])])])),_:2},1024)])),_:2},1024)))),128)),(0,n.bF)(L,{spaced:""})])),_:1})):((0,n.uX)(),(0,n.CE)("div",y,[(0,n.Lk)("div",p,[(0,n.Lk)("p",_,(0,l.v_)(e.$t("You don't have any payment yet")),1)])])),(0,n.Lk)("div",b,[(0,n.bF)(I,{unelevated:"",rounded:"",color:"warning","text-color":"black","no-caps":"",class:"full-width",label:e.$t("Add new payment"),size:"17px",dense:e.$q.screen.lt.sm,loading:f.loading2,to:"/account/payments/new"},null,8,["label","dense","loading"])])],64))])),_:1})])])])])])),_:1})}var f=a(2911);const A={name:"Payments",components:{LocationNav:(0,n.$V)((()=>Promise.all([a.e(4121),a.e(996),a.e(7691)]).then(a.bind(a,5897)))),AccountNav:(0,n.$V)((()=>a.e(996).then(a.bind(a,8275)))),AddressesSkeleton:(0,n.$V)((()=>Promise.all([a.e(4121),a.e(996)]).then(a.bind(a,2171)))),StickyBack:(0,n.$V)((()=>Promise.all([a.e(4121),a.e(996)]).then(a.bind(a,7763))))},data(){return{data:[],loading:!1,loading2:!1,default_payment_uuid:"",payment_data:[]}},mounted(){this.MyPayments()},computed:{hasData(){return this.data.length>0},isMobile(){return!!this.$q.screen.lt.md}},methods:{MyPayments(){this.loading=!0,f.A.MyPayments().then((e=>{this.default_payment_uuid=e.details.default_payment_uuid,this.data=e.details.data})).catch((e=>{this.data=[]})).then((e=>{this.loading=!1}))},confirmDelete(e){this.$q.dialog({title:this.$t("Confirm Deletion"),message:this.$t("Are you sure you want to continue?"),stackButtons:!1,ok:{unelevated:!0,rounded:!0,color:"warning","text-color":"black",size:"md",label:this.$t("Yes"),"no-caps":!0},cancel:{unelevated:!0,rounded:!0,color:"grey-3","text-color":"black",size:"md",label:this.$t("Cancel"),"no-caps":!0}}).onOk((t=>{this.deletePayment(e)}))},deletePayment(e){this.loading2=!0,f.A.deletePayment(e).then((e=>{this.MyPayments()})).catch((e=>{f.A.notify("negative",e,"error_outline",this.$q)})).then((e=>{this.loading2=!1}))},setDefault(e){this.loading2=!0,f.A.setDefaultPayment(e).then((t=>{this.default_payment_uuid=e})).catch((e=>{f.A.notify("negative",e,"error_outline",this.$q)})).then((e=>{this.loading2=!1}))}}};var q=a(2807),F=a(7716),w=a(3316),x=a(9035),$=a(124),Q=a(5173),C=a(386),L=a(3676),X=a(3999),P=a(3952),D=a(2665),W=a(492),z=a(3796),I=a(6384),M=a(4782),S=a(284),E=a(8582),B=a.n(E);const N=(0,q.A)(A,[["render",v]]),V=N;B()(A,"components",{QPage:F.A,QCard:w.A,QInnerLoading:x.A,QItem:$.A,QItemSection:Q.A,QSeparator:C.A,QSpace:L.A,QList:X.A,QAvatar:P.A,QImg:D.A,QIcon:W.A,QItemLabel:z.A,QBtn:I.A,QFab:M.A,QFabAction:S.A})}}]);