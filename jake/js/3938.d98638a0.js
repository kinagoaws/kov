"use strict";(globalThis["webpackChunkcom_kinago_single"]=globalThis["webpackChunkcom_kinago_single"]||[]).push([[3938],{3938:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=a(1758);const n={class:"row justify-center q-pa-md"},o={class:"col-md-7 col-12"};function i(e,t,a,i,r,d){const l=(0,s.g2)("DeliverySched"),c=(0,s.g2)("NewAddress"),g=(0,s.g2)("AddressDetails"),h=(0,s.g2)("q-page");return(0,s.uX)(),(0,s.Wv)(h,{padding:!this.$q.screen.lt.md},{default:(0,s.k6)((()=>[(0,s.bF)(l,{ref:"delivery_sched",onAfterSavetrans:d.afterSavetrans},null,8,["onAfterSavetrans"]),(0,s.Lk)("div",n,[(0,s.Lk)("div",o,[(0,s.bF)(c,{ref:"new_address",show_cancel:!1,label_id:1,onAfterConfirmlocation:d.afterConfirmlocation,loading:r.loading},null,8,["onAfterConfirmlocation","loading"])])]),(0,s.bF)(g,{ref:"address_details",locationdata:r.location_data,maps_config:r.maps_config,onAfterSaveaddress:d.afterSaveaddress,onBeforeDelete:e.confirmdeleteAddress},null,8,["locationdata","maps_config","onAfterSaveaddress","onBeforeDelete"])])),_:1},8,["padding"])}var r=a(2911),d=a(9818),l=a(1464),c=a(2302),g=a(354);const h={name:"Location",components:{NewAddress:(0,s.$V)((()=>Promise.all([a.e(4121),a.e(996)]).then(a.bind(a,1566)))),DeliverySched:(0,s.$V)((()=>Promise.all([a.e(4121),a.e(996)]).then(a.bind(a,6452)))),AddressDetails:(0,s.$V)((()=>Promise.all([a.e(4121),a.e(996)]).then(a.bind(a,6936))))},data(){return{loading:!1,data:[],maps_config:[],location_data:[]}},setup(e){const t=(0,l.Q)(),a=(0,c.C)();return{DataStorePersisted:t,SettingsStore:a}},mounted(){Object.keys(this.SettingsStore.settings_data).length>0?this.getMapsconfig():this.$watch((()=>this.SettingsStore.$state.settings_data),((e,t)=>{this.getMapsconfig()}))},methods:{async getMapsconfig(){const e=await this.SettingsStore.getAsyncSettings();if(Object.keys(e).length>0)try{this.maps_config=(0,g.A)(e.maps_config)}catch(e){console.log(e)}},afterConfirmlocation(e){r.A.empty(e.place_id)?r.A.notify("negative",this.$t("Enter your location or select on the map"),"warning",this.$q):(this.DataStorePersisted.local_id=e.place_id,this.location_data=e,console.log("data",e.place_id),this.SettingsStore.SavePlaceByID(e.place_id),d.A.authenticated()?this.$refs.address_details.show_modal=!0:(this.DataStorePersisted.location_data=e,this.afterSaveaddress()))},afterSaveaddress(){1==this.DataStorePersisted.delivery_sched?this.$router.push({name:"menu",params:{addcart:!0}}):this.$refs.delivery_sched.showSched(!0)},afterSavetrans(){console.log("afterSavetrans"),this.$router.push({name:"menu",params:{addcart:!0}})}}};var f=a(2807),m=a(7716),_=a(8582),p=a.n(_);const S=(0,f.A)(h,[["render",i]]),u=S;p()(h,"components",{QPage:m.A})}}]);