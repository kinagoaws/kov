"use strict";(globalThis["webpackChunkcom_kinago_single"]=globalThis["webpackChunkcom_kinago_single"]||[]).push([[4891],{4891:(e,t,a)=>{a.r(t),a.d(t,{default:()=>V});var o=a(1758),l=a(8790);const n={class:"text-h5 text-weight-bold"},s={class:"text-body2 q-mb-md"},d={class:"text-h5 text-weight-bold"},i={class:"row q-mb-md items-center"},r={class:"col-2"},u={class:"col-3"},m={class:"text-body2 text-weight-medium"},c={class:"text-caption"},g={class:"col text-right"},p={key:1,class:"q-gutter-y-sm"},y={key:0,class:"text-body q-pa-sm bg-red-2 radius10 text-dark"},h={class:"text-body2"};function b(e,t,a,b,k,f){const _=(0,o.g2)("q-space"),v=(0,o.g2)("q-btn"),q=(0,o.g2)("q-card-section"),x=(0,o.g2)("q-img"),A=(0,o.g2)("q-input"),$=(0,o.g2)("q-form"),P=(0,o.g2)("q-card"),F=(0,o.g2)("q-dialog"),w=(0,o.gN)("close-popup");return(0,o.uX)(),(0,o.Wv)(F,{modelValue:k.dialog,"onUpdate:modelValue":t[1]||(t[1]=e=>k.dialog=e),position:this.$q.screen.lt.md?"bottom":"standard",onBeforeShow:f.getCustomerDefaultPayment},{default:(0,o.k6)((()=>[(0,o.bF)(P,null,{default:(0,o.k6)((()=>[(0,o.bF)(q,{class:"row items-center q-pb-none"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",n,(0,l.v_)(e.$t("Add Funds to Your Wallet")),1),(0,o.bF)(_),(0,o.bo)((0,o.bF)(v,{icon:"close",flat:"",round:"",dense:""},null,512),[[w]])])),_:1}),(0,o.bF)($,{onSubmit:f.onSubmit},{default:(0,o.k6)((()=>[(0,o.bF)(q,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",s,(0,l.v_)(e.$t("topup_message")),1),(0,o.Lk)("div",d,(0,l.v_)(e.$t("Payment Method")),1),f.hasPayment?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("div",i,[(0,o.Lk)("div",r,[(0,o.bF)(x,{src:f.getPayment.logo_image,"spinner-color":"primary","spinner-size":"sm",style:{height:"30px","max-width":"50px"},fit:"contain"},null,8,["src"])]),(0,o.Lk)("div",u,[(0,o.Lk)("div",m,(0,l.v_)(f.getPayment.attr1),1),(0,o.Lk)("div",c,(0,l.v_)(f.getPayment.attr2),1)]),(0,o.Lk)("div",g,[(0,o.bF)(v,{flat:"",label:e.$t("Change"),color:"primary","no-caps":"",to:"/account/payments"},null,8,["label"])])]),(0,o.bF)(A,{modelValue:k.amount,"onUpdate:modelValue":t[0]||(t[0]=e=>k.amount=e),label:e.$t("Enter amount"),outlined:"","lazy-rules":"","bg-color":e.$q.dark.mode?"grey600":"input","label-color":e.$q.dark.mode?"grey300":"grey",borderless:"",class:"input-borderless",type:"number",rules:[e=>e>0||this.$t("Please enter valid amount")]},null,8,["modelValue","label","bg-color","label-color","rules"]),(0,o.bF)(v,{type:"submit",label:e.$t("Add Funds"),loading:k.loading,unelevated:"",color:e.$q.dark.mode?"grey300":"warning","text-color":e.$q.dark.mode?"white":"dark","no-caps":"",class:"full-width",size:"17px",rounded:""},null,8,["label","loading","color","text-color"])],64)):((0,o.uX)(),(0,o.CE)("div",p,[k.loading?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",y,(0,l.v_)(e.$t("We noticed you haven't added a default payment method yet"))+". ",1)),(0,o.Lk)("div",h,(0,l.v_)(e.$t("topup_message1")),1),(0,o.bF)(v,{color:"warning",label:e.$t("Add online payment"),class:"fit",size:"lg","no-caps":"",unelevated:"",to:"/account/payments"},null,8,["label"])]))])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue","position","onBeforeShow"])}var k=a(2911),f=a(1464);const _={name:"WalletTopupform",setup(){const e=(0,f.Q)();return{DataStorePersisted:e}},data(){return{dialog:!1,amount:2,loading:!1,default_payment:[]}},computed:{hasPayment(){return Object.keys(this.default_payment).length>0},getPayment(){return this.default_payment}},methods:{getCustomerDefaultPayment(){this.loading=!0,k.A.fetchDataByTokenPost("getCustomerDefaultPayment").then((e=>{this.default_payment=e.details.data})).catch((e=>{k.A.notify("dark",e,"error",this.$q)})).then((e=>{this.loading=!1}))},onSubmit(){this.loading=!0,k.A.fetchDataByTokenPost("prepareAddFunds","amount="+this.amount+"&payment_code="+this.default_payment.payment_code+"&payment_uuid="+this.default_payment.payment_uuid+"&currency_code="+this.DataStorePersisted.getUseCurrency()).then((e=>{this.$emit("afterPreparepayment",e.details)})).catch((e=>{k.A.notify("dark",e,"error",this.$q)})).then((e=>{this.loading=!1}))}}};var v=a(2807),q=a(2156),x=a(3316),A=a(4189),$=a(3676),P=a(6384),F=a(9200),w=a(2665),C=a(9270),L=a(8672),Q=a(8582),S=a.n(Q);const D=(0,v.A)(_,[["render",b]]),V=D;S()(_,"components",{QDialog:q.A,QCard:x.A,QCardSection:A.A,QSpace:$.A,QBtn:P.A,QForm:F.A,QImg:w.A,QInput:C.A}),S()(_,"directives",{ClosePopup:L.A})}}]);