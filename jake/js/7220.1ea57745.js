"use strict";(globalThis["webpackChunkcom_kinago_single"]=globalThis["webpackChunkcom_kinago_single"]||[]).push([[7220],{7220:(e,l,s)=>{s.r(l),s.d(l,{default:()=>L});var a=s(1758),i=s(8790);const t={class:"row justify-center q-pa-md"},o={class:"col-md-9 col-12"},r={class:"text-center"},n={class:"no-margin text-weight-bold q-pb-sm"},d={class:"text-weight-bold"},u={class:"row q-col-gutter-md"},m={class:"col-xs-12 col-sm-6 col-md-6"},c={class:"col-xs-12 col-sm-6 col-md-6"},b={key:0,class:"q-pl-md q-pr-md"},g=["innerHTML"];function h(e,l,s,h,p,_){const f=(0,a.g2)("q-input"),w=(0,a.g2)("q-btn"),$=(0,a.g2)("q-form"),k=(0,a.g2)("q-card-section"),y=(0,a.g2)("q-card"),V=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(V,{padding:""},{default:(0,a.k6)((()=>[(0,a.Lk)("div",t,[(0,a.Lk)("div",o,[(0,a.Lk)("div",r,[(0,a.Lk)("h4",n,(0,i.v_)(e.$t("Complete your signup")),1),(0,a.Lk)("p",null,(0,i.v_)(e.$t("lets complete your information")),1)]),(0,a.bF)(y,{flat:"",class:"w-75 margin-auto"},{default:(0,a.k6)((()=>[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)($,{onSubmit:_.obSubmit,autocomplete:"off"},{default:(0,a.k6)((()=>[(0,a.Lk)("h5",d,(0,i.v_)(e.$t("Fill your information")),1),(0,a.Lk)("div",u,[(0,a.Lk)("div",m,[(0,a.bF)(f,{"bg-color":"mygrey",color:"warning",outlined:"",modelValue:p.first_name,"onUpdate:modelValue":l[0]||(l[0]=e=>p.first_name=e),label:e.$t("First name"),rules:[l=>l&&l.length>0||e.$t("This field is required")],disable:p.loading},null,8,["modelValue","label","rules","disable"])]),(0,a.Lk)("div",c,[(0,a.bF)(f,{"bg-color":"mygrey",color:"warning",outlined:"",modelValue:p.last_name,"onUpdate:modelValue":l[1]||(l[1]=e=>p.last_name=e),label:e.$t("Last name"),rules:[l=>l&&l.length>0||e.$t("This field is required")],disable:p.loading},null,8,["modelValue","label","rules","disable"])])]),(0,a.bF)(f,{"bg-color":"mygrey",color:"warning",outlined:"",modelValue:p.email_address,"onUpdate:modelValue":l[2]||(l[2]=e=>p.email_address=e),label:e.$t("Email"),disable:"",rules:[l=>!!l||e.$t("this field is required"),_.isValidEmail]},null,8,["modelValue","label","rules"]),(0,a.bF)(f,{"bg-color":"mygrey",color:"warning",outlined:"",modelValue:p.mobile_number,"onUpdate:modelValue":l[3]||(l[3]=e=>p.mobile_number=e),label:e.$t("Mobile number"),prefix:p.mobile_prefix,mask:"##################",rules:[l=>l&&l.length>0||e.$t("This field is required"),l=>l.length<=15||e.$t("Please use maximum 15 characters")],disable:p.loading},null,8,["modelValue","label","prefix","rules","disable"]),(0,a.bF)(f,{type:"password","bg-color":"mygrey",color:"warning",outlined:"",modelValue:p.password,"onUpdate:modelValue":l[4]||(l[4]=e=>p.password=e),label:e.$t("Password"),rules:[l=>l&&l.length>0||e.$t("This field is required"),_.isValidPassword],disable:p.loading},null,8,["modelValue","label","rules","disable"]),(0,a.bF)(f,{type:"password","bg-color":"mygrey",color:"warning",outlined:"",modelValue:p.cpassword,"onUpdate:modelValue":l[5]||(l[5]=e=>p.cpassword=e),label:e.$t("Confirm Password"),rules:[l=>l&&l.length>0||e.$t("This field is required"),_.isValidPassword],disable:p.loading},null,8,["modelValue","label","rules","disable"]),1==p.settings.merchant_signup_enabled_terms?((0,a.uX)(),(0,a.CE)("div",b,[(0,a.Lk)("p",{class:"font12 text-weight-thin",innerHTML:p.settings.merchant_signup_terms},null,8,g)])):(0,a.Q3)("",!0),(0,a.bF)(w,{type:"submit",unelevated:"",rounded:"",color:"warning","text-color":"black","no-caps":"",class:"full-width",label:e.$t("Submit"),size:"17px",loading:p.loading},null,8,["label","loading"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])])])),_:1})}var p=s(2911),_=s(9818);const f={name:"CompleteRegistration",data(){return{loading:!1,mobile_prefix:"",settings:[],first_name:"",last_name:"",email_address:"",mobile_number:"",password:"",cpassword:""}},mounted(){this.getCustomerInfo()},methods:{isValidEmail(e){const l=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return l.test(e)||this.$t("Please enter valid email address")},isValidPassword(){return this.password===this.cpassword||this.$t("Confirm password does not macth with password")},getCustomerInfo(){this.loading=!0,p.A.getCustomerInfo(this.$route.query.uuid).then((e=>{this.first_name=e.details.firstname,this.last_name=e.details.lastname,this.email_address=e.details.email_address,this.mobile_prefix=e.details.options.phonecode,this.settings=e.details.options})).catch((e=>{p.A.notify("negative",e,"error_outline",this.$q)})).then((e=>{this.loading=!1}))},obSubmit(){const e={local_id:p.A.getStorage("local_id"),client_uuid:this.$route.query.uuid,firstname:this.first_name,lastname:this.last_name,mobile_prefix:this.mobile_prefix,mobile_number:this.mobile_number,password:this.password,cpassword:this.cpassword};p.A.completeSocialSignup(e).then((e=>{_.A.setUser(e.details.user_data),_.A.setToken(e.details.user_token),this.$router.push("/menu")})).catch((e=>{p.A.notify("negative",e,"error_outline",this.$q)})).then((e=>{}))}}};var w=s(2807),$=s(7716),k=s(3316),y=s(4189),V=s(9200),q=s(9270),v=s(6384),A=s(8582),x=s.n(A);const F=(0,w.A)(f,[["render",h]]),L=F;x()(f,"components",{QPage:$.A,QCard:k.A,QCardSection:y.A,QForm:V.A,QInput:q.A,QBtn:v.A})}}]);