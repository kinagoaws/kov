"use strict";(globalThis["webpackChunkcom_kinago_single"]=globalThis["webpackChunkcom_kinago_single"]||[]).push([[28],{28:(e,t,a)=>{a.r(t),a.d(t,{default:()=>X});var s=a(1758),l=a(8790);const i={class:"row justify-center q-pa-md"},o={class:"col-md-9 col-12"},r={class:"text-center"},n={class:"no-margin text-weight-bold q-pb-sm"},d={class:"text-weight-bold"},c={class:"row q-col-gutter-md"},m={class:"col-xs-12 col-sm-6 col-md-6"},u={class:"col-xs-12 col-sm-6 col-md-6"},g={class:"text-weight-bold"},p={class:"row q-col-gutter-md q-mb-lg"},h={class:"col-xs-12 col-sm-6 col-md-6"},b={class:"col-xs-12 col-sm-6 col-md-6"},_={class:"row q-col-gutter-md"},w={class:"col-xs-12 col-sm-6 col-md-6"},f={class:"col-xs-12 col-sm-6 col-md-6"},k={key:0,class:"q-pl-md q-pr-md q-pt-md q-mb-sm"},y={key:1,class:"q-pl-md q-pr-md q-pt-md"},v=["innerHTML"];function S(e,t,a,S,V,$){const q=(0,s.g2)("LocationNav"),x=(0,s.g2)("q-input"),L=(0,s.g2)("componentsRecaptcha"),A=(0,s.g2)("q-btn"),F=(0,s.g2)("q-form"),C=(0,s.g2)("q-card-section"),T=(0,s.g2)("q-card"),E=(0,s.g2)("q-page");return(0,s.uX)(),(0,s.Wv)(E,{padding:""},{default:(0,s.k6)((()=>[(0,s.bF)(q),(0,s.Lk)("div",i,[(0,s.Lk)("div",o,[(0,s.Lk)("div",r,[(0,s.Lk)("h4",n,(0,l.v_)(e.$t("Let's get started")),1),(0,s.Lk)("p",null,(0,l.v_)(e.$t("Tell us more about you so we can give you a better delivery experience"))+". ",1)]),V.page_ready?((0,s.uX)(),(0,s.Wv)(T,{key:0,flat:""},{default:(0,s.k6)((()=>[(0,s.bF)(C,null,{default:(0,s.k6)((()=>[(0,s.bF)(F,{onSubmit:$.obSubmit,autocomplete:"off"},{default:(0,s.k6)((()=>[(0,s.Lk)("h5",d,(0,l.v_)(e.$t("User information")),1),(0,s.Lk)("div",c,[(0,s.Lk)("div",m,[(0,s.bF)(x,{"bg-color":"mygrey",color:"warning",outlined:"",modelValue:V.first_name,"onUpdate:modelValue":t[0]||(t[0]=e=>V.first_name=e),label:e.$t("First name"),rules:[t=>t&&t.length>0||e.$t("This field is required")]},null,8,["modelValue","label","rules"])]),(0,s.Lk)("div",u,[(0,s.bF)(x,{"bg-color":"mygrey",color:"warning",outlined:"",modelValue:V.last_name,"onUpdate:modelValue":t[1]||(t[1]=e=>V.last_name=e),label:e.$t("Last name"),rules:[t=>t&&t.length>0||e.$t("This field is required")]},null,8,["modelValue","label","rules"])])]),(0,s.Lk)("h5",g,(0,l.v_)(e.$t("Login & Contact Details")),1),(0,s.Lk)("div",p,[(0,s.Lk)("div",h,[(0,s.bF)(x,{"bg-color":"mygrey",color:"warning",outlined:"",modelValue:V.email_address,"onUpdate:modelValue":t[2]||(t[2]=e=>V.email_address=e),label:e.$t("Email"),rules:[t=>!!t||e.$t("this field is required"),$.isValidEmail]},null,8,["modelValue","label","rules"])]),(0,s.Lk)("div",b,[(0,s.bF)(x,{"bg-color":"mygrey",color:"warning",outlined:"",modelValue:V.mobile_number,"onUpdate:modelValue":t[3]||(t[3]=e=>V.mobile_number=e),label:e.$t("Mobile number"),prefix:S.SettingsStore.settings_data.phone_data.phonecode,mask:"##################",rules:[t=>t&&t.length>0||e.$t("This field is required"),t=>t.length<=15||e.$t("Please use maximum 15 characters")]},null,8,["modelValue","label","prefix","rules"])])]),(0,s.Lk)("div",_,[(0,s.Lk)("div",w,[(0,s.bF)(x,{type:"password","bg-color":"mygrey",color:"warning",outlined:"",modelValue:V.password,"onUpdate:modelValue":t[4]||(t[4]=e=>V.password=e),label:e.$t("Password"),rules:[t=>t&&t.length>0||e.$t("This field is required"),$.isValidPassword]},null,8,["modelValue","label","rules"])]),(0,s.Lk)("div",f,[(0,s.bF)(x,{type:"password","bg-color":"mygrey",color:"warning",outlined:"",modelValue:V.cpassword,"onUpdate:modelValue":t[5]||(t[5]=e=>V.cpassword=e),label:e.$t("Confirm password"),rules:[t=>t&&t.length>0||e.$t("This field is required"),$.isValidPassword]},null,8,["modelValue","label","rules"])])]),V.loading?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[S.SettingsStore.settings_data.captcha_enabled?((0,s.uX)(),(0,s.CE)("div",k,[(0,s.bF)(L,{ref:"recapcha",sitekey:S.SettingsStore.settings_data.captcha_site_key,is_enabled:S.SettingsStore.settings_data.captcha_enabled,language_code:S.SettingsStore.settings_data.captcha_lang,size:"normal",theme:"light",tabindex:0,onVerify:$.recaptchaVerified,onExpire:$.recaptchaExpired,onFail:$.recaptchaFailed},null,8,["sitekey","is_enabled","language_code","onVerify","onExpire","onFail"])])):(0,s.Q3)("",!0)],64)),S.SettingsStore.settings_data.signup_enabled_terms?((0,s.uX)(),(0,s.CE)("div",y,[(0,s.Lk)("p",{class:"text-caption",innerHTML:S.SettingsStore.settings_data.signup_terms},null,8,v)])):(0,s.Q3)("",!0),(0,s.bF)(A,{type:"submit",unelevated:"",rounded:"",color:"warning","text-color":"black","no-caps":"",class:"full-width",label:e.$t("Create account"),size:"lg",loading:V.loading,dense:e.$q.screen.lt.sm},null,8,["label","loading","dense"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})):(0,s.Q3)("",!0)])])])),_:1})}var V=a(2911),$=a(9818),q=a(2302);const x={name:"Signup",components:{LocationNav:(0,s.$V)((()=>Promise.all([a.e(4121),a.e(996),a.e(7691)]).then(a.bind(a,5897)))),componentsRecaptcha:(0,s.$V)((()=>a.e(3281).then(a.bind(a,3281))))},data(){return{first_name:"",last_name:"",email_address:"",mobile_prefix:"",mobile_number:"",password:"",cpassword:"",loading:!1,settings:[],recaptcha_response:[],page_ready:!1}},setup(){const e=(0,q.C)();return{SettingsStore:e}},mounted(){Object.keys(this.SettingsStore.settings_data).length>0?this.page_ready=!0:this.$watch((()=>this.SettingsStore.$state.settings_data),((e,t)=>{this.page_ready=!0}))},methods:{isValidEmail(e){const t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(e)||"Please enter valid email address"},isValidPassword(){if(!V.A.empty(this.password)&&!V.A.empty(this.cpassword))return this.password===this.cpassword||"Confirm password does not macth with password"},recaptchaVerified(e){this.recaptcha_response=e},recaptchaExpired(){this.SettingsStore.settings_data.captcha_enabled&&this.$refs.recapcha.reset()},recaptchaFailed(){},obSubmit(){this.loading=!0;const e={local_id:V.A.getStorage("local_id"),first_name:this.first_name,last_name:this.last_name,email_address:this.email_address,mobile_prefix:this.mobile_prefix,mobile_number:this.mobile_number,password:this.password,cpassword:this.cpassword,recaptcha_response:this.recaptcha_response};V.A.registerUser(e).then((e=>{!0===e.details.verify?this.$router.push({path:"/account/verify",query:{uuid:e.details.uuid}}):($.A.setUser(e.details.user_data),$.A.setToken(e.details.user_token),this.$router.push("/menu"))})).catch((e=>{V.A.notify("negative",e,"error_outline",this.$q)})).then((e=>{this.loading=!1}))}}};var L=a(2807),A=a(7716),F=a(3316),C=a(4189),T=a(9200),E=a(9270),Q=a(6384),U=a(8582),P=a.n(U);const z=(0,L.A)(x,[["render",S]]),X=z;P()(x,"components",{QPage:A.A,QCard:F.A,QCardSection:C.A,QForm:T.A,QInput:E.A,QBtn:Q.A})}}]);