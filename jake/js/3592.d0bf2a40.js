"use strict";(globalThis["webpackChunkcom_kinago_single"]=globalThis["webpackChunkcom_kinago_single"]||[]).push([[3592],{3592:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var i=s(1758);const a={style:{display:"none"}};function h(e,t,s,h,n,r){return(0,i.uX)(),(0,i.CE)("div",a)}var n=s(2911),r=s(781);const o={name:"ComponentsRealtime",props:["getevent"],mounted(){this.getRealtime()},data(){return{data:[],pusher:void 0,channel:void 0}},methods:{getRealtime(){n.A.getRealtime(this.getevent).then((e=>{this.data=e.details,this.initProvider()})).catch((e=>{})).then((e=>{}))},initProvider(){switch(this.data.realtime_provider){case"pusher":(0,r.k0)("https://js.pusher.com/7.0/pusher.min.js").then((()=>{this.initPusher()})).catch((()=>{console.debug("failed loading realtime script")}));break}},initPusher(){Pusher.logToConsole=!1,this.pusher=new Pusher(this.data.pusher_key,{cluster:this.data.pusher_cluster}),this.channel=this.pusher.subscribe(this.data.channel),this.channel.bind(this.data.event,(e=>{this.$emit("afterReceive",e)}))}}};var l=s(2807);const c=(0,l.A)(o,[["render",h]]),u=c}}]);