const someWords=JSON.parse(some_words);const LocaleLang={el:{pagination:{pagesize:"",total:someWords.total}}};const app_suggested=Vue.createApp({components:{"items-modal":ItemsModal},data(){return{loading:false,list_data:null,current_page:1,query:null,loading_search:false,filter_featured:false,filter_by_list:null,filter_by:null,filter_all_featured:null,page_size:parseInt(list_limit),pageSizes:JSON.parse(paginationSize),modal:false,selectable:undefined,selected_rows:null}},mounted(){this.getItemList(1)},computed:{getItems(){if(this.list_data){return this.list_data.items?this.list_data.items:null}return null},hasItems(){return this.list_data?.items&&Object.keys(this.list_data.items).length>0},getTotalItems(){if(this.list_data){return this.list_data.total_items?this.list_data.total_items:null}return 0},getTotalDisplay(){if(this.list_data){return this.list_data.total_display_items?this.list_data.total_display_items:null}return""},hasSelectedRows(){if(!this.selected_rows){return false}if(Object.keys(this.selected_rows).length>0){return true}return false}},methods:{handleSelectionChange(t){this.selected_rows=t},StatusColor(t){if(t=="rejected"){return"warning"}else if(t=="approved"){return"success"}else{return"primary"}},showModal(){this.$refs.items_modal.showModal()},getItemList(t){this.loading=true;axios.get(apibackend+"/SuggestedItems?page="+t+"&page_size="+this.page_size).then(t=>{if(t.data.code==1){this.list_data=t.data.details;this.current_page=t.data.details.current_page}else{this.list_data=null}}).catch(t=>{console.error("Error:",t)}).then(t=>{this.loading=false})},afterSelecteditems(t){this.modal=true;axios.post(apibackend+"/SaveSuggestedItems",{items:t},{headers:{"Content-Type":"application/json"}}).then(t=>{if(t.data.code==1){this.getItemList(1);ElementPlus.ElNotification({title:"",message:t.data.msg,position:"bottom-right",type:"success"})}else{ElementPlus.ElNotification({title:"",message:t.data.msg,position:"bottom-right",type:"warning"})}}).catch(t=>{console.error(t)}).then(()=>{this.modal=false})},handleDelete(t,e){this.modal=true;axios.get(apibackend+"/DeleteSuggested?id="+e.id).then(t=>{if(t.data.code==1){this.getItemList(1);ElementPlus.ElNotification({title:"",message:t.data.msg,position:"bottom-right",type:"success"})}else{ElementPlus.ElNotification({title:"",message:t.data.msg,position:"bottom-right",type:"warning"})}}).catch(t=>{console.error("Error:",t)}).then(t=>{this.modal=false})},deleteSelectedRows(){this.modal=true;axios.post(apibackend+"/DeleteSuggestedRows",{items:this.selected_rows},{headers:{"Content-Type":"application/json"}}).then(t=>{if(t.data.code==1){this.selected_rows=null;this.getItemList(1);ElementPlus.ElNotification({title:"",message:t.data.msg,position:"bottom-right",type:"success"})}else{ElementPlus.ElNotification({title:"",message:t.data.msg,position:"bottom-right",type:"warning"})}}).catch(t=>{console.error(t)}).then(()=>{this.modal=false})}}});app_suggested.use(ElementPlus,{locale:LocaleLang});const vm_suggested=app_suggested.mount("#vue-suggested-items");